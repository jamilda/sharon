/*! identity - v1.3.7 - 2017-03-08 10:03:00 */!function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function d(a,b){var c=a.parentNode;return c===document.documentElement?null:a.ownerDocument!==document?null:c===b?c:d(c,b)}},{}],2:[function(a,b,c){b.exports={on:function(a,b,c){var d,e,f;if(!a||!b)throw"Error: First argument must be an element";for(d=a.addEventListener?"addEventListener":"attachEvent",e=a.addEventListener?"":"on",b=b.replace(/^\s+|\s+$/g,"").split(" "),f=b.length;f--;)a[d](e+b[f],c,!1)},off:function(a,b,c){var d,e;d=a.addEventListener?"removeEventListener":"detachEvent",e=a.addEventListener?"":"on",a[d](e+b,c)}}},{}],3:[function(a,b,c){b.exports=function(){var b,c=a("./helperEvent");return b=function(a){var b,d,e,f=document.querySelectorAll('a[href^="#envoy/"], a[href^="#identity/"]'),g=f.length;for(e=function(c){var d;d=Array.prototype.slice.call(c.target.attributes),c.preventDefault(),a(b,d)};g--;)d=f[g],d&&1===d.nodeType&&(b=d.hash.replace("#",""),c.on(d,"click",e))},{assign:b}}()},{"./helperEvent":2}],4:[function(a,b,c){b.exports=function(a,b){return a&&"string"==typeof b&&(a.className.indexOf(b)>-1?a.className=a.className.replace(b,""):a.className=a.className.replace(/^\s+|\s+$/g,"")+" "+b),[a,b]}},{}],5:[function(a,b,c){b.exports=function(){"use strict";var a,b="https://identityssl.newscdn.com.au/media/background/",c=(window.document.createElement("div"),window.document.location.hostname.split("."),26);return a=function(a,d,e){var f,g,h=a||"HeraldSun";return"string"==typeof d&&""!==d&&(h=d),"string"==typeof e?(e=e.split(","),e[Math.floor(Math.random()*e.length)]):("string"==typeof h&&""!==h&&(f=Math.ceil(Math.random()*c),g=b+h.toString().toLowerCase()+"/"+f+".jpg"),g)},{generate:a}}()},{}],6:[function(a,b,c){b.exports=function(){"use strict";for(var a,b,c,d,e,f,g="https:",h="ssl",i=window.document.getElementsByTagName("script"),j=i.length,k="";j--;)-1!==i[j].src.search(/identity(ssl)?|envoy(ssl)?.newscdn.com.au/)&&(-1!==i[j].src.indexOf("uat")&&(k="uat"),-1!==i[j].src.indexOf("dev")&&(k="dev"));return f=g+"//"+("dev"===k?"dev.identity"+h+".newscdn.com.au":"uat"===k?"uat.identity"+h+".newscdn.com.au":"identity"+h+".newscdn.com.au"),b="dev"===k?"idp.newssit.com.au":"uat"===k?"idp.newssit.com.au":"idp.news.com.au",c="dev"===k?"saml.camsit.idmpocndm":"uat"===k?"saml.camsit.idmpocndm":"saml.cam.idmndm",e="dev"===k?"sslcam.newssit.com.au":"uat"===k?"sslcam.newssit.com.au":"sslcam.news.com.au",a={logout:"https://"+e+"/cam/logout","social-auth":"https://"+b+"/Authn/social","news-auth":"https://"+b+"/idp/Authn/rest","idp-domain":"https://"+b+"/",saml:"http://"+c+".com",acl:"http://"+d+"/remote/acl.js",identity:f,identitySSL:f.replace("http:","https:").replace(/identity(?!ssl)/,"identityssl")},{location:k,endpoints:a}}()},{}],7:[function(a,b,c){b.exports=function(){"use strict";var b,c,d,e=a("../background/background"),f=a("../../common/helperEvent"),g=a("../template/template"),h=a("./placeholder"),i=a("underscore"),j=a("./template")(g),k={"email-address-placeholder":"Email Address","password-placeholder":"Password"};"ontouchstart"in window&&"touchstart"||"click";c=window.ndm.jQuery,d=function(a,b){var c=document.querySelector(".lightbox-content");c&&"desktop"===a&&(c.style.background="url("+b()+")")},b=function(a,b){var c,g,l,m,n,o,p;p=i.extend(k,a,!0),p.camDevice="desktop"===p.device&&"pc"||"mobile"===p.device&&"msite",p.modal=JSON.parse(p.modal),b&&"logged-in"===b.status||(c=function(){return e.generate(p.site,p["background-override"]||"",p["background-imgs"]||[])},"desktop"===p.device&&(p["background-img"]=c()),n=function(a){a.preventDefault(),a.stopPropagation(),window.newscdn.envoy.publish("envoy/message/window/send",[window,{eventType:"envoy/modal/self/close"}])},o=function(a){a.preventDefault(),27===a.keyCode&&window.newscdn.envoy.publish("envoy/message/window/send",[window,{eventType:"envoy/modal/self/close"}])},m=window.document.referrer.split("#")[0],m=m.replace(/[&?]{1}identity\-[a-zA-Z0-9\-\=&%\.]+/,""),a["relay-state"]=p["relay-state"]||m,p["cancel-url"]=""!==p["cancel-url"]&&p["cancel-url"]||m,p["relay-state"]=""!==p["relay-state"]&&p["relay-state"]||m,l=-1!==p["cancel-url"].indexOf("?")&&"&"||"?",p["cancel-url"]=p["cancel-url"]+l+"identity-login-error=1",p.force=p.force&&JSON.parse(p.force)?"true":"false","string"==typeof p["relay-state-args"]&&""!==p["relay-state-args"]&&(-1!==p["relay-state"].indexOf(p["relay-state-args"])&&(p["relay-state"]=p["relay-state"].replace(p["relay-state-args"],""),p["relay-state"]=p["relay-state"].substring(0,p["relay-state"].length-1)),l=-1===p["relay-state"].indexOf("?")&&"?"||"&",p["relay-state"]=p["relay-state"]+l+p["relay-state-args"]),p.idp.saml=p.location||p.idp.saml,document.body.innerHTML=document.body.innerHTML+j["components/login/template"](p),h.run(),window.rjsSocial={require:window.rjsSocial.requirejs.config({context:"social",baseUrl:"../legacy/"}),define:window.rjsSocial.define},window.rjsSocial.require(["main"]),g=document.getElementById("identity-modal-btn-close"),f.on(g,"click",n),f.on(g,"touchstart",n),f.on(window,"keyup",o),window.newscdn.envoy.subscribe("envoy/identity/login/config",function(b){var c=i.extend(a,b),d=c["relay-state"],e=c["relay-state-args"];"string"==typeof e&&""!==e&&(-1!==d.indexOf(e)&&(d=d.replace(e,""),d=d.substring(0,d.length-1)),l=-1===d.indexOf("?")&&"?"||"&",d=d+l+e),window.document.getElementById("relayState1").value=d,window.document.getElementById("relayState2").value=d}),window.newscdn.envoy.subscribe("identity/modal/hidden",function(){window.newscdn.envoy.publish("envoy/identity/login/cancelled"),d(p.device,c)}),window.newscdn.envoy.subscribe("envoy/identity/login/socialSuccess",function(){window.newscdn.envoy.publish("envoy/identity/login/reload")}))},window.newscdn.envoy.subscribe("identity/component/login/loaded",function(a,c){b(a,c)})}()},{"../../common/helperEvent":2,"../background/background":5,"../template/template":17,"./placeholder":8,"./template":9,underscore:41}],8:[function(a,b,c){b.exports={run:function(){var b=a("underscore");if(!("placeholder"in document.createElement("input"))){var c=document.getElementsByTagName("input");b.each(c,function(a){a.getAttribute("placeholder")&&(a.value=a.getAttribute("placeholder"),a.onfocus=function(){this.value===this.getAttribute("placeholder")&&(this.value="")},a.onblur=function(){""===this.value&&(this.value=this.getAttribute("placeholder"))})})}}}},{underscore:41}],9:[function(a,b,c){b.exports=function(a){return this.JST=this.JST||{},this.JST["components/login/template"]=a.template(function(a,b,c,d,e){function f(a,b){return'\n            <button id="identity-modal-btn-close">x</button>\n        '}function g(a,b){var d,e,f="";return f+="\n                            ",e={hash:{},inverse:v.noop,fn:v.program(4,h,b),data:b},(d=c.markdown)?d=d.call(a,e):(d=a.markdown,d=typeof d===u?d.apply(a):d),c.markdown||(d=w.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n                        "}function h(a,b){var d;return(d=c["title-body-text"])?d=d.call(a,{hash:{},data:b}):(d=a["title-body-text"],d=typeof d===u?d.apply(a):d),d||0===d?d:""}function i(a,b){var d,e,f="";return f+='\n                <div class="ci-header">\n\n                    <h4 class="heading">',(d=c["social-title"])?d=d.call(a,{hash:{},data:b}):(d=a["social-title"],d=typeof d===u?d.apply(a):d),f+=x(d)+"</h4>\n                    ",d=c["if"].call(a,a["login-body-text"],{hash:{},inverse:v.noop,fn:v.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+='\n                    <form action="'+x((d=a.idp,d=null==d||d===!1?d:d.socialAuth,typeof d===u?d.apply(a):d))+'" method="GET" id=\'identity-social-login-form\'>\n                        <fieldset>\n                            <legend class="hidden"><span class="legend">Social Login</span></legend>\n                            <div class="form-item fpos-1 frpos-3">\n                                <fieldset class="form-radio-group">\n                                    <legend class="hidden">\n                                        <span class="legend-text">Social Network\n                                            <span class="required">\n                                                <abbr title="required">*</abbr>\n                                            </span>\n                                        </span>\n                                    </legend>\n                                    <div class="form-radio-item signin signin-facebook">\n                                        <input type="radio" id="service-facebook" value="facebook.com" name="service" class="radio required-field">\n                                        <label for="service-facebook" class="radio">\n                                            <span class="label-text">Login with Facebook</span>\n                                        </label>\n                                    </div>\n                                    <div class="form-radio-item signin signin-twitter">\n                                        <input type="radio" id="service-twitter" value="twitter.com" name="service" class="radio required-field">\n                                        <label for="service-twitter" class="radio">\n                                            <span class="label-text">Login with Twitter</span>\n                                        </label>\n                                    </div>\n                                     <div class="form-radio-item signin signin-linkedin">\n                                        <input type="radio" id="service-linkedin" value="linkedin.com" name="service" class="radio required-field">\n                                        <label for="service-linkedin" class="radio">\n                                            <span class="label-text">Login with LinkedIn</span>\n                                        </label>\n                                    </div>\n                                    <div class="form-radio-item signin signin-google">\n                                        <input type="radio" id="service-google" value="google.com" name="service" class="radio required-field">\n                                        <label for="service-google" class="radio">\n                                            <span class="label-text">Login with Google</span>\n                                        </label>\n                                    </div>\n                                </fieldset>\n                            </div>\n                            <div class="form-item fipos-3 frpos-1 form-item-submit">\n                                <input type="hidden" value="',(e=c.camDevice)?e=e.call(a,{hash:{},data:b}):(e=a.camDevice,e=typeof e===u?e.apply(a):e),f+=x(e)+'" name="channel" />\n                                <input type="hidden" value="',(e=c.site)?e=e.call(a,{hash:{},data:b}):(e=a.site,e=typeof e===u?e.apply(a):e),(e||0===e)&&(f+=e),f+='" name="site" />\n                                <input type="hidden" value="',(e=c["cancel-url"])?e=e.call(a,{hash:{},data:b}):(e=a["cancel-url"],e=typeof e===u?e.apply(a):e),f+=x(e)+'" name="cancelUrl" />\n                                <input type="hidden" value="',(e=c["relay-state"])?e=e.call(a,{hash:{},data:b}):(e=a["relay-state"],e=typeof e===u?e.apply(a):e),f+=x(e)+'" name="relayState" id="relayState1"/>\n                                <input type="hidden" value="'+x((d=a.idp,d=null==d||d===!1?d:d.saml,typeof d===u?d.apply(a):d))+'" name="location" />\n                            </div><!-- // .form-item -->\n                        </fieldset>\n                    </form>\n                </div>\n                <span class="divider"></span>\n                <span class="divider-text">or</span>\n                '}function j(a,b){var d,e,f="";return f+="\n                        ",e={hash:{},inverse:v.noop,fn:v.program(8,k,b),data:b},(d=c.markdown)?d=d.call(a,e):(d=a.markdown,d=typeof d===u?d.apply(a):d),c.markdown||(d=w.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n                    "}function k(a,b){var d;return(d=c["login-body-text"])?d=d.call(a,{hash:{},data:b}):(d=a["login-body-text"],d=typeof d===u?d.apply(a):d),d||0===d?d:""}function l(a,b){var d,e="";return e+="\n                            ",d=c["if"].call(a,a.errorMessage,{hash:{},inverse:v.program(13,n,b),fn:v.program(11,m,b),data:b}),(d||0===d)&&(e+=d),e+="\n                        "}function m(a,b){var d,e="";return e+="\n                                <legend class='identity-error-container serverError'>",(d=c.errorMessage)?d=d.call(a,{hash:{},data:b}):(d=a.errorMessage,d=typeof d===u?d.apply(a):d),e+=x(d)+"</legend>\n                            "}function n(a,b){return"\n                                <legend class='identity-error-container serverError'>An error has occurred</legend>\n                            "}function o(a,b){var d,e,f="";return f+="\n                                            ",e={hash:{},inverse:v.noop,fn:v.program(16,p,b),data:b},(d=c.markdown)?d=d.call(a,e):(d=a.markdown,d=typeof d===u?d.apply(a):d),c.markdown||(d=w.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n                                        "}function p(a,b){var d;return(d=c["remember-me-text"])?d=d.call(a,{hash:{},data:b}):(d=a["remember-me-text"],d=typeof d===u?d.apply(a):d),d||0===d?d:""}function q(a,b){return"\n                                            Keep me logged in on this device.<br>(Uncheck if you are using a shared device).\n                                        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s,t="",u="function",v=this,w=c.blockHelperMissing,x=this.escapeExpression;return t+='\n    <div class="lightbox-content device-',(r=c.device)?r=r.call(b,{hash:{},data:e}):(r=b.device,r=typeof r===u?r.apply(b):r),t+=x(r)+'" style="background: url(\'',(r=c["background-img"])?r=r.call(b,{hash:{},data:e}):(r=b["background-img"],r=typeof r===u?r.apply(b):r),t+=x(r)+"');\">\n        \n        ",r=c["if"].call(b,b.modal,{hash:{},inverse:v.noop,fn:v.program(1,f,e),data:e}),(r||0===r)&&(t+=r),t+='\n        <div id="header-nav-login-lightbox">\n            \n            <div class="content-item first">\n                <div class="ci-header">\n                    <span class="banner">\n                        <span class="logo">',(r=c.title)?r=r.call(b,{hash:{},data:e}):(r=b.title,r=typeof r===u?r.apply(b):r),t+=x(r)+"</span>\n                        ",r=c["if"].call(b,b["title-body-text"],{hash:{},inverse:v.noop,fn:v.program(3,g,e),data:e}),(r||0===r)&&(t+=r),t+='\n                    </span>\n                    <h3>Log in</h3>\n                </div>\n            </div>\n\n            <div class="content-item last identity-login-form">\n                \n                ',r=c["if"].call(b,b.socialEnabled,{hash:{},inverse:v.noop,fn:v.program(6,i,e),data:e}),(r||0===r)&&(t+=r),t+='\n                    <div class="ci-content">\n\n                    <h4 class="heading">',(r=c["newsplus-title"])?r=r.call(b,{hash:{},data:e}):(r=b["newsplus-title"],r=typeof r===u?r.apply(b):r),t+=x(r)+'</h4>\n                    \n                    <form action="'+x((r=b.idp,r=null==r||r===!1?r:r.newsAuth,typeof r===u?r.apply(b):r))+'" method="POST" id=\'identity-newsplus-login-form\' target="_parent">\n                        ',s=c["if"].call(b,b.errorCode,{hash:{},inverse:v.noop,fn:v.program(10,l,e),data:e}),(s||0===s)&&(t+=s),t+='\n                        <fieldset>\n                            <legend class="hidden"><span class="legend">User Login</span></legend>\n                            <div class="form-item fipos-1">\n                                \n                                <legend class=\'identity-error-container username hidden\'></legend>\n                                <input type="email" id="cam_username" name="username" data-validation="email" class="required-field email"  placeholder="',(s=c["email-address-placeholder"])?s=s.call(b,{hash:{},data:e}):(s=b["email-address-placeholder"],s=typeof s===u?s.apply(b):s),(s||0===s)&&(t+=s),t+='">\n                            </div>\n                            <div class="form-item fipos-2">\n                                <legend class=\'identity-error-container password hidden\'></legend>\n                                <input type="password" id="cam_password" name="password" data-validation="password" class="required-field password" placeholder="',(s=c["password-placeholder"])?s=s.call(b,{hash:{},data:e}):(s=b["password-placeholder"],s=typeof s===u?s.apply(b):s),(s||0===s)&&(t+=s),t+='">\n                            </div>\n                            <div class="form-item fipos-3">\n                                <div class="form-checkbox-item">\n                                    <input type="checkbox" id="cam_remember_me" name="remember_me" checked="checked">\n                                    <label for="cam_remember_me">\n                                        ',s=c["if"].call(b,b["remember-me-text"],{hash:{},inverse:v.program(18,q,e),fn:v.program(15,o,e),data:e}),(s||0===s)&&(t+=s),t+='</label>\n                                </div>\n                            </div>\n                            <div class="form-item fipos-4 form-item-submit">\n                                <input type="hidden" value="',(s=c.camDevice)?s=s.call(b,{hash:{},data:e}):(s=b.camDevice,s=typeof s===u?s.apply(b):s),t+=x(s)+'" name="channel" />\n                                <input type="hidden" value="',(s=c.site)?s=s.call(b,{hash:{},data:e}):(s=b.site,s=typeof s===u?s.apply(b):s),(s||0===s)&&(t+=s),t+='" name="site" />\n                                <input type="hidden" value="',(s=c["cancel-url"])?s=s.call(b,{hash:{},data:e}):(s=b["cancel-url"],s=typeof s===u?s.apply(b):s),t+=x(s)+'" name="cancelUrl" />\n                                <input type="hidden" value="',(s=c["relay-state"])?s=s.call(b,{hash:{},data:e}):(s=b["relay-state"],s=typeof s===u?s.apply(b):s),t+=x(s)+'" name="relayState" id="relayState2"/>\n                                <input type="hidden" value="'+x((r=b.idp,r=null==r||r===!1?r:r.saml,typeof r===u?r.apply(b):r))+'" name="location" />\n                                <button type="submit" class="button-submit"><span>Log in</span></button>\n                            </div>\n                        </fieldset>\n                    </form>\n                </div>\n                <div class="ci-related">\n                    <ul class="related">\n                        <li><a class="password" target="_top" href="',(s=c["forgot-password-url"])?s=s.call(b,{hash:{},data:e}):(s=b["forgot-password-url"],s=typeof s===u?s.apply(b):s),t+=x(s)+'">',(s=c["forgot-password-text"])?s=s.call(b,{hash:{},data:e}):(s=b["forgot-password-text"],s=typeof s===u?s.apply(b):s),t+=x(s)+"</a></li>\n                        <li>",(s=c["subscribe-text"])?s=s.call(b,{hash:{},data:e}):(s=b["subscribe-text"],s=typeof s===u?s.apply(b):s),t+=x(s)+' <a target="_top" href="',(s=c["subscribe-url"])?s=s.call(b,{hash:{},data:e}):(s=b["subscribe-url"],s=typeof s===u?s.apply(b):s),t+=x(s)+'">',(s=c["subscribe-url-text"])?s=s.call(b,{hash:{},data:e}):(s=b["subscribe-url-text"],s=typeof s===u?s.apply(b):s),t+=x(s)+"</a></li></ul>\n                </div>\n            </div>\n        </div>\n    </div>"}),this.JST}},{}],10:[function(a,b,c){b.exports=function(){"use strict";var b,c=a("underscore");return b=function(a){var b,d=a["relay-state-args"]||"",e=a["relay-state"]||window.document.referrer,f=-1===e.indexOf("?")&&"?"||"&";return a.aclResponse=a.aclResponse||{},window.ndm=window.ndm||{},b=window.ndm,b.cam=b.cam||{},b.idp=b.idp||{},b.cam.userDetails=b.cam.userDetails||{},b.cam.userDetails.linkStatus=b.cam.userDetails.linkStatus||"",b.cam.userDetails.linkedProfiles=b.cam.userDetails.linkedProfiles||[],b.cam.userDetails.activityEnable=b.cam.userDetails.activityEnable||!1,b.cam.status=b.cam.status||"",b.idp.isWhiteLabel=!1,b.cam.logoutLink=b.cam.logoutLink||"",b.cam.myAccountLink=b.cam.myAccountLink||"",b.idp.domain=a.idp.domain,b.idp.location=a.location||a.idp.saml,b.idp.socialEnabled=a.toggles.socialEnabled,b.cam.paywalldisabled=a.toggles.paywalldisabled,b.idp.activity=!0,b.idp.frictionless=!1,b.idp.siteame=b.idp.sitename||{},b.idp.sitename=a.site||"",b.idp.channel="desktop"===a.device&&"pc"||"msite"===a.device&&"msite"||"mobile"===a.device&&"msite",b.idp.registrationUrl=a["signupfinal-url"]||a.basessl+"/"+a.version+"/views/signupfinal.html",b.idp.subscriptionUrl=a.basessl+"/"+a.version+"/views/subscribe.html",b.idp.linkerror=a.basessl+"/"+a.version+"/views/linkerror.html",b.idp.supportedNetworks=b.idp.supportedNetworksLogin=["facebook","twitter","linkedin","google"],b.idp.force=a.force&&JSON.parse(a.force)?"true":"false",b.idp.disabledNetworks=c.difference(b.idp.supportedNetworks,a.toggles.enabledNetworks),b.idp.supportedNetworksShare=["facebook","twitter","linkedin"],b.idp.supportedSocialiseNetworks=["google","reddit","email"],b.idp.relaystate=a.basessl+"/"+a.version+"/views/success.html",b.idp.socialRelayState=a["social-relay-state"]||b.idp.relaystate,b.idp.cancel=a["cancel-url"],b.idp.cancel=b.idp.cancel||a.basessl+"/"+a.version+"/views/signinerror.html",("mobile"===a.device||"msite"===a.device)&&(d&&-1===e.indexOf(d)&&(e=e+f+d),b.idp.relaystate=e),b.cam.loginErrorCode=a.errorCode||!1,b},{init:b}}()},{underscore:41}],11:[function(a,b,c){b.exports=function(){"use strict";var a;return a=function(a){for(var b,c,d=a&&a.length||0,e=[];d--;)b=document.createElement("link"),c=document.getElementsByTagName("head")[0],b.setAttribute("type","text/css"),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a[d]),c.appendChild(b),e.push(b);return e},{attach:a}}()},{}],12:[function(a,b,c){b.exports=function(){"use strict";a("../../../envoy/dist/envoy"),a("../login/login"),a("../ninbar/ninbar"),a("../rego/rego");var b,c,d,e,f,g,h,i,j,k,l,m,n,o=a("underscore"),p=a("./adaptor"),q=a("loglevel"),r=a("./css"),s=a("domready");c={local:window.newscdn&&window.newscdn.envoy},l=/ncenvoy-component-([a-z]+)/,i=document.URL.split("#")[1]||"",j=document.URL.split("#")[0]||"",k=document.referrer.split("#")[0]||"",f=window.document.referrer||"",e=window.document.referrer.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/)||[],e=e[0]||"",n=window.document.location.search.match(/component=([a-z]*)/),n=n&&n[1]||"",g=window.document.location.search.match(/device=([a-z]*)/),g=g&&g[1]||"";try{m=window.frameElement.id}catch(t){m=i.match(/([a-zA-Z0-9\-]+)$/),m=m&&m[1]}b=function(a,b){b=b||{};var c,d,e,i,j=o.clone(b),k=j.aclResponse;o.extend(window.ndm,p.init(j)),d=j&&j.type||n,j.device=j&&j.device||g,d||q.error("Error: Component name not passed into iframe"),j.device="pc"===j.device&&"desktop"||j.device,j.isMobile="mobile"===j.device||"msite"===j.device,j.iframeId=h,j.parentLocation=f,j.theme=c&&c.theme||"base",j.paywallEnabled=j.toggles&&j.toggles.paywallEnabled,j.socialEnabled=j.toggles&&j.toggles.socialEnabled,e=j.basessl+"/"+j.version+"/views/themes/css/"+j.theme+"/"+j.device+".css",j.classes=j.classes&&j.classes.replace(/^\s+|\s+$/g,"")||"",j.classes=j.classes+" "+j.site.toLowerCase(),j.classes=j.classes+" "+j.device.toLowerCase(),j.classes=j.classes+" "+j.aclResponse.status.toLowerCase(),j.classes=j.classes+" "+(j.toggles.paywallEnabled&&"paywall-enabled"||"paywall-disabled"),j.classes=j.classes+" "+(j.toggles.socialEnabled&&"social-enabled"||"social-disabled"),i=window.document.body.className?window.document.body.className+" ":"",window.document.body.className=i+j.classes,j.css=j.css||[],"string"==typeof j.css&&""!==j.css&&(j.css=j.css.split(",")||[j.css]),("undefined"==typeof j.defaultcss||j.defaultcss===!0)&&j.css.push(e),r.attach(j.css),window.newscdn.envoy.subscribe("identity/"+a+"/css/load",function(a){a.attach(j.css)}),window.newscdn.envoy.publish("identity/component/"+j.type+"/loaded",[j,k])},d=function(a){a=a||"",0===j.indexOf(k)||""===k?window.top.newscdn.envoy.publish("identity/component/settings/request",[a]):(window.newscdn.envoy.publish("envoy/message/window/listen",[[e,window.location.origin]]),window.newscdn.envoy.subscribe("envoy/message/window/receive",function(a){var b=a&&a.eventData||[];a&&a.eventType&&(q.debug("Debug: Re-publishing event type:"+a.eventType+" and passing data: ",b),b instanceof Array||(q.error("Data passed into the iframe is not an array!"),b=[b]),window.newscdn.envoy.publish(a.eventType,b||[]))}),window.newscdn.envoy.publish("envoy/message/window/send",[window,{eventType:"identity/component/settings/request",eventData:a}])),window.newscdn.envoy.unsubscribe(d)},s(function(){window.newscdn.envoy.subscribe("identity/"+m+"/settings/response",b),d(m)})}()},{"../../../envoy/dist/envoy":18,"../login/login":7,"../ninbar/ninbar":13,"../rego/rego":15,"./adaptor":10,"./css":11,domready:24,loglevel:37,underscore:41}],13:[function(a,b,c){b.exports=function(){"use strict";var b,c=a("../template/template"),d=a("../../common/helperEvent"),e=(a("../../common/helperClosest"),a("../../common/toggleClass"),a("./template")(c)),f=a("../env/env"),g=a("../../common/linkEvents"),h=a("underscore"),i="click",j=!1;-1===navigator.userAgent.indexOf("PhantomJS")&&"ontouchstart"in window&&(j=!0),b=function(a,b){var c,k,l,m,n,o,p,q,r,s,t,u=window.top.newscdn.envoy.config("identity.login.relay-state-args"),v=window.top&&window.top.newscdn&&window.top.newscdn.envoy||!1,w=v&&v.publish,x=window.top.document,y=document.URL.split("#")[0],z=!1;a=h.extend(a,{userDetails:b.userDetails||{},loggedIn:"logged-in"===b.status||!1,memtype:b.memtype||"",userPhoto:b.userDetails&&"string"==typeof b.userDetails.photo&&"null"!==b.userDetails.photo&&b.userDetails.photo||""},!0),a.identityLocation=f.endpoints.identity,a["subscribe-text"]=a["subscribe-text"]||"Subscribe",a["subscribe-url"]=a["subscribe-url"]||window.ndm.idp.subscriptionUrl,a.networkLinks=a.links&&a.links.split(",")||[],a.networkLinks="- "+a.networkLinks.join("\n- "),a["logout-url"]=a.idp.logout+"?url="+y,u&&""!==u&&-1!==a["logout-url"].indexOf(u)&&(a["logout-url"]=a["logout-url"].replace(u,""),a["logout-url"]=a["logout-url"].substring(0,a["logout-url"].length-1)),window.document.body.innerHTML=window.document.body.innerHTML+e["components/ninbar/template"](a),t=document.querySelector("body > .identity-module.identity-module-network-bar"),t&&(a.height&&"string"==typeof a.height?t.style.height=a.height.replace("px","")+"px":t.style.height="30px"),w("envoy/identity/ninbar/ready",[window.frameElement.id]),c=document.querySelector(".identity-ninbar .identity-user-avatar"),k=document.querySelector(".identity-ninbar .identity-user-details"),l=document.querySelector(".identity-account-links .identity-myaccount-link"),m=document.querySelector(".identity-btn.identity-login-link"),n=document.querySelector(".identity-btn.identity-logout-link"),o=document.querySelector(".identity-ninbar .identity-account-links"),g.assign(function(a,b){w(a,b)}),s=function(){return c.offsetHeight+o.offsetHeight+"px"},r=function(a){"toggle"===a&&(a=k.className.indexOf("over")>-1?"hidden":"visible"),"visible"===a&&(z||(z=!0,k.className=k.className+" over")),"hidden"===a&&(z=!1,k.className=k.className.replace(/\s*over/g,"")),window.top.newscdn.envoy.publish("envoy/dom/element/resize",[{selector:"#"+window.frameElement.id,height:s()}]),window.top.newscdn.envoy.publish("identity/ninbar/myAccount/"+a),j&&(k.className.indexOf("over")>-1?d.on(x,i,function(){r("hidden")}):d.off(x,i,function(){r("visible")}))},q=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},p=function(a){"function"==typeof a.stopPropogation&&a.stopPropogation(),a.cancelBubble&&(a.cancelBubble=!0)},a.paywallEnabled&&(l&&d.on(l,i,function(a){w("envoy/identity/ninbar/myaccountClick",[a.target])}),m&&d.on(m,i,function(a){p(a),q(a),w("envoy/identity/login/start",[a.target])}),n&&d.on(n,i,function(a){p(a),q(a),w("envoy/identity/logout/start",[a.target])}),j&&c?d.on(c,i,function(a){p(a),q(a),r("toggle")}):k&&(d.on(k,"mouseenter",function(a){p(a),q(a),r("visible")}),d.on(k,"mouseleave",function(a){p(a),q(a),r("hidden")}))),window.top.newscdn.envoy.publish("identity/component/ninbar/complete",[window.frameElement.id],{persist:!0})},window.newscdn.envoy.subscribe("identity/component/ninbar/loaded",function(a,c){b(a,c)})}()},{"../../common/helperClosest":1,"../../common/helperEvent":2,"../../common/linkEvents":3,"../../common/toggleClass":4,"../env/env":6,"../template/template":17,"./template":14,underscore:41}],14:[function(a,b,c){b.exports=function(a){return this.JST=this.JST||{},this.JST["components/ninbar/template"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n    <style type="text/css">\n        .identity-module .identity-module-network-bar {\n            height: ',(d=c.height)?d=d.call(a,{hash:{},data:b}):(d=a.height,d=typeof d===z?d.apply(a):d),e+=A(d)+";\n        }\n    </style>\n"}function g(a,b){var d,e="";return e+="\n    ",d=c["if"].call(a,a.paywallEnabled,{hash:{},inverse:B.noop,fn:B.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function h(a,b){var d,e="";return e+='\n<div class="identity-module identity-module-network-bar device-',(d=c.device)?d=d.call(a,{hash:{},data:b}):(d=a.device,d=typeof d===z?d.apply(a):d),e+=A(d)+" clearfix logged-in memtype-",(d=c.memtype)?d=d.call(a,{hash:{},data:b}):(d=a.memtype,d=typeof d===z?d.apply(a):d),e+=A(d)+'">\n    '}function i(a,b){var d,e="";return e+='\n<div class="identity-module identity-module-network-bar device-',(d=c.device)?d=d.call(a,{hash:{},data:b}):(d=a.device,d=typeof d===z?d.apply(a):d),e+=A(d)+" clearfix logged-out memtype-",(d=c.memtype)?d=d.call(a,{hash:{},data:b}):(d=a.memtype,d=typeof d===z?d.apply(a):d),e+=A(d)+'">\n'}function j(a,b){return"\n\n    "}function k(a,b){var d,e="";return e+="\n        ",d=c["if"].call(a,a.logo,{hash:{},inverse:B.noop,fn:B.program(11,l,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function l(a,b){var d,e="";return e+='\n        <a href="',(d=c["logo-link"])?d=d.call(a,{hash:{},data:b}):(d=a["logo-link"],d=typeof d===z?d.apply(a):d),e+=A(d)+'" target="_top" class="identity-masthead-logo" style="background-image: url(',(d=c.logo)?d=d.call(a,{hash:{},data:b}):(d=a.logo,d=typeof d===z?d.apply(a):d),e+=A(d)+')">\n            ',(d=c["logo-text"])?d=d.call(a,{hash:{},data:b}):(d=a["logo-text"],d=typeof d===z?d.apply(a):d),e+=A(d)+"\n        </a>\n        "}function m(a,b){var d,e="";return e+='\n    <div class="identity-module-content identity-network-account">\n        ',d=c["if"].call(a,a.loggedIn,{hash:{},inverse:B.program(23,t,b),fn:B.program(14,n,b),data:b}),(d||0===d)&&(e+=d),e+="\n    </div>\n    "}function n(a,b){var d,e,f="";return f+='\n        <div class="identity-user-details clearfix">\n            <div class="identity-user-avatar clearfix">\n                ',d=c["if"].call(a,a.userPhoto,{hash:{},inverse:B.program(17,p,b),fn:B.program(15,o,b),data:b}),(d||0===d)&&(f+=d),f+='\n                <span class="identity-account-status">\n                    <strong>Welcome</strong> '+A((d=a.userDetails,d=null==d||d===!1?d:d.firstname,typeof d===z?d.apply(a):d))+'\n                </span>\n            </div>\n            <ul class="identity-account-links">\n                ',e=c.each.call(a,a.menuItems,{hash:{},inverse:B.noop,fn:B.program(19,q,b),data:b}),(e||0===e)&&(f+=e),f+='\n                <li>\n                    <a class="identity-btn identity-myaccount-link" target="_parent" href="',(e=c["myaccount-url"])?e=e.call(a,{hash:{},data:b}):(e=a["myaccount-url"],e=typeof e===z?e.apply(a):e),f+=A(e)+'">',(e=c["myaccount-url-text"])?e=e.call(a,{hash:{},data:b}):(e=a["myaccount-url-text"],e=typeof e===z?e.apply(a):e),f+=A(e)+'</a>\n                </li>\n                <li>\n                    <a class="identity-btn identity-logout-link" target="_parent" href="',
(e=c["logout-url"])?e=e.call(a,{hash:{},data:b}):(e=a["logout-url"],e=typeof e===z?e.apply(a):e),f+=A(e)+'">',(e=c["logout-url-text"])?e=e.call(a,{hash:{},data:b}):(e=a["logout-url-text"],e=typeof e===z?e.apply(a):e),f+=A(e)+"</a>\n                </li>\n            </ul>\n        </div>\n        "}function o(a,b){var d,e="";return e+='\n                <img src="',(d=c.userPhoto)?d=d.call(a,{hash:{},data:b}):(d=a.userPhoto,d=typeof d===z?d.apply(a):d),e+=A(d)+'" class="identity-user-photo" alt="'+A((d=a.userDetails,d=null==d||d===!1?d:d.firstname,typeof d===z?d.apply(a):d))+'" />\n                '}function p(a,b){var d,e="";return e+='\n                <img src="',(d=c.identityLocation)?d=d.call(a,{hash:{},data:b}):(d=a.identityLocation,d=typeof d===z?d.apply(a):d),e+=A(d)+'/legacy/img/anon.png" class="identity-user-photo" alt="'+A((d=a.userDetails,d=null==d||d===!1?d:d.firstname,typeof d===z?d.apply(a):d))+'" />\n                '}function q(a,b){var d,e,f="";return f+="\n                    <li>",e={hash:{},inverse:B.noop,fn:B.program(20,r,b),data:b},(d=c.linksTargetParent)?d=d.call(a,e):(d=a.linksTargetParent,d=typeof d===z?d.apply(a):d),c.linksTargetParent||(d=C.call(a,d,e)),(d||0===d)&&(f+=d),f+="</li>\n                "}function r(a,b){var d,e;return e={hash:{},inverse:B.noop,fn:B.program(21,s,b),data:b},(d=c.markdown)?d=d.call(a,e):(d=a.markdown,d=typeof d===z?d.apply(a):d),c.markdown||(d=C.call(a,d,e)),d||0===d?d:""}function s(a,b){var c,d="";return d+=" ",c=typeof a===z?a.apply(a):a,(c||0===c)&&(d+=c),d+=" "}function t(a,b){var d,e="";return e+='\n        <ul class="identity-user-links">\n            <li>\n                <a class="identity-btn identity-login-link">',(d=c["login-url-text"])?d=d.call(a,{hash:{},data:b}):(d=a["login-url-text"],d=typeof d===z?d.apply(a):d),e+=A(d)+'</a>\n            </li>\n            <li>\n                <a class="identity-btn identity-subscribe-link" href="',(d=c["subscribe-url"])?d=d.call(a,{hash:{},data:b}):(d=a["subscribe-url"],d=typeof d===z?d.apply(a):d),e+=A(d)+'" target="_parent">',(d=c["subscribe-text"])?d=d.call(a,{hash:{},data:b}):(d=a["subscribe-text"],d=typeof d===z?d.apply(a):d),e+=A(d)+"</a>\n            </li>\n        </ul>\n        "}function u(a,b){var d,e,f="";return f+='\n        <div class="identity-network-bar-links">\n            ',e={hash:{},inverse:B.noop,fn:B.program(26,v,b),data:b},(d=c.linksTargetParent)?d=d.call(a,e):(d=a.linksTargetParent,d=typeof d===z?d.apply(a):d),c.linksTargetParent||(d=C.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n        </div>\n    "}function v(a,b){var d,e,f="";return f+="\n                ",e={hash:{},inverse:B.noop,fn:B.program(27,w,b),data:b},(d=c.markdown)?d=d.call(a,e):(d=a.markdown,d=typeof d===z?d.apply(a):d),c.markdown||(d=C.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n            "}function w(a,b){var d,e="";return e+="\n                    ",(d=c.networkLinks)?d=d.call(a,{hash:{},data:b}):(d=a.networkLinks,d=typeof d===z?d.apply(a):d),(d||0===d)&&(e+=d),e+="\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var x,y="",z="function",A=this.escapeExpression,B=this,C=c.blockHelperMissing;return x=c["if"].call(b,b.height,{hash:{},inverse:B.noop,fn:B.program(1,f,e),data:e}),(x||0===x)&&(y+=x),y+="\n\n",x=c["if"].call(b,b.loggedIn,{hash:{},inverse:B.program(6,i,e),fn:B.program(3,g,e),data:e}),(x||0===x)&&(y+=x),y+='\n    <div class="identity-module-header">\n    ',x=c["if"].call(b,b.isMobile,{hash:{},inverse:B.program(10,k,e),fn:B.program(8,j,e),data:e}),(x||0===x)&&(y+=x),y+="\n    </div>\n\n    ",x=c["if"].call(b,b.paywallEnabled,{hash:{},inverse:B.noop,fn:B.program(13,m,e),data:e}),(x||0===x)&&(y+=x),y+='\n    <div class="identity-module-footer">\n    ',x=c["if"].call(b,b.networkLinks,{hash:{},inverse:B.noop,fn:B.program(25,u,e),data:e}),(x||0===x)&&(y+=x),y+="\n    </div>\n</div>"}),this.JST}},{}],15:[function(a,b,c){b.exports=function(){var b={},c=window,d=a("underscore"),e=a("../template/template"),f=a("./template")(e),g=a("reqwest"),h=a("../../common/helperEvent"),i="https://myaccount.news.com.au",j=window.newscdn.envoy,k=function(a){c.document.body.innerHTML=c.document.body.innerHTML+a},l=function(a,b){return b=d.isUndefined(b)?c.document:b,b.querySelectorAll(a)},m=function(a){return l(a)[0].value},n=function(a,b){document.all?a.innerText=b:a.textContent=b},o=function(a,b){a.className=a.className.replace(new RegExp("[\\b\\s]"+b+"\\b","g"),"")},p=function(a,b){var c=new RegExp("\\b"+b+"\\b","g");c.test(a.className)||(a.className=a.className+" "+b)},q=function(a){var b=/([\w\W]*|^)((%3C)|<)((%2F)|\/)*[a-zA-Z0-9%]+((%3E)|>)[\w\W]*/,c=/[<>]/,d=/([\w\W]*|^)(exec(\\s|\\+)+(s|x)p\\w+)[\w\W]*/,e=/([\w\W]*|^)((%23)|#|(%26))[\w\W]*/,f=/([\w\W]*|^)((%3C)|<)((%69)|i|I|(%49))((%6D)|m|M|(%4D))((%67)|g|G|(%47))[^\n]+((%3E)|>)[\w\W]*/,g=!0;return g=g&&!b.test(a),g=g&&!c.test(a),g=g&&!d.test(a),g=g&&!e.test(a),g=g&&!f.test(a)},r=function(a){a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};b.form_init=function(){b.form=c.document.getElementById("m-form"),l("#field-submit")[0].onclick=b.on_submit,d.each(b.form_fields,function(a){a.check=function(b){a.valid(function(c){var e=a.el_error(),f=a.el();c===!0?(n(e,""),p(e,"hide"),o(f,"error")):(n(e,c),o(e,"hide"),p(f,"error")),d.isFunction(b)&&b(c)})},a.active=function(){var b=a.el(),c=a.value();c.length>0?p(b,"active"):o(b,"active")},d.each(a,function(b,c){d.isFunction(b)&&d.bindAll(a,c)}),a.init&&a.init(),h.on(a.el(),"blur",a.check),h.on(a.el(),"input paste",a.active)})},b.form_errors={},b.form_field_txt=function(a){return{el:function(){return l("#field-"+a)[0]},el_error:function(){return l("#error-"+a)[0]},value:function(){return m("#field-"+a)},valid:function(c){var d=this.value();return c(q(d)?d.length<1?b.config["err-"+a+"-empty"]:!0:b.config["err-"+a+"-invalid"])}}},b.form_fields={email:{el:function(){return l("#field-email")[0]},el_error:function(){return l("#error-email")[0]},value:function(){return m("#field-email")},valid:function(a){var c=/^[\w\-\+]+(\.[\w\-]+)*@[\w\-]+(\.[\w\-]+)+$/,d=this.value();return c.test(d)?void g({url:i+"/doesExist",type:"jsonp",data:{username:d}}).always(function(c){return a(c&&c.email&&c.email===d?b.config["err-email-exists"]:!0)}):a(b.config["err-email-invalid"])}},password:{el:function(){return l("#field-password")[0]},el_error:function(){return l("#error-password")[0]},value:function(){return m("#field-password")},valid:function(a){var c=this.value();return a(q(c)?c.length<6||c.length>20?b.config["err-password-length"]:!0:b.config["err-password-invalid-chars"])}},firstname:b.form_field_txt("firstname"),surname:b.form_field_txt("surname"),postcode:{init:function(){this.auto_lookup=d.debounce(this.auto_lookup,300),h.on(this.el(),"keyup",this.auto_key_router)},el:function(){return l("#field-postcode")[0]},el_error:function(){return l("#error-postcode")[0]},value:function(){return m("#field-postcode")},valid:function(a){var b=this.value();return b.length<=0?a("Please enter a postcode that is between 1 and 10 characters long"):q(b)?(setTimeout(this.auto_hide,250),a(!0)):a("Please do not use characters #, &, < or > in any field.")},auto_open:!1,auto_old:"",auto_pcs:[],auto_hled:!1,auto_el:function(){return l("#postcode-autocomplete")[0]},auto_key_router:function(a){var b=this.value().replace(/\s+/g,"");r(a),40===a.keyCode?this.auto_down():38===a.keyCode?this.auto_up():13===a.keyCode?this.auto_enter():b.length>2&&b!==this.auto_old&&this.auto_lookup(b),this.auto_old=b},auto_set:function(a){d.isUndefined(a)?(l("#hfield-suburb")[0].value="Not Provided",l("#hfield-state")[0].value="Not Provided",l("#hfield-postcode")[0].value=l("#field-postcode")[0].value):(l("#hfield-suburb")[0].value=a.suburb,l("#hfield-state")[0].value=a.state,l("#hfield-postcode")[0].value=a.postcode)},auto_lookup:function(a){var b=this;this.auto_set(),g({url:i+"/postcodeLookup",type:"jsonp",data:{postalcode_startsWith:a,maxRows:50,country:"AU"}}).always(function(a){a.postalcodes&&a.postalcodes.length>0?b.auto_show(a.postalcodes):b.auto_hide()})},auto_show:function(a){var b=this,c=this.auto_el(),e="<ul><% _.each(pcs, function(pc) { %> <li><%= pc.suburb %>, <%= pc.postcode %>, <%= pc.state %></li> <% }); %></ul>";c.innerHTML=d.template(e)({pcs:a}),o(c,"hide"),this.auto_open=!0,this.auto_pcs=a,this.auto_hled=!1,d.each(l("li",c),function(a,c){var e=d.partial(b.auto_select,c);h.on(a,"click",function(){e()})})},auto_hide:function(){var a=this.auto_el();p(a,"hide"),a.innerHTML="",this.auto_open=!1,this.auto_pcs=[],this.auto_hled=!1},auto_select:function(a){this.el().value=d.template("<%= suburb %>, <%= postcode %>, <%= state %>")(this.auto_pcs[a]),this.auto_set(this.auto_pcs[a]),this.auto_hide(),this.check()},auto_enter:function(){this.auto_hled!==!1&&this.auto_select(this.auto_hled)},auto_up:function(){this.auto_hled!==!1&&this.auto_hled>0&&this.auto_highlight(this.auto_hled-1)},auto_down:function(){this.auto_hled===!1?this.auto_highlight(0):this.auto_hled<this.auto_pcs.length-1&&this.auto_highlight(this.auto_hled+1)},auto_highlight:function(a){var b=l("li",this.auto_el());this.auto_hled!==!1&&b[this.auto_hled]&&o(b[this.auto_hled],"selected"),b[a]&&(p(b[a],"selected"),this.auto_hled=a)}}},b.validate=function(a){var c=d.after(d.keys(b.form_fields).length,function(){a(b.form_errors)});b.form_errors={},d.each(b.form_fields,function(a,d){a.check(function(a){a!==!0&&(b.form_errors[d]=a),c()})})},b.on_submit=function(a){r(a),b.validate(function(a){d.size(a)<1&&b.form.submit()})},b.social_login=function(a){var b=a.srcElement.getAttribute("data-provider");r(a),b&&window.top.newscdn.envoy.publish("envoy/identity/login/social",[b])},b.social_init=function(){window.rjsSocial={require:window.rjsSocial.requirejs.config({context:"social",baseUrl:"../legacy/"}),define:window.rjsSocial.define},window.rjsSocial.require(["main"])},b.main=function(a,c){a.camDevice="desktop"===a.device&&"pc"||"mobile"===a.device&&"msite",k(f["components/rego/template"](a)),i=a["myaccount-url"],b.config=a,b.social_init(),b.form_init(),j.publish("identity/component/rego/complete",[window.frameElement.id],{persist:!0})},c.newscdn.envoy.subscribe("identity/component/rego/loaded",function(a,c){b.main(a,c)})}()},{"../../common/helperEvent":2,"../template/template":17,"./template":16,reqwest:40,underscore:41}],16:[function(a,b,c){b.exports=function(a){return this.JST=this.JST||{},this.JST["components/rego/template"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<form id="m-form" action="'+j((f=b.idp,f=null==f||f===!1?f:f.newsAuth,typeof f===i?f.apply(b):f))+'" method="post" target="_top">\n    <div class="social-link-container">\n        <h3>',(g=c["txt-main-heading"])?g=g.call(b,{hash:{},data:e}):(g=b["txt-main-heading"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</h3>\n        <ul class="social-links">\n            <li class="signin signin-facebook" data-provider="facebook">Facebook</li>\n            <li class="signin signin-twitter" data-provider="twitter">Twitter</li>\n            <li class="signin signin-linkedin" data-provider="linkedin">LinkedIn</li>\n            <li class="signin signin-google" data-provider="google">Google+</li>\n        </ul>\n       \n    </div>\n    <div class="register-divider">',(g=c["txt-form-divder-or"])?g=g.call(b,{hash:{},data:e}):(g=b["txt-form-divder-or"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</div>\n    <fieldset class="fieldset-item fieldset-fields">\n        <h3>\n            <span class="compact">Or</span> ',(g=c["txt-form-heading"])?g=g.call(b,{hash:{},data:e}):(g=b["txt-form-heading"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='\n        </h3>\n\n        <input type="hidden" name="rego_type" value="casual_breach">\n        <input type="hidden" name="offer_code" value="',(g=c["rego-offercode"])?g=g.call(b,{hash:{},data:e}):(g=b["rego-offercode"],g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n        <input type="hidden" name="source_code" value="',(g=c["rego-sourcecode"])?g=g.call(b,{hash:{},data:e}):(g=b["rego-sourcecode"],g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n        <input type="hidden" name="location" value="'+j((f=b.idp,f=null==f||f===!1?f:f.saml,typeof f===i?f.apply(b):f))+'">\n        <input type="hidden" name="op" value="register">\n        <input type="hidden" name="site" value="',(g=c["rego-site"])?g=g.call(b,{hash:{},data:e}):(g=b["rego-site"],g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n        <input type="hidden" name="channel" value="',(g=c.camDevice)?g=g.call(b,{hash:{},data:e}):(g=b.camDevice,g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n        <input type="hidden" name="relayState" value="',(g=c["success-url"])?g=g.call(b,{hash:{},data:e}):(g=b["success-url"],g=typeof g===i?g.apply(b):g),h+=j(g)+"?origin=",(g=c["on-complete"])?g=g.call(b,{hash:{},data:e}):(g=b["on-complete"],g=typeof g===i?g.apply(b):g),h+=j(g)+"&tp=",(g=c["tealium-profile"])?g=g.call(b,{hash:{},data:e}):(g=b["tealium-profile"],g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n        <input type="hidden" id="hfield-suburb" name="suburb" value="Not Provided">\n        <input type="hidden" id="hfield-state" name="state" value="Not Provided">\n        <input type="hidden" id="hfield-postcode" name="postcode" value="">\n        <input type="hidden" name="verify" value="">\n        <input type="hidden" name="cancelUrl" value="',(g=c["cancel-url"])?g=g.call(b,{hash:{},data:e}):(g=b["cancel-url"],g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n\n        <div class="field-error hide"></div>\n        <div class="item email">\n            <label for="field-email" title="Your email">\n                <span class="label-text">',(g=c["lbl-email"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-email"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</span>\n            </label>\n            <input type="text" name="username" id="field-email" data-validation="email" class="required error">\n            <div id="error-email" class="field-error hide"></div>\n        </div>\n\n        <div class="item password">\n            <label for="field-password">\n                <span class="label-text">',(g=c["lbl-password"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-password"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</span>\n            </label>\n            <input type="password" name="password" title="password" id="field-password" data-validation="password"\n                   class="required">\n            <div id="error-password" class="field-error hide"></div>\n        </div>\n        <div class="item firstname">\n            <label for="field-firstname">\n                <span class="label-text">',(g=c["lbl-firstname"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-firstname"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</span>\n            </label>\n            <input type="text" name="fn" id="field-firstname" title="first name" data-validation="text" class="required"\n                   maxlength="40">\n            <div id="error-firstname" class="field-error hide"></div>\n        </div>\n        <div class="item middlename hide">\n            <label for="field-middlename" title="Your middle name">\n                <span class="label-text">Middle Name</span>\n            </label>\n            <input type="text" name="mn" id="field-middlename" maxlength="40" tabindex="-1">\n        </div>\n        <div class="item surname">\n            <label for="field-surname" title="Your surname">\n                <span class="label-text">',(g=c["lbl-surname"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-surname"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</span>\n            </label>\n            <input type="text" name="ln" id="field-surname" title="surname" data-validation="text" class="required"\n                   maxlength="40">\n            <div id="error-surname" class="field-error hide"></div>\n        </div>\n        <div class="item postcode">\n            <label for="field-postcode" title="Postcode">\n                <span class="label-text">',(g=c["lbl-postcode"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-postcode"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</span>\n            </label>\n            <input type="text" name="postcodecontent" title="postcode" id="field-postcode" autocomplete="off"\n                   data-validation="postcode" class="required" maxlength="10">\n\n            <div id="postcode-autocomplete" class="autocomplete hide"></div>\n            <div id="error-postcode" class="field-error hide"></div>\n        </div>\n    </fieldset>\n    <fieldset class="fieldset-item fieldset-terms">',(g=c["txt-register-terms"])?g=g.call(b,{hash:{},data:e}):(g=b["txt-register-terms"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</fieldset>\n    <fieldset class="fieldset-item fieldset-submit">\n        <div class="checkbox-item">\n            <input type="checkbox" id="cam_remember_me" checked="checked" name="remember_me">\n            <label for="cam_remember_me">',(g=c["lbl-cam-remember-me"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-cam-remember-me"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</label>\n        </div>\n\n        <div class="item submit">\n            <button type="button" class="button button-submit" id="field-submit">\n                <span>',(g=c["lbl-submit"])?g=g.call(b,{hash:{},data:e}):(g=b["lbl-submit"],g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='</span>\n            </button>\n            <div class="item checkbox hide">\n                <input type="checkbox" name="tc" id="field-tc" checked="">\n            </div>\n        </div>\n    </fieldset>\n    <fieldset class="fieldset-item fieldset-register-login">\n        <div class="item item-register-login">\n            <p>',(g=c["txt-register-login"])?g=g.call(b,{hash:{},data:e}):(g=b["txt-register-login"],g=typeof g===i?g.apply(b):g),h+=j(g)+"</p>\n        </div>\n\n    </fieldset>\n</form>\n"}),this.JST}},{}],17:[function(a,b,c){b.exports=function(){"use strict";var b=a("markdown"),c=a("handlebars-commonjs");return c&&"function"==typeof c.registerHelper&&(c.registerHelper("markdown",function(a){var c=a.fn(this);return c=c.replace(/^\s+|\s+$/g,""),b&&b.parse&&b.parse(c)}),c.registerHelper("linksTargetParent",function(a){var b=a.fn(this);return b=b.replace(/^\s+|\s+$/g,""),b.replace(/<a\s/g,'<a target="_parent" ')})),c}()},{"handlebars-commonjs":25,markdown:38}],18:[function(a,b,c){!function d(b,c,e){function f(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);throw new Error("Cannot find module '"+h+"'")}var k=c[h]={exports:{}};b[h][0].call(k.exports,function(a){var c=b[h][1][a];return f(c?c:a)},k,k.exports,d,b,c,e)}return c[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a){!function(){"use strict";window.newscdn=window.newscdn||{};var b,c,d,e,f,g,h,i,j=a("./modules/core/core"),k=a("./version"),l=a("./modules/observer/observer"),m=a("./modules/config/config"),n=a("./modules/terminal/terminal"),o=a("./modules/message/message"),p=a("./modules/dom/dom"),q=(a("./modules/events/events"),a("./modules/select/select")),r=a("./modules/lazyload/lazyload"),s=a("./modules/modal/modal"),t=(a("./modules/popup/popup"),/^http[s]?:\/\/[a-zA-Z0-9\.]+:?[a-zA-Z0-9\.\-\/]+.js/);if(b=function(){return"file:"===window.document.location.protocol?"http:":"https:"===window.document.location.protocol?"https:":window.document.location.protocol},g=function(a){var c,d,e,f,g="",h="",i=b();if(j.isString(a.tag)){try{if(t.test(a.tag))return{name:"script",url:a.tag}}catch(k){n.error("Error: Failed url regex")}if(j.isString(a.domain))try{return d=a.tag.split(":"),e=d[0],("dev"===d[0]||"uat"===d[0])&&(h=d[0]+".",e=d[1]),d[1]&&(f=d[1]&&d[1].match(/^[0-9]{1,}\.[0-9]{1,}\.[0-9]{1,}/),f=f&&f[0]||!1),d[2]&&(f=d[2]&&d[2].match(/^[0-9]{1,}\.[0-9]{1,}\.[0-9]{1,}/),f=f&&f[0]||!1),"https:"===i&&(g="ssl"),c=i+"//"+h+e+g+"."+a.domain+"/"+(f&&f+"/"||"")+e+".js",{name:e,url:c}}catch(k){n.warn("Enovy: generateScriptUrl() has thrown an error trying to construct a url: ",k)}}},i=function(){return window?window.document?window.JSON?window.JSON.parse?window.JSON.stringify?window.document.querySelector&&window.document.querySelectorAll?window.postMessage?!0:(n.error("Feature Detection Failed: No support for window.postMessage."),!1):(n.error("Feature Detection Failed: No support for document.querySelector"),!1):(n.error("JSON.stringify not found"),!1):(n.error("Feature Detection Failed: JSON.parse not found"),!1):(n.error("Feature Detection Failed: JSON global not found"),!1):(n.error("Feature Detection Failed: window.document not found in scope"),!1):(n.error("Feature Detection Failed: Not a browser enviroment"),!1)},f=function(){var a={"envoy/modal/append/start":function(a){s.insert(a)},"envoy/modal/self/show":function(a){s.show(a||{})},"envoy/modal/self/close":function(a){s.hide(a||{})},"envoy/dom/element/create":function(a){p.createElem(a)},"envoy/dom/element/resize":function(a){p.resize(a.selector,a.width,a.height,a.level)},"envoy/dom/element/show":function(a){p.show(a)},"envoy/dom/element/hide":function(a){p.hide(a)},"envoy/modal/self/updateSize":function(a){s.update(a||{})},"envoy/message/channel/create":function(a){o.createChannel(a)},"envoy/lazyload/css/load":function(a,b,c){r.loadCss(a,b,c)}};return j.each(a,function(a,b){window.newscdn.envoy.subscribe(b,a)}),window.newscdn.envoy.subscribe("envoy/message/window/listen",function(a){o.listen(a)}),window.newscdn.envoy.subscribe("envoy/message/window/send",function(a,b){o.send(a,b)}),a},c=function(a,b,c){var d,e,f=[],h=a||[],i=h.length,j=b||"newscdn.com.au";for(i=h.length,d=window.document.getElementsByTagName("script")[0];i--;)e=window.document.createElement("script"),e.async=!0,e.src=g({tag:h[i],domain:j}).url,d.parentNode.insertBefore(e,d),l.publish("envoy/scripts/load/complete",[e]);return f},h=function(a){var b=a.name||"",c=a.main||function(){};return a.api||{},""===b?void n.error("Error: Registering components need to pass a name"):(c(m()),void l.publish("envoy/"+b+"/self/registered"))},d=function(){var a;a=window.newscdn.envoy.config("scripts")||[],c(a),f(),window.newscdn.envoy.publish("envoy/self/main/complete")},e=function(){var a,b,c;for("loading"===window.document.readyState&&n.warn("Warning: Envoy needs to be loaded after DOMContentReady fires. Check the standard snipplet is being used."),window.newscdn.envoy?n.warn("Warning: Conflicting version of envoy detect in namespace."):window.newscdn.envoy={},window.newscdn.envoy.version&&window.newscdn.envoy.version===k&&n.warn("Warning: Same version of Envoy being loaded twice: "+k),window.newscdn.envoy.version=window.newscdn.envoy.version||k,window.newscdn.envoy.config=window.newscdn.envoy.config||m,j.each(l,function(a,b){window.newscdn.envoy[b]=window.newscdn.envoy[b]||a}),j.each(q,function(a,b){window.newscdn.envoy[b]=window.newscdn.envoy[b]||a}),b=window.newscdn.envoy.config("preEventQueue")||[],b="function"==typeof b&&[b]||b,c=window._envq||[],c=c.concat(window.newscdn.envoy.config("preEventQueue")),a=c.length;a--;)try{"function"==typeof c[a]&&j.debounce(c[a],window.newscdn.envoy.config())}catch(e){n.error("Error: preEventQueue function has failed in its execution.")}window._envq={push:function(a){j.debounce(a,window.newscdn.envoy.config())}},d()},!i())throw"Error: Feature detection has failed";e()}()},{"./modules/config/config":2,"./modules/core/core":3,"./modules/dom/dom":4,"./modules/events/events":5,"./modules/lazyload/lazyload":6,"./modules/message/message":7,"./modules/modal/modal":8,"./modules/observer/observer":9,"./modules/popup/popup":10,"./modules/select/select":11,"./modules/terminal/terminal":12,"./version":13}],2:[function(a,b){b.exports=function(b,c){"use strict";var d,e,f,g=a("../core/core"),h=a("../terminal/terminal");return f=function(){b.newscdn=b.newscdn||{},b.newscdn.envoy=b.newscdn.envoy||{},b.newscdn.envoy.s=b.newscdn.envoy.s||{},b.envoy_config&&""!==b.envoy_config&&(g.extend(b.newscdn.envoy.s,b.envoy_config,!0),b.envoy_config={preEventQueue:{push:function(a){try{a()}catch(b){h.error("Error: Unable to execute preEventQueue pushed function")}}}})},d=function(a,d,e){if(a&&d)try{g.setToken(a,d,b.newscdn.envoy.s,e)}catch(f){return c}return b.newscdn.envoy.s},e=function(a){if(a)try{return g.resolveToken(a,b.newscdn.envoy.s)}catch(d){return c}return b.newscdn.envoy.s},f(),function(a,b,c){return b?d(a,b,c):e(a)}}(window)},{"../core/core":3,"../terminal/terminal":12}],3:[function(a,b){b.exports=function(){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=Array.prototype.forEach,y=Array.isArray;return a("../terminal/terminal"),f=function(a,b){window.setTimeout(function(){a.call(this,b)},0)},l=function(a){var b,c,d,e=window.location.href,f=e.split("?");for(b=f[1]||"",b=b.split("&"),c=b.length;c--;)if(d=b[c].split("="),d[0]===a)return d[1];return""},c=function(a,b,c,d){function e(a,c){return c[a[0]]=r(c[a[0]])||j(c[a[0]])||i(c[a[0]])?{}:c[a[0]]||{},1===a.length?(c[a[0]]=d?w(c[a[0]],b,!0):b,c):e(a,c[a.shift()])}var f=a?a.split("."):[];return e(f,c)},d=function(a,b){for(var c=a?a.split("."):[],d=c.length,e=!0,f=0;d>f;f+=1)e&&(e=e[c[f]]?e[c[f]]:b[c[f]]||!1);return e},n=function(a,b){var c,d;if(!a)return-1;if(d=a.length,0===d)return-1;for(;d--;)if(a[d--]===b)return c;return-1},o=function(a,b){var c=!1,d=i(b)?b:[b];return q(a)&&i(d)&&s(a.childNodes,function(a){var b=a.nodeName.toLowerCase();~n(d,b)&&(c=a)}),c},v=function(a){var b,c=a||!1;return b=Math.random().toString(16).substring(2,15),b=c?c+"-"+b:"component-"+b},b=Object.keys||function(a){var b=[];if(a!==Object(a))return b;for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},h=function(a){return a&&0===b(a).length},s=function(a,c,d){var e,f,g;if(null!==a)if(x&&a.forEach===x)a.forEach(c,d);else if(a.length===+a.length){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)==={})return}else for(g=b(a),e=0,f=g.length;f>e;e++)if(c.call(d,a[g[e]],g[e],a)==={})return},t=function(a){return a=a||{},window.newscdn=window.newscdn||{},window.newscdn.envoy=window.newscdn.envoy||{},window.newscdn.envoy=a,window.newscdn.envoy},q=function(a){return!(!a||1!==a.nodeType)},i=y||function(a){return"[object Array]"===Object.prototype.toString.call(a)},p=function(a){return"[object NodeList]"===Object.prototype.toString.call(a)},u=function(a){return Object.prototype.toString.call(a)},r=function(a){return"string"==typeof a},m=function(a){return a===Object(a)},j=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},w=function(a,b,c){a=a||{};for(var d in b)"[object Object]"!==Object.prototype.toString.call(b[d])||null===b[d]||q(b[d])?a[d]=b[d]:(a[d]=a[d]||{},c&&w(a[d],b[d],c));return a},k=function(a,b,c){var d,e;return a.indexOf(b+"=")>=0?(d=a.substring(0,a.indexOf(b)),e=a.substring(a.indexOf(b)).substring(a.indexOf("=")+1),e=e.indexOf("&")>=0?e.substring(e.indexOf("&")):"",a=d+b+"="+c+e):a+=a.indexOf("?")<0?"?"+b+"="+c:"&"+b+"="+c,a},{getUrlParam:l,setUrlParam:k,keys:b,has:e,isNodeList:p,isEmpty:h,isString:r,isArray:i,namespace:t,isReallyFinite:j,isElement:q,isObject:m,generateId:v,inArray:n,isResponsive:g,each:s,debounce:f,type:u,setToken:c,resolveToken:d,findNodeByType:o,extend:w}}()},{"../terminal/terminal":12}],4:[function(a,b){b.exports=function(){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m=a("../core/core"),n=a("../select/select"),o=a("../terminal/terminal");return h=function(a,b){try{return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)}catch(c){o.error("Error: hasClass has failed with error: ",c)}return!1},i=function(a,b){var c=m.isArray(b)?b:[b];try{m.each(c,function(b){h(a,b)||(a.className+=(a.className?" ":"")+b)})}catch(d){o.error("Error: addClass has failed with error: ",d)}},d=function(a,b,c,d){d=d&&parseInt(d,10)||0,d+=1;var e=n.get(a);if(m.isElement(e))for(b=b&&b.toString()||"",c=c&&c.toString()||"",b.indexOf("%")!==b.length-1&&(b=b.replace("px","")+"px"),c.indexOf("%")!==c.length-1&&(c=c.replace("px","")+"px");d--;)""!==b&&l(e,{width:b}),""!==c&&l(e,{height:c}),e=e.parentElement},j=function(a){var c={scrolling:a.scrolling||"no",frameborder:"no",seamless:"seamless"},d={};return d=m.extend(c,a||{}),b({tag:"iframe",attr:d})},k=function(a,b){try{h(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}catch(c){o.error("Error: removeClass has failed with error: ",c)}},f=function(a,b){var c=m.isArray(a)?a:[a];m.each(c,function(a){if("string"==typeof a)try{a=n.get(a)}catch(c){throw"Error: No element found with provided selector"}return b?void l(a,{visibility:"hidden",height:0,width:0}):void l(a,{display:"none",visibility:"hidden"})})},g=function(a,b){var c=m.isArray(a)?a:[a];m.each(c,function(a){if("string"==typeof a)try{a=n.get(a)}catch(c){throw"Error: No element found with provided selector"}return b?void l(a,{visibility:"visible",height:"",width:""}):void l(a,{display:"block",visibility:"visible"})})},l=function(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])},c=function(a,b){try{return a.appendChild(b)}catch(c){o.error("Error appending element")}return!1},e=function(a,b){try{if(b&&a)return m.each(b,function(b,c){a.setAttribute(c,b)}),a}catch(c){o.error("Error setting attributes on element")}},b=function(a){var b,d=a.tag||!1,e=a.text||!1,f=a.attr||!1,g=a.parent||!1,h=a.className||!1;if(d)try{return b=window.document.createElement(d),f&&m.each(f,function(a,c){b.setAttribute(c,a)}),"string"==typeof h&&i(b,h),m.isString(e)&&(b.innerHTML=e),m.isString(g)&&(g=n.get(g)||!1),m.isElement(g)&&c(g,b),b}catch(j){o.error("Error creating dom element")}return!1},{addStyles:l,append:c,createElem:b,addClass:i,removeClass:k,resize:d,hasClass:h,createIframe:j,setAttributes:e,hide:f,show:g}}()},{"../core/core":3,"../select/select":11,"../terminal/terminal":12}],5:[function(a,b){b.exports=function(){"use strict";var b,c,d=a("../core/core"),e=a("../terminal/terminal"),f=a("../../../node_modules/domready/ready"),g=window.document;return b=function(a,b,c){var g,h;if(d.isElement){if(g=a.addEventListener?"addEventListener":"attachEvent",h=a.addEventListener?"":"on","DOMContentLoaded"===b)return void f(c);a[g](h+b,c,!1)}else e.error("Error: First argument must be an element")},c=function(a,b,c){var d,e;d=g.addEventListener?"removeEventListener":"detachEvent",e=a.addEventListener?"":"on",a[d](e+b,c,!1)},{addEventListener:b,removeEventListener:c}}()},{"../../../node_modules/domready/ready":14,"../core/core":3,"../terminal/terminal":12}],6:[function(a,b){b.exports=function(){"use strict";var a,b,c,d,e,f,g,h={},i=0,j=window.document,k={css:[],js:[]};return g=function(a,b){var c,d=j.createElement(a);for(c in b)b.hasOwnProperty(c)&&d.setAttribute(c,b[c]);return d},b=function(a){var b,c,d=h[a];d&&d.callback&&d.urls&&(b=d.callback,c=d.urls,c.shift(),i=0,c.length||(b.call(d.context,d.obj),h[a]=null,k[a].length>0&&e(a)))},c=function(){var a=navigator.userAgent;return{async:window.document.createElement("script").async===!0,webkit:/AppleWebKit\//.test(a),ie:/MSIE|Trident/.test(a),opera:/Opera/.test(a),gecko:/Gecko\//.test(a)}},e=function(e,i,l,m,n){var o,p,q,r,s,t,u,v,w=function(){b(e)},x="css"===e,y=[];if(u=c(),i)if(i="string"==typeof i?[i]:i.concat(),x||u.async||u.gecko||u.opera)k[e].push({urls:i,callback:l,obj:m,context:n});else for(o=0,p=i.length;p>o;++o)k[e].push({urls:[i[o]],callback:o===p-1?l:null,obj:m,context:n});if(!h[e]&&(r=h[e]=k[e].shift())){for(a=j.getElementsByTagName("script")[0],t=r.urls,s=function(){/loaded|complete/.test(this.readyState)&&(this.onreadystatechange=null,w())},o=0,p=t.length;p>o;++o)v=t[o],x?q=u.gecko?g("style"):g("link",{href:v,rel:"stylesheet"}):(q=g("script",{src:v}),q.async=!1),q.className="lazyload",q.setAttribute("charset","utf-8"),u.ie&&!x&&"onreadystatechange"in q&&!("draggable"in q)?q.onreadystatechange=s:x&&(u.gecko||u.webkit)?u.webkit?(r.urls[o]=q.href,f()):(q.innerHTML='@import "'+v+'";',d(q)):q.onload=q.onerror=w,
y.push(q);for(o=0,p=y.length;p>o;++o)a.parentNode.insertBefore(y[o],a)}},d=function(a){var c;try{c=!!a.sheet.cssRules}catch(e){return i+=1,void(1e3>i?setTimeout(function(){d(a)},50):c&&b("css"))}b("css")},f=function(){var a,c=h.css,d=j.styleSheets;if(c){for(a=d.length;--a>=0;)if(d[a].href===c.urls[0]){b("css");break}i+=1,c&&(200>i?setTimeout(f,50):b("css"))}},{loadCss:function(a,b,c,d,f){b=b,e("css",a,c,d,f)},loadScript:function(a,b,c,d,f){b=b,e("js",a,c,d,f)}}}()},{}],7:[function(a,b){b.exports=function(){"use strict";var b,c,d,e,f,g=a("../events/events"),h=a("../dom/dom"),i=a("../observer/observer"),j=a("../core/core"),k=a("../config/config"),l=a("../select/select"),m=(a("../modal/modal"),a("../terminal/terminal")),n=[];return"mobile"===k("device")||!1,c=function(a){return a.className=a.className.replace(/\s?component-[a-zA-Z0-9]*\s?/g,""),a},d=function(a,b){if(b=b||{},window.self!==window.top&&(a=window.top),a){if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return m.error(c),!1}return a.postMessage(JSON.stringify(b),"*"),b}return m.error("Error: destinationWindow for postMessage send could not be determined"),!1},e=function(a,b){var c;if("string"==typeof a)for(b="string"==typeof b?[b]:b,c=b.length;c--;)if("string"==typeof b[c]){b[c]=b[c].replace(/\/*$/,"");try{if(b[c].match(a))return!0}catch(d){return!1}}return!1},f=function(a){var b,c=!1,d=window.document.body,e="ncenvoy-",f=j.generateId(),g=a&&a.src&&0===a.src.indexOf("javascript");return a.parent&&(j.isString(a.parent)&&(d=l.get(a.parent)),j.isElement(a.parent)&&(d=a.parent)),a&&a.product&&a.service&&(a.src&&"string"==typeof a.src&&(c=h.createIframe({src:!g&&a.src.replace(/#.*/,"")+"#"+e+f||a.src,allowtransparency:!0})),c)?(a.hide&&h.hide(c),a.attributes&&h.setAttributes(c,a.attributes),h.addClass(c,[e+a.product,e+a.product+"-"+a.service]),c.id=e+f,j.isElement(a.parent)&&(d=a.parent),b={channel:h.append(d,c),product:a.product,service:a.service,parent:d},i.publish("envoy/message/channel/created",[b]),!0):(m.error("Error: Cannot create channel"),!1)},b=function(a){return n[a.toString()]?void m.error("Error: Already listening on that whitelist"):(g.addEventListener(window,"message",function(b){var c;if(e(b.origin,a))try{c=JSON.parse(b.data),i.publish("envoy/message/window/receive",[c,b.source,b.origin])}catch(d){return m.error(b.data),m.error(d),!1}else m.warn("Origin not allowed!");n.push(a.toString())},!1),!0)},{listen:b,send:d,createChannel:f}}()},{"../config/config":2,"../core/core":3,"../dom/dom":4,"../events/events":5,"../modal/modal":8,"../observer/observer":9,"../select/select":11,"../terminal/terminal":12}],8:[function(a,b){b.exports=function(){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n=a("../dom/dom"),o=a("../terminal/terminal"),p=a("../select/select"),q=a("../events/events"),r=(a("../message/message"),a("../observer/observer")),s=a("../config/config"),t=a("../core/core"),u=a("domready"),v="ncenvoy",w="ncenvoy-modal-overlay",x="ncenvoy-modal",y="ncenvoy-modal-buffer",z=window.document.documentElement.clientHeight,A=window.document.documentElement.offsetHeight;return"mobile"===s("device")||!1,l=z>A?z:A,m=function(){return Math.max(window.document.documentElement.clientHeight,window.document.documentElement.offsetHeight,window.document.body.clientHeight,window.document.body.offsetHeight)},i=function(){var a=window.document.getElementById(w);return window.document.getElementById(x),a?window.document.getElementById(w):(a=n.createElem({tag:"div",attr:{id:w}}),n.addStyles(a,{position:"absolute",zIndex:1e5,top:"0",overflow:"hidden",left:"0",height:m()+"px",width:"100%",background:"#000",opacity:"0.5",filter:"filter: alpha(opacity=50)"}),n.hide(a),n.append(window.document.body,a))},h=function(){var a;return window.document.getElementById(y)?window.document.getElementById(y):(a=n.createElem({tag:"div",overflow:"hidden",attr:{id:y}}),n.hide(a),n.append(window.document.body,a))},e=function(){var a=window.document.getElementById(w);a&&n.addStyles(a,{height:m()+"px",width:"100%"})},c=function(a){var b,c={styles:{top:"0",left:"0",display:"none",zIndex:100010,position:"absolute",overflow:"hidden"}};return window.document.getElementById(x)?window.document.getElementById(x):(a=t.extend(c,a,!0),a.styles=t.extend(a.styles,{width:"100%"}),b=n.createElem({tag:"div",attr:{id:x}}),n.addStyles(b,a.styles),q.addEventListener(b,"click",function(a){(a.target===b||a.srcElement===b)&&g()}),n.append(window.document.body,b))},b=function(a){var b,d,e,f;u(function(){d=h(),e=i(),b=c(),a({modal:b,buffer:d,overlay:e})}),q.addEventListener(window,"resize",function(){f||(f=window.setTimeout(function(){k(),window.clearTimeout(f),f=!1},100))})},k=function(){var a,b=window.document.getElementById(x)||!1,c=window.document.getElementById(w);b&&c&&("desktop"===window.newscdn.envoy.config("device")&&b.firstChild&&b.firstChild.offsetHeight&&(a=(window.innerHeight-b.firstChild.offsetHeight)/2,n.addStyles(b.firstChild,{top:a+"px"})),n.addStyles(b,{height:m()+"px"}),n.addStyles(c,{height:m()+"px"}))},d=function(a){var c,d,e=window.document.getElementById(x)||!1,f=window.document.getElementById(y)||!1;d=function(){e.firstChild&&t.isElement(e.firstChild)&&n.append(f,e.firstChild),t.isElement(a)&&(n.append(e,a),n.addStyles(a,{margin:"0 auto"}))},e||(c=b(function(a){e=a.modal,f=a.buffer,d()}))},j=function(){var a=window.document.getElementById(x)||!1,b=window.document.getElementById(y)||!1;b&&a&&a.firstChild&&n.append(b,a.firstChild)},f=function(a){if(!t.isElement(a)||t.isString(a))return void o.error("Error: Show modal expects an element or a selector passed");var c,f,g,h=window.document.getElementById(x)||!1,i=window.document.getElementById(w)||!1;h||(f=b(),h=f.modal,i=f.overlay),a=t.isString(a)&&p.get(a)||a,window.scrollTo(0,0),t.isElement(a)&&(h.firstChild!==a&&(j(),d(a)),n.show([i,h,a,c]),e(),k(),"desktop"===window.newscdn.envoy.config("device")&&(g=(window.innerHeight-a.offsetHeight)/2,n.addStyles(a,{top:g+"px"})),n.addClass(h,v+"-modal-active"),r.publish("envoy/modal/self/visible"))},g=function(a,b){var c,d=window.document.getElementById(x)||!1,e=window.document.getElementById(w)||!1;c=d.firstChild||!1,n.hide([d,e]),n.removeClass(d,v+"-modal-active"),window.newscdn.envoy.publish("envoy/modal/self/hidden"),"function"===b&&b()},{show:f,update:k,insert:d,hide:g}}(window)},{"../config/config":2,"../core/core":3,"../dom/dom":4,"../events/events":5,"../message/message":7,"../observer/observer":9,"../select/select":11,"../terminal/terminal":12,domready:14}],9:[function(a,b){b.exports=function(){"use strict";var b,c,d,e,f=a("../terminal/terminal"),g={},h={};return window.newscdn=window.newscdn||{},window.newscdn.envoy=window.newscdn.envoy||{},window.newscdn.envoy._cache=window.newscdn.envoy._cache||{},g=window.newscdn.envoy._cache,b=function(a,b,c){for(var d=g[a],e=d?d.length:0,i=c&&c.persist||!1;e--;)try{d[e].apply(this,b||[])}catch(j){f.error("Error: Subscribed function "+d[e].toString()+" generated the following error: ",j)}i&&(h[a]=h[a]||[],h[a].push(b))},d=function(a,b,c){var d;if(g[a]||(g[a]=[]),g[a].push(b),c&&c.persisted)for(d=h[a]&&h[a].length||0;d--;)b.apply(this,h[a][d]||[]);return[a,b]},e=function(a,b){for(var c=g[b?a:a[0]],d=b||a[1],e=c?c.length:0;e--;)c[e]===d&&c.splice(e,1)},c=function(a){return h=a===!0&&{}||h,"string"==typeof a&&h[a]&&(h[a]=[]),[a,h]},{subscribe:d,unsubscribe:e,publish:b,withdraw:c}}()},{"../terminal/terminal":12}],10:[function(a,b){b.exports=function(){"use strict";var a;return a=function(a){var b,c=a.url||"",d=a.height||400,e=a.width||150;return b=window.open(c,"name","height="+d+",width="+e+"scrollbars=no,location=no,status=no,menubar=no,toolbar=no"),window.focus&&b.focus(),!1},{trigger:a}}},{}],11:[function(a,b){b.exports=function(){"use strict";var b,c=a("../terminal/terminal"),d=a("../core/core");return b={get:function(a,b){var e=d.isElement(b)?b:window.document;try{return e.querySelector(a)}catch(f){c.error("Error: Failed querySelector call")}return!1},getAll:function(a,b){var e=d.isElement(b)?b:window.document;try{return e.querySelectorAll(a)}catch(f){c.error("Error: Failed querySelectorAll call")}return!1}}}()},{"../core/core":3,"../terminal/terminal":12}],12:[function(a,b){b.exports=function(){"use strict";var a,b,c,d,e=function(){},f=["trace","debug","info","log","warn","error"];for(b=function(b){return void 0===typeof console?e:void 0===console[b]?void 0!==console.log?a(console,"log"):e:a(console,b)},a=function(a,b){var c=a[b];if(void 0===c.bind){if(void 0===Function.prototype.bind)return d(c,a);try{return Function.prototype.bind.call(a[b],a)}catch(e){return d(c,a)}}return a[b].bind(a)},d=function(a,b){return function(){Function.prototype.apply.apply(a,[b,arguments])}},c=f.length;--c;);return{warn:function(){},debug:function(){},log:function(){},error:function(){},trace:function(){}}}()},{}],13:[function(a,b){b.exports="1.0.0"},{}],14:[function(a,b){!function(a,c){"undefined"!=typeof b?b.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this[a]=c()}("domready",function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?n?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}})},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12])},{}],19:[function(a,b,c){},{}],20:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],21:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],22:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],23:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("FWaASH"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":22,FWaASH:21,inherits:20}],24:[function(a,b,c){!function(a,c){"undefined"!=typeof b?b.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this[a]=c()}("domready",function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?n?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}})},{}],25:[function(a,b,c){var d=a("./handlebars/base"),e=a("./handlebars/utils"),f=a("./handlebars/compiler"),g=a("./handlebars/runtime"),h=function(){var a=d.create();return e.attach(a),f.attach(a),g.attach(a),a},i=h();if(i.create=h,b.exports=i,a.extensions){var j=function(b,c){var d=a("fs"),e=d.readFileSync(c,"utf8");b.exports=i.compile(e)};a.extensions[".handlebars"]=j,a.extensions[".hbs"]=j}},{"./handlebars/base":26,"./handlebars/compiler":30,"./handlebars/runtime":35,"./handlebars/utils":36,fs:19}],26:[function(a,b,c){b.exports.create=function(){var a={};a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var b=Object.prototype.toString,c="[object Function]",d="[object Object]";return a.registerHelper=function(c,e,f){if(b.call(c)===d){if(f||e)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,c)}else f&&(e.not=f),this.helpers[c]=e},a.registerPartial=function(c,e){b.call(c)===d?a.Utils.extend(this.partials,c):this.partials[c]=e},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(d,e){var f=e.inverse||function(){},g=e.fn,h=b.call(d);return h===c&&(d=d.call(this)),d===!0?g(this):d===!1||null==d?f(this):"[object Array]"===h?d.length>0?a.helpers.each(d,e):f(this):g(d)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(d,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=b.call(d);if(k===c&&(d=d.call(this)),e.data&&(f=a.createFrame(e.data)),d&&"object"==typeof d)if(d instanceof Array)for(var l=d.length;l>i;i++)f&&(f.index=i),j+=g(d[i],{data:f});else for(var m in d)d.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(d[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),!d||a.Utils.isEmpty(d)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),a.Utils.isEmpty(d)?void 0:e.fn(d)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a}},{}],27:[function(a,b,c){c.attach=function(a){return a.AST={},a.AST.ProgramNode=function(b,c){this.type="program",this.statements=b,c&&(this.inverse=new a.AST.ProgramNode(c))},a.AST.MustacheNode=function(a,b,c){this.type="mustache",this.escaped=!c,this.hash=b;var d=this.id=a[0],e=this.params=a.slice(1),f=this.eligibleHelper=d.isSimple;this.isHelper=f&&(e.length||b)},a.AST.PartialNode=function(a,b){this.type="partial",this.partialName=a,this.context=b},a.AST.BlockNode=function(b,c,d,e){if(b.id.original!==e.original)throw new a.Exception(b.id.original+" doesn't match "+e.original);this.type="block",this.mustache=b,this.program=c,this.inverse=d,this.inverse&&!this.program&&(this.isInverse=!0)},a.AST.ContentNode=function(a){this.type="content",this.string=a},a.AST.HashNode=function(a){this.type="hash",this.pairs=a},a.AST.IdNode=function(b){this.type="ID";for(var c="",d=[],e=0,f=0,g=b.length;g>f;f++){var h=b[f].part;if(c+=(b[f].separator||"")+h,".."===h||"."===h||"this"===h){if(d.length>0)throw new a.Exception("Invalid path: "+c);".."===h?e++:this.isScoped=!0}else d.push(h)}this.original=c,this.parts=d,this.string=d.join("."),this.depth=e,this.isSimple=1===b.length&&!this.isScoped&&0===e,this.stringModeValue=this.string},a.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME",this.name=a.original},a.AST.DataNode=function(a){this.type="DATA",this.id=a},a.AST.StringNode=function(a){this.type="STRING",this.original=this.string=this.stringModeValue=a},a.AST.IntegerNode=function(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},a.AST.BooleanNode=function(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},a.AST.CommentNode=function(a){this.type="comment",this.comment=a},a}},{}],28:[function(a,b,c){var d=a("./parser");c.attach=function(a){return a.Parser=d,a.parse=function(b){return b.constructor===a.AST.ProgramNode?b:(a.Parser.yy=a.AST,a.Parser.parse(b))},a}},{"./parser":32}],29:[function(a,b,c){var d=a("./base");c.attach=function(a){d.attach(a);var b=a.Compiler=function(){};return b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var b,c=a.statements;this.opcodes=[];for(var d=0,e=c.length;e>d;d++)b=c[d],this[b.type](b);return this.isSimple=1===e,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){if(this.options.data=!0,b.id.isScoped||b.id.depth)throw new a.Exception("Scoped data references are not supported: "+b.original);this.opcode("lookupData");for(var c=b.id.parts,d=0,e=c.length;e>d;d++)this.opcode("lookup",c[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},a.precompile=function(c,d){if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var e=a.parse(c),f=(new b).compile(e,d);return(new a.JavaScriptCompiler).compile(f,d)},a.compile=function(c,d){function e(){var e=a.parse(c),f=(new b).compile(e,d),g=(new a.JavaScriptCompiler).compile(f,d,void 0,!0);return a.template(g)}if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var f;return function(a,b){return f||(f=e()),f.call(this,a,b)}},a}},{"./base":28}],30:[function(a,b,c){b.exports.attach=function(b){var c=a("./visitor"),d=a("./printer"),e=a("./ast"),f=a("./compiler"),g=a("./javascript-compiler");return c.attach(b),d.attach(b),e.attach(b),f.attach(b),g.attach(b),b}},{"./ast":27,"./compiler":29,"./javascript-compiler":31,"./printer":33,"./visitor":34}],31:[function(a,b,c){var d=a("./base");c.attach=function(a){d.attach(a);var b=function(a){this.value=a},c=a.JavaScriptCompiler=function(){};c.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":c.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=b,this.options=c||{},a.log(a.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!d,this.context=d||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(b,c);var f,g=b.opcodes;this.i=0;for(var h=g.length;this.i<h;this.i++)f=g[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){var a=this.environment.opcodes;return a[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);if(c.length>0&&(this.source[1]=this.source[1]+", "+c.join(", ")),!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push("depth"+this.environment.depths.list[f]);var h=this.mergeSource();if(!this.isChild){var i=a.COMPILER_REVISION,j=a.REVISION_CHANGES[i];h="this.compilerInfo = ["+i+",'"+j+"'];\n"+h}if(b)return e.push(h),Function.apply(this,e);var k="function "+(this.name||"")+"("+e.join(",")+") {\n  "+h+"}";return a.log(a.logger.DEBUG,k+"\n\n"),k},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){
return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(a){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:c,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new b(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.source.push(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var c,d="",e=this.isInline();if(e){var f=this.popStack(!0);if(f instanceof b)c=f.value;else{var g=this.stackSlot?this.topStackName():this.incrStack();d="("+this.push(g)+" = "+f+"),",c=this.topStack()}}else c=this.topStack();var h=a.call(this,c);return e?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+d+h+")")):(/^stack/.test(c)||(c=this.nextStack()),this.source.push(c+" = ("+d+h+");")),c},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var c=0,d=a.length;d>c;c++){var e=a[c];e instanceof b?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var c=this.isInline(),d=(c?this.inlineStack:this.compileStack).pop();return!a&&d instanceof b?d.value:(c||this.stackSlot--,d)},topStack:function(a){var c=this.isInline()?this.inlineStack:this.compileStack,d=c[c.length-1];return!a&&d instanceof b?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;a>j;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),f=c.RESERVED_WORDS={},g=0,h=e.length;h>g;g++)f[e[g]]=!0;return c.isValidJavaScriptVariableName=function(a){return!c.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1},a}},{"./base":28}],32:[function(a,b,c){var d=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=new d.ProgramNode([],f[h]);break;case 3:this.$=new d.ProgramNode(f[h-2],f[h]);break;case 4:this.$=new d.ProgramNode(f[h-1],[]);break;case 5:this.$=new d.ProgramNode(f[h]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[h]];break;case 9:f[h-1].push(f[h]),this.$=f[h-1];break;case 10:this.$=new d.BlockNode(f[h-2],f[h-1].inverse,f[h-1],f[h]);break;case 11:this.$=new d.BlockNode(f[h-2],f[h-1],f[h-1].inverse,f[h]);break;case 12:this.$=f[h];break;case 13:this.$=f[h];break;case 14:this.$=new d.ContentNode(f[h]);break;case 15:this.$=new d.CommentNode(f[h]);break;case 16:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1]);break;case 17:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1]);break;case 18:this.$=f[h-1];break;case 19:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1],"&"===f[h-2][2]);break;case 20:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1],!0);break;case 21:this.$=new d.PartialNode(f[h-1]);break;case 22:this.$=new d.PartialNode(f[h-2],f[h-1]);break;case 23:break;case 24:this.$=[[f[h-2]].concat(f[h-1]),f[h]];break;case 25:this.$=[[f[h-1]].concat(f[h]),null];break;case 26:this.$=[[f[h-1]],f[h]];break;case 27:this.$=[[f[h]],null];break;case 28:this.$=[[f[h]],null];break;case 29:f[h-1].push(f[h]),this.$=f[h-1];break;case 30:this.$=[f[h]];break;case 31:this.$=f[h];break;case 32:this.$=new d.StringNode(f[h]);break;case 33:this.$=new d.IntegerNode(f[h]);break;case 34:this.$=new d.BooleanNode(f[h]);break;case 35:this.$=f[h];break;case 36:this.$=new d.HashNode(f[h]);break;case 37:f[h-1].push(f[h]),this.$=f[h-1];break;case 38:this.$=[f[h]];break;case 39:this.$=[f[h-2],f[h]];break;case 40:this.$=[f[h-2],new d.StringNode(f[h])];break;case 41:this.$=[f[h-2],new d.IntegerNode(f[h])];break;case 42:this.$=[f[h-2],new d.BooleanNode(f[h])];break;case 43:this.$=[f[h-2],f[h]];break;case 44:this.$=new d.PartialNameNode(f[h]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[h]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[h]));break;case 47:this.$=new d.DataNode(f[h]);break;case 48:this.$=new d.IdNode(f[h]);break;case 49:f[h-2].push({part:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 50:this.$=[{part:f[h]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){switch(c){case 0:return b.yytext="\\",14;case 1:if("\\"!==b.yytext.slice(-1)&&this.begin("mu"),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu")),b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},a.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.exports=d},{}],33:[function(a,b,c){c.attach=function(a){return a.print=function(b){return(new a.PrintVisitor).accept(b)},a.PrintVisitor=function(){this.padding=0},a.PrintVisitor.prototype=new a.Visitor,a.PrintVisitor.prototype.pad=function(a,b){for(var c="",d=0,e=this.padding;e>d;d++)c+="  ";return c+=a,b!==!1&&(c+="\n"),c},a.PrintVisitor.prototype.program=function(a){var b,c,d="",e=a.statements;a.inverse;for(b=0,c=e.length;c>b;b++)d+=this.accept(e[b]);return this.padding--,d},a.PrintVisitor.prototype.block=function(a){var b="";return b+=this.pad("BLOCK:"),this.padding++,b+=this.accept(a.mustache),a.program&&(b+=this.pad("PROGRAM:"),this.padding++,b+=this.accept(a.program),this.padding--),a.inverse&&(a.program&&this.padding++,b+=this.pad("{{^}}"),this.padding++,b+=this.accept(a.inverse),this.padding--,a.program&&this.padding--),this.padding--,b},a.PrintVisitor.prototype.mustache=function(a){for(var b,c=a.params,d=[],e=0,f=c.length;f>e;e++)d.push(this.accept(c[e]));return c="["+d.join(", ")+"]",b=a.hash?" "+this.accept(a.hash):"",this.pad("{{ "+this.accept(a.id)+" "+c+b+" }}")},a.PrintVisitor.prototype.partial=function(a){var b=this.accept(a.partialName);return a.context&&(b=b+" "+this.accept(a.context)),this.pad("{{> "+b+" }}")},a.PrintVisitor.prototype.hash=function(a){for(var b,c,d=a.pairs,e=[],f=0,g=d.length;g>f;f++)b=d[f][0],c=this.accept(d[f][1]),e.push(b+"="+c);return"HASH{"+e.join(", ")+"}"},a.PrintVisitor.prototype.STRING=function(a){return'"'+a.string+'"'},a.PrintVisitor.prototype.INTEGER=function(a){return"INTEGER{"+a.integer+"}"},a.PrintVisitor.prototype.BOOLEAN=function(a){return"BOOLEAN{"+a.bool+"}"},a.PrintVisitor.prototype.ID=function(a){var b=a.parts.join("/");return a.parts.length>1?"PATH:"+b:"ID:"+b},a.PrintVisitor.prototype.PARTIAL_NAME=function(a){return"PARTIAL:"+a.name},a.PrintVisitor.prototype.DATA=function(a){return"@"+this.accept(a.id)},a.PrintVisitor.prototype.content=function(a){return this.pad("CONTENT[ '"+a.string+"' ]")},a.PrintVisitor.prototype.comment=function(a){return this.pad("{{! '"+a.comment+"' }}")},a}},{}],34:[function(a,b,c){c.attach=function(a){return a.Visitor=function(){},a.Visitor.prototype={accept:function(a){return this[a.type](a)}},a}},{}],35:[function(a,b,c){c.attach=function(a){return a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(b,c,d,e,f,g){var h={helpers:e,partials:f,data:g};if(void 0===b)throw new a.Exception("The partial "+c+" could not be found");if(b instanceof Function)return b(d,h);if(a.compile)return f[c]=a.compile(b,{data:void 0!==g}),f[c](d,h);throw new a.Exception("The partial "+c+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template,a}},{}],36:[function(a,b,c){c.attach=function(a){var b=Object.prototype.toString,c=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(a){for(var b=Error.prototype.constructor.apply(this,arguments),d=0;d<c.length;d++)this[c[d]]=b[c[d]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,f=/[&<>"'`]/,g=function(a){return d[a]||"&amp;"};return a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),f.test(b)?b.replace(e,g):b)},isEmpty:function(a){return a||0===a?"[object Array]"===b.call(a)&&0===a.length?!0:!1:!0}},a}},{}],37:[function(a,b,c){!function(c,d){"object"==typeof b&&b.exports&&"function"==typeof a?b.exports=d():"function"==typeof define&&"object"==typeof define.amd?define(d):c.log=d()}(this,function(){function a(a){return typeof console===i?!1:void 0!==console[a]?b(console,a):void 0!==console.log?b(console,"log"):h}function b(a,b){var c=a[b];if("function"==typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function c(a,b){return function(){typeof console!==i&&(d(b),g[a].apply(g,arguments))}}function d(a){for(var b=0;b<j.length;b++){var c=j[b];g[c]=a>b?h:g.methodFactory(c,a)}}function e(a){var b=(j[a]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=b)}catch(c){}try{window.document.cookie="loglevel="+b+";"}catch(c){}}function f(){var a;try{a=window.localStorage.loglevel}catch(b){}if(typeof a===i)try{a=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(b){}void 0===g.levels[a]&&(a="WARN"),g.setLevel(g.levels[a])}var g={},h=function(){},i="undefined",j=["trace","debug","info","warn","error"];g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=function(b,d){return a(b)||c(b,d)},g.setLevel=function(a){if("string"==typeof a&&void 0!==g.levels[a.toUpperCase()]&&(a=g.levels[a.toUpperCase()]),!("number"==typeof a&&a>=0&&a<=g.levels.SILENT))throw"log.setLevel() called with invalid level: "+a;return e(a),d(a),typeof console===i&&a<g.levels.SILENT?"No console available for logging":void 0},g.enableAll=function(){g.setLevel(g.levels.TRACE)},g.disableAll=function(){g.setLevel(g.levels.SILENT)};var k=typeof window!==i?window.log:void 0;return g.noConflict=function(){return typeof window!==i&&window.log===g&&(window.log=k),g},f(),g})},{}],38:[function(a,b,c){c.markdown=a("./markdown"),c.parse=c.markdown.toHTML},{"./markdown":39}],39:[function(b,c,d){!function(c){function d(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function e(){var a=b("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function f(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function g(a,b){function c(a){this.len_after=a,this.name="close_"+b}var d=a+"_state",e="strong"==a?"em_state":"strong_state";return function(f,g){if(this[d][0]==b)return this[d].shift(),[f.length,new c(f.length-b.length)];var h=this[e].slice(),i=this[d].slice();this[d].unshift(b);var j=this.processInline(f.substr(b.length)),k=j[j.length-1];this[d].shift();if(k instanceof c){j.pop();var l=f.length-k.len_after;return[l,[a].concat(j)]}return this[e]=h,this[d]=i,[b.length,b]}}function h(a){for(var b=a.split(""),c=[""],d=!1;b.length;){var e=b.shift();switch(e){case" ":d?c[c.length-1]+=e:c.push("");break;case"'":case'"':d=!d;break;case"\\":e=b.shift();default:c[c.length-1]+=e}}return c}function i(a){return r(a)&&a.length>1&&"object"==typeof a[1]&&!r(a[1])?a[1]:void 0}function j(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function k(a){if("string"==typeof a)return j(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(k(a.shift()));var e="";for(var f in c)e+=" "+f+'="'+j(c[f])+'"';return"img"==b||"br"==b||"hr"==b?"<"+b+e+"/>":"<"+b+e+">"+d.join("")+"</"+b+">"}function l(a,b,c){var d;c=c||{};var e=a.slice(0);"function"==typeof c.preprocessTreeNode&&(e=c.preprocessTreeNode(e,b));
var f=i(e);if(f){e[1]={};for(d in f)e[1][d]=f[d];f=e[1]}if("string"==typeof e)return e;switch(e[0]){case"header":e[0]="h"+e[1].level,delete e[1].level;break;case"bulletlist":e[0]="ul";break;case"numberlist":e[0]="ol";break;case"listitem":e[0]="li";break;case"para":e[0]="p";break;case"markdown":e[0]="html",f&&delete f.references;break;case"code_block":e[0]="pre",d=f?2:1;var g=["code"];g.push.apply(g,e.splice(d,e.length-d)),e[d]=g;break;case"inlinecode":e[0]="code";break;case"img":e[1].src=e[1].href,delete e[1].href;break;case"linebreak":e[0]="br";break;case"link":e[0]="a";break;case"link_ref":e[0]="a";var h=b[f.ref];if(!h)return f.original;delete f.ref,f.href=h.href,h.title&&(f.title=h.title),delete f.original;break;case"img_ref":e[0]="img";var h=b[f.ref];if(!h)return f.original;delete f.ref,f.src=h.href,h.title&&(f.title=h.title),delete f.original}if(d=1,f){for(var j in e[1]){d=2;break}1===d&&e.splice(d,1)}for(;d<e.length;++d)e[d]=l(e[d],b,c);return e}function m(a){for(var b=i(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+1,1)[0]:++b:(m(a[b]),++b)}var n=c.Markdown=function(a){switch(typeof a){case"undefined":this.dialect=n.dialects.Gruber;break;case"object":this.dialect=a;break;default:if(!(a in n.dialects))throw new Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=n.dialects[a]}this.em_state=[],this.strong_state=[],this.debug_indent=""};c.parse=function(a,b){var c=new n(b);return c.toTree(a)},c.toHTML=function(a,b,d){var e=c.toHTMLTree(a,b,d);return c.renderJsonML(e)},c.toHTMLTree=function(a,b,c){"string"==typeof a&&(a=this.parse(a,b));var d=i(a),e={};d&&d.references&&(e=d.references);var f=l(a,e,c);return m(f),f};var o=n.mk_block=function(a,b,c){1==arguments.length&&(b="\n\n");var f=new String(a);return f.trailing=b,f.inspect=e,f.toSource=d,void 0!=c&&(f.lineNumber=c),f};n.prototype.split_blocks=function(a,b){a=a.replace(/(\r\n|\n|\r)/g,"\n");var c,d=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,e=[],g=1;for(null!=(c=/^(\s*\n)/.exec(a))&&(g+=f(c[0]),d.lastIndex=c[0].length);null!==(c=d.exec(a));)"\n#"==c[2]&&(c[2]="\n",d.lastIndex--),e.push(o(c[1],c[2],g)),g+=f(c[0]);return e},n.prototype.processBlock=function(a,b){var c=this.dialect.block,d=c.__order__;if("__call__"in c)return c.__call__.call(this,a,b);for(var e=0;e<d.length;e++){var f=c[d[e]].call(this,a,b);if(f)return(!r(f)||f.length>0&&!r(f[0]))&&this.debug(d[e],"didn't return a proper array"),f}return[]},n.prototype.processInline=function(a){return this.dialect.inline.__call__.call(this,String(a))},n.prototype.toTree=function(a,b){var c=a instanceof Array?a:this.split_blocks(a),d=this.tree;try{for(this.tree=b||this.tree||["markdown"];c.length;){var e=this.processBlock(c.shift(),c);e.length&&this.tree.push.apply(this.tree,e)}return this.tree}finally{b&&(this.tree=d)}},n.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,a),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,a)},n.prototype.loop_re_over_block=function(a,b,c){for(var d,e=b.valueOf();e.length&&null!=(d=a.exec(e));)e=e.substr(d[0].length),c.call(this,d);return e},n.dialects={},n.dialects.Gruber={block:{atxHeader:function(a,b){var c=a.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!c)return void 0;var d=["header",{level:c[1].length}];return Array.prototype.push.apply(d,this.processInline(c[2])),c[0].length<a.length&&b.unshift(o(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]},setextHeader:function(a,b){var c=a.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!c)return void 0;var d="="===c[2]?1:2,e=["header",{level:d},c[1]];return c[0].length<a.length&&b.unshift(o(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[e]},code:function(a,b){var c=[],d=/^(?: {0,3}\t| {4})(.*)\n?/;if(!a.match(d))return void 0;a:for(;;){var e=this.loop_re_over_block(d,a.valueOf(),function(a){c.push(a[1])});if(e.length){b.unshift(o(e,a.trailing));break a}if(!b.length)break a;if(!b[0].match(d))break a;c.push(a.trailing.replace(/[^\n]/g,"").substring(2)),a=b.shift()}return[["code_block",c.join("\n")]]},horizRule:function(a,b){var c=a.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!c)return void 0;var d=[["hr"]];return c[1]&&d.unshift.apply(d,this.processBlock(c[1],[])),c[3]&&b.unshift(o(c[3])),d},lists:function(){function a(a){return new RegExp("(?:^("+i+"{0,"+a+"} {0,3})("+f+")\\s+)|(^"+i+"{0,"+(a-1)+"}[ ]{0,4})")}function b(a){return a.replace(/ {0,3}\t/g,"    ")}function c(a,b,c,d){if(b)return void a.push(["para"].concat(c));var e=a[a.length-1]instanceof Array&&"para"==a[a.length-1][0]?a[a.length-1]:a;d&&a.length>1&&c.unshift(d);for(var f=0;f<c.length;f++){var g=c[f],h="string"==typeof g;h&&e.length>1&&"string"==typeof e[e.length-1]?e[e.length-1]+=g:e.push(g)}}function d(a,b){for(var c=new RegExp("^("+i+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+i+"{"+a+"}","gm"),e=[];b.length>0&&c.exec(b[0]);){var f=b.shift(),g=f.replace(d,"");e.push(o(g,f.trailing,f.lineNumber))}return e}function e(a,b,c){var d=a.list,e=d[d.length-1];if(!(e[1]instanceof Array&&"para"==e[1][0]))if(b+1==c.length)e.push(["para"].concat(e.splice(1,e.length-1)));else{var f=e.pop();e.push(["para"].concat(e.splice(1,e.length-1)),f)}}var f="[*+-]|\\d+\\.",g=/[*+-]/,h=new RegExp("^( {0,3})("+f+")[ 	]+"),i="(?: {0,3}\\t| {4})";return function(f,i){function j(a){var b=g.exec(a[2])?["bulletlist"]:["numberlist"];return n.push({list:b,indent:a[1]}),b}var k=f.match(h);if(!k)return void 0;for(var l,m,n=[],o=j(k),p=!1,r=[n[0].list];;){for(var s=f.split(/(?=\n)/),t="",u=0;u<s.length;u++){var v="",w=s[u].replace(/^\n/,function(a){return v=a,""}),x=a(n.length);if(k=w.match(x),void 0!==k[1]){t.length&&(c(l,p,this.processInline(t),v),p=!1,t=""),k[1]=b(k[1]);var y=Math.floor(k[1].length/4)+1;if(y>n.length)o=j(k),l.push(o),l=o[1]=["listitem"];else{var z=!1;for(m=0;m<n.length;m++)if(n[m].indent==k[1]){o=n[m].list,n.splice(m+1,n.length-(m+1)),z=!0;break}z||(y++,y<=n.length?(n.splice(y,n.length-y),o=n[y-1].list):(o=j(k),l.push(o))),l=["listitem"],o.push(l)}v=""}w.length>k[0].length&&(t+=v+w.substr(k[0].length))}t.length&&(c(l,p,this.processInline(t),v),p=!1,t="");var A=d(n.length,i);A.length>0&&(q(n,e,this),l.push.apply(l,this.toTree(A,[])));var B=i[0]&&i[0].valueOf()||"";if(!B.match(h)&&!B.match(/^ /))break;f=i.shift();var C=this.dialect.block.horizRule(f,i);if(C){r.push.apply(r,C);break}q(n,e,this),p=!0}return r}}(),blockquote:function(a,b){if(!a.match(/^>/m))return void 0;var c=[];if(">"!=a[0]){for(var d=a.split(/\n/),e=[],f=a.lineNumber;d.length&&">"!=d[0][0];)e.push(d.shift()),f++;var g=o(e.join("\n"),"\n",a.lineNumber);c.push.apply(c,this.processBlock(g,[])),a=o(d.join("\n"),a.trailing,f)}for(;b.length&&">"==b[0][0];){var h=b.shift();a=o(a+a.trailing+h,h.trailing,a.lineNumber)}var j=a.replace(/^> ?/gm,""),k=(this.tree,this.toTree(j,["blockquote"])),l=i(k);return l&&l.references&&(delete l.references,s(l)&&k.splice(1,1)),c.push(k),c},referenceDefn:function(a,b){var c=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!a.match(c))return void 0;i(this.tree)||this.tree.splice(1,0,{});var d=i(this.tree);void 0===d.references&&(d.references={});var e=this.loop_re_over_block(c,a,function(a){a[2]&&"<"==a[2][0]&&">"==a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=d.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return e.length&&b.unshift(o(e,a.trailing)),[]},para:function(a,b){return[["para"].concat(this.processInline(a))]}}},n.dialects.Gruber.inline={__oneElement__:function(a,b,c){var d,e;b=b||this.dialect.inline.__patterns__;var f=new RegExp("([\\s\\S]*?)("+(b.source||b)+")");if(d=f.exec(a),!d)return[a.length,a];if(d[1])return[d[1].length,d[1]];var e;return d[2]in this.dialect.inline&&(e=this.dialect.inline[d[2]].call(this,a.substr(d.index),d,c||[])),e=e||[d[2].length,d[2]]},__call__:function(a,b){function c(a){"string"==typeof a&&"string"==typeof e[e.length-1]?e[e.length-1]+=a:e.push(a)}for(var d,e=[];a.length>0;)d=this.dialect.inline.__oneElement__.call(this,a,b,e),a=a.substr(d.shift()),q(d,c);return e},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(a){return this.dialect.inline.__escape__.exec(a)?[2,a.charAt(1)]:[1,"\\"]},"![":function(a){var b=a.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(b){b[2]&&"<"==b[2][0]&&">"==b[2][b[2].length-1]&&(b[2]=b[2].substring(1,b[2].length-1)),b[2]=this.dialect.inline.__call__.call(this,b[2],/\\/)[0];var c={alt:b[1],href:b[2]||""};return void 0!==b[4]&&(c.title=b[4]),[b[0].length,["img",c]]}return b=a.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),b?[b[0].length,["img_ref",{alt:b[1],ref:b[2].toLowerCase(),original:b[0]}]]:[2,"!["]},"[":function t(a){var b=String(a),c=n.DialectHelpers.inline_until_char.call(this,a.substr(1),"]");if(!c)return[1,"["];var t,d,e=1+c[0],f=c[1];a=a.substr(e);var g=a.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(g){var h=g[1];if(e+=g[0].length,h&&"<"==h[0]&&">"==h[h.length-1]&&(h=h.substring(1,h.length-1)),!g[3])for(var i=1,j=0;j<h.length;j++)switch(h[j]){case"(":i++;break;case")":0==--i&&(e-=h.length-j,h=h.substring(0,j))}return h=this.dialect.inline.__call__.call(this,h,/\\/)[0],d={href:h||""},void 0!==g[3]&&(d.title=g[3]),t=["link",d].concat(f),[e,t]}return g=a.match(/^\s*\[(.*?)\]/),g?(e+=g[0].length,d={ref:(g[1]||String(f)).toLowerCase(),original:b.substr(0,e)},t=["link_ref",d].concat(f),[e,t]):1==f.length&&"string"==typeof f[0]?(d={ref:f[0].toLowerCase(),original:b.substr(0,e)},t=["link_ref",d,f[0]],[e,t]):[1,"["]},"<":function(a){var b;return null!=(b=a.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?b[3]?[b[0].length,["link",{href:"mailto:"+b[3]},b[3]]]:"mailto"==b[2]?[b[0].length,["link",{href:b[1]},b[1].substr("mailto:".length)]]:[b[0].length,["link",{href:b[1]},b[1]]]:[1,"<"]},"`":function(a){var b=a.match(/(`+)(([\s\S]*?)\1)/);return b&&b[2]?[b[1].length+b[2].length,["inlinecode",b[3]]]:[1,"`"]},"  \n":function(a){return[3,["linebreak"]]}},n.dialects.Gruber.inline["**"]=g("strong","**"),n.dialects.Gruber.inline.__=g("strong","__"),n.dialects.Gruber.inline["*"]=g("em","*"),n.dialects.Gruber.inline._=g("em","_"),n.buildBlockOrder=function(a){var b=[];for(var c in a)"__order__"!=c&&"__call__"!=c&&b.push(c);a.__order__=b},n.buildInlinePatterns=function(a){var b=[];for(var c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1==c.length?d:"(?:"+d+")")}b=b.join("|"),a.__patterns__=b;var e=a.__call__;a.__call__=function(a,c){return void 0!=c?e.call(this,a,c):e.call(this,a,b)}},n.DialectHelpers={},n.DialectHelpers.inline_until_char=function(a,b){for(var c=0,d=[];;){if(a.charAt(c)==b)return c++,[c,d];if(c>=a.length)return null;var e=this.dialect.inline.__oneElement__.call(this,a.substr(c));c+=e[0],d.push.apply(d,e.slice(1))}},n.subclassDialect=function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}},n.buildBlockOrder(n.dialects.Gruber.block),n.buildInlinePatterns(n.dialects.Gruber.inline),n.dialects.Maruku=n.subclassDialect(n.dialects.Gruber),n.dialects.Maruku.processMetaHash=function(a){for(var b=h(a),c={},d=0;d<b.length;++d)if(/^#/.test(b[d]))c.id=b[d].substring(1);else if(/^\./.test(b[d]))c["class"]?c["class"]=c["class"]+b[d].replace(/./," "):c["class"]=b[d].substring(1);else if(/\=/.test(b[d])){var e=b[d].split(/\=/);c[e[0]]=e[1]}return c},n.dialects.Maruku.block.document_meta=function(a,b){if(a.lineNumber>1)return void 0;if(!a.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;i(this.tree)||this.tree.splice(1,0,{});var c=a.split(/\n/);for(p in c){var d=c[p].match(/(\w+):\s*(.*)$/),e=d[1].toLowerCase(),f=d[2];this.tree[1][e]=f}return[]},n.dialects.Maruku.block.block_meta=function(b,c){var d=b.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!d)return void 0;var e,f=this.dialect.processMetaHash(d[2]);if(""===d[1]){var g=this.tree[this.tree.length-1];if(e=i(g),"string"==typeof g)return void 0;e||(e={},g.splice(1,0,e));for(a in f)e[a]=f[a];return[]}var h=b.replace(/\n.*$/,""),j=this.processBlock(h,[]);e=i(j[0]),e||(e={},j[0].splice(1,0,e));for(a in f)e[a]=f[a];return j},n.dialects.Maruku.block.definition_list=function(a,b){var c,d,e=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,f=["dl"];if(!(d=a.match(e)))return void 0;for(var g=[a];b.length&&e.exec(b[0]);)g.push(b.shift());for(var h=0;h<g.length;++h){var d=g[h].match(e),i=d[1].replace(/\n$/,"").split(/\n/),j=d[2].split(/\n:\s+/);for(c=0;c<i.length;++c)f.push(["dt",i[c]]);for(c=0;c<j.length;++c)f.push(["dd"].concat(this.processInline(j[c].replace(/(\n)\s+/,"$1"))))}return[f]},n.dialects.Maruku.block.table=function u(a,b){var c,d,e=function(a,b){b=b||"\\s",b.match(/^[\\|\[\]{}?*.+^$]$/)&&(b="\\"+b);for(var c,d=[],e=new RegExp("^((?:\\\\.|[^\\\\"+b+"])*)"+b+"(.*)");c=a.match(e);)d.push(c[1]),a=c[2];return d.push(a),d},f=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,g=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(d=a.match(f))d[3]=d[3].replace(/^\s*\|/gm,"");else if(!(d=a.match(g)))return void 0;var u=["table",["thead",["tr"]],["tbody"]];d[2]=d[2].replace(/\|\s*$/,"").split("|");var h=[];for(q(d[2],function(a){a.match(/^\s*-+:\s*$/)?h.push({align:"right"}):a.match(/^\s*:-+\s*$/)?h.push({align:"left"}):a.match(/^\s*:-+:\s*$/)?h.push({align:"center"}):h.push({})}),d[1]=e(d[1].replace(/\|\s*$/,""),"|"),c=0;c<d[1].length;c++)u[1][1].push(["th",h[c]||{}].concat(this.processInline(d[1][c].trim())));return q(d[3].replace(/\|\s*$/gm,"").split("\n"),function(a){var b=["tr"];for(a=e(a,"|"),c=0;c<a.length;c++)b.push(["td",h[c]||{}].concat(this.processInline(a[c].trim())));u[2].push(b)},this),[u]},n.dialects.Maruku.inline["{:"]=function(a,b,c){if(!c.length)return[2,"{:"];var d=c[c.length-1];if("string"==typeof d)return[2,"{:"];var e=a.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!e)return[2,"{:"];var f=this.dialect.processMetaHash(e[1]),g=i(d);g||(g={},d.splice(1,0,g));for(var h in f)g[h]=f[h];return[e[0].length,""]},n.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,n.buildBlockOrder(n.dialects.Maruku.block),n.buildInlinePatterns(n.dialects.Maruku.inline);var q,r=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};q=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)};var s=function(a){for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0};c.renderJsonML=function(a,b){b=b||{},b.root=b.root||!1;var c=[];if(b.root)c.push(k(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(k(a.shift()));return c.join("\n\n")}}(function(){return"undefined"==typeof d?(window.markdown={},window.markdown):d}())},{util:23}],40:[function(require,module,exports){!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function succeed(a){var b=protocolRe.exec(a.url);return b=b&&b[1]||window.location.protocol,httpsRe.test(b)?twoHundo.test(a.request.status):!!a.request.response}function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):a._timedOut?c(a.request,"Request is aborted: timeout"):void(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,succeed(a)?b(a.request):c(a.request)))}}function setHeaders(a,b){var c,d=b.headers||{};d.Accept=d.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"];var e="function"==typeof FormData&&b.data instanceof FormData;b.crossOrigin||d[requestedWith]||(d[requestedWith]=defaultHeaders.requestedWith),d[contentType]||e||(d[contentType]=b.contentType||defaultHeaders.contentType);for(c in d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function setCredentials(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,"undefined"==typeof j.onreadystatechange||l||(j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){return j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k?!1:(j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),void(k=1))},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var c,d=this.o,e=(d.method||"GET").toUpperCase(),f="string"==typeof d?d:d.url,g=d.processData!==!1&&d.data&&"string"!=typeof d.data?reqwest.toQueryString(d.data):d.data||null,h=!1;return"jsonp"!=d.type&&"GET"!=e||!g||(f=urlappend(f,g),g=null),"jsonp"==d.type?handleJsonp(d,a,b,f):(c=d.xhr&&d.xhr(d)||xhr(d),c.open(e,f,d.async===!1?!1:!0),setHeaders(c,d),setCredentials(c,d),win[xDomainRequest]&&c instanceof win[xDomainRequest]?(c.onload=a,c.onerror=b,c.onprogress=function(){},h=!0):c.onreadystatechange=handleReadyState(this,a,b),d.before&&d.before(c),h?setTimeout(function(){c.send(g)},200):c.send(g),c)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){return a.match("json")?"json":a.match("javascript")?"js":a.match("text")?"html":a.match("xml")?"xml":void 0}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c,d,e,f,g=a.name,h=a.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&b(g,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&g)switch(h){case"input":/reset|button|image|file/i.test(a.type)||(c=/checkbox/i.test(a.type),d=/radio/i.test(a.type),e=a.value,(!(c||d)||a.checked)&&b(g,normalize(c&&""===e?"on":e)));break;case"textarea":b(g,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(f=0;a.length&&f<a.length;f++)a.options[f].selected&&i(a.options[f])}}function eachFormElement(){var a,b,c=this,d=function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[byTag](b[d]),e=0;e<f.length;e++)serial(f[e],c)};for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&serial(a,c),d(a,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=win[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this},"catch":function(a){return this.fail(a)}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest})},{}],41:[function(a,b,c){(function(){var a=this,d=a._,e=Array.prototype,f=Object.prototype,g=Function.prototype,h=e.push,i=e.slice,j=e.concat,k=f.toString,l=f.hasOwnProperty,m=Array.isArray,n=Object.keys,o=g.bind,p=function(a){return a instanceof p?a:this instanceof p?void(this._wrapped=a):new p(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=p),c._=p):a._=p,p.VERSION="1.7.0";var q=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};p.iteratee=function(a,b,c){return null==a?p.identity:p.isFunction(a)?q(a,b,c):p.isObject(a)?p.matches(a):p.property(a)},p.each=p.forEach=function(a,b,c){if(null==a)return a;b=q(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=p.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},p.map=p.collect=function(a,b,c){if(null==a)return[];b=p.iteratee(b,c);for(var d,e=a.length!==+a.length&&p.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var r="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(a,b,c,d){null==a&&(a=[]),b=q(b,d,4);var e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(r);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},p.reduceRight=p.foldr=function(a,b,c,d){null==a&&(a=[]),b=q(b,d,4);var e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(r);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},p.find=p.detect=function(a,b,c){var d;return b=p.iteratee(b,c),p.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},p.filter=p.select=function(a,b,c){var d=[];return null==a?d:(b=p.iteratee(b,c),p.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},p.reject=function(a,b,c){return p.filter(a,p.negate(p.iteratee(b)),c)},p.every=p.all=function(a,b,c){if(null==a)return!0;b=p.iteratee(b,c);var d,e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},p.some=p.any=function(a,b,c){if(null==a)return!1;b=p.iteratee(b,c);var d,e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},p.contains=p.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=p.values(a)),p.indexOf(a,b)>=0)},p.invoke=function(a,b){var c=i.call(arguments,2),d=p.isFunction(b);return p.map(a,function(a){return(d?b:a[b]).apply(a,c)})},p.pluck=function(a,b){return p.map(a,p.property(b))},p.where=function(a,b){return p.filter(a,p.matches(b))},p.findWhere=function(a,b){return p.find(a,p.matches(b))},p.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=a.length===+a.length?a:p.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=p.iteratee(b,c),p.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},p.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:p.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=p.iteratee(b,c),p.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},p.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:p.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=p.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},p.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=p.values(a)),a[p.random(a.length-1)]):p.shuffle(a).slice(0,Math.max(0,b))},p.sortBy=function(a,b,c){return b=p.iteratee(b,c),p.pluck(p.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var s=function(a){return function(b,c,d){var e={};return c=p.iteratee(c,d),p.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};p.groupBy=s(function(a,b,c){p.has(a,c)?a[c].push(b):a[c]=[b]}),p.indexBy=s(function(a,b,c){a[c]=b}),p.countBy=s(function(a,b,c){p.has(a,c)?a[c]++:a[c]=1}),p.sortedIndex=function(a,b,c,d){c=p.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},p.toArray=function(a){return a?p.isArray(a)?i.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a):[]},p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length},p.partition=function(a,b,c){b=p.iteratee(b,c);var d=[],e=[];return p.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:i.call(a,0,b)},p.initial=function(a,b,c){return i.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},p.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:i.call(a,Math.max(a.length-b,0))},p.rest=p.tail=p.drop=function(a,b,c){return i.call(a,null==b||c?1:b)},p.compact=function(a){return p.filter(a,p.identity)};var t=function(a,b,c,d){if(b&&p.every(a,p.isArray))return j.apply(d,a);for(var e=0,f=a.length;f>e;e++){var g=a[e];p.isArray(g)||p.isArguments(g)?b?h.apply(d,g):t(g,b,c,d):c||d.push(g)}return d};p.flatten=function(a,b){return t(a,b,!1,[])},p.without=function(a){return p.difference(a,i.call(arguments,1))},p.uniq=p.unique=function(a,b,c,d){if(null==a)return[];p.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=p.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);p.indexOf(f,j)<0&&(f.push(j),e.push(i))}else p.indexOf(e,i)<0&&e.push(i)}return e},p.union=function(){return p.uniq(t(arguments,!0,!0,[]))},p.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!p.contains(b,f)){for(var g=1;c>g&&p.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},p.difference=function(a){var b=t(i.call(arguments,1),!0,!0,[]);return p.filter(a,function(a){return!p.contains(b,a)})},p.zip=function(a){if(null==a)return[];for(var b=p.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=p.pluck(arguments,d);return c},p.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},p.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=p.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},p.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},p.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var u=function(){};p.bind=function(a,b){var c,d;if(o&&a.bind===o)return o.apply(a,i.call(arguments,1));if(!p.isFunction(a))throw new TypeError("Bind must be called on a function");return c=i.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(i.call(arguments)));u.prototype=a.prototype;var e=new u;u.prototype=null;var f=a.apply(e,c.concat(i.call(arguments)));return p.isObject(f)?f:e}},p.partial=function(a){var b=i.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===p&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},p.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");
for(b=1;d>b;b++)c=arguments[b],a[c]=p.bind(a[c],a);return a},p.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return p.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},p.delay=function(a,b){var c=i.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},p.defer=function(a){return p.delay.apply(p,[a,1].concat(i.call(arguments,1)))},p.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:p.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=p.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},p.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=p.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=p.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},p.wrap=function(a,b){return p.partial(b,a)},p.negate=function(a){return function(){return!a.apply(this,arguments)}},p.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},p.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},p.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},p.once=p.partial(p.before,2),p.keys=function(a){if(!p.isObject(a))return[];if(n)return n(a);var b=[];for(var c in a)p.has(a,c)&&b.push(c);return b},p.values=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},p.pairs=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},p.invert=function(a){for(var b={},c=p.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},p.functions=p.methods=function(a){var b=[];for(var c in a)p.isFunction(a[c])&&b.push(c);return b.sort()},p.extend=function(a){if(!p.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)l.call(b,c)&&(a[c]=b[c])}return a},p.pick=function(a,b,c){var d,e={};if(null==a)return e;if(p.isFunction(b)){b=q(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var g=j.apply([],i.call(arguments,1));a=new Object(a);for(var h=0,k=g.length;k>h;h++)d=g[h],d in a&&(e[d]=a[d])}return e},p.omit=function(a,b,c){if(p.isFunction(b))b=p.negate(b);else{var d=p.map(j.apply([],i.call(arguments,1)),String);b=function(a,b){return!p.contains(d,b)}}return p.pick(a,b,c)},p.defaults=function(a){if(!p.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a},p.tap=function(a,b){return b(a),a};var v=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped),b instanceof p&&(b=b._wrapped);var e=k.call(a);if(e!==k.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(p.isFunction(g)&&g instanceof g&&p.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i,j;if("[object Array]"===e){if(i=a.length,j=i===b.length)for(;i--&&(j=v(a[i],b[i],c,d)););}else{var l,m=p.keys(a);if(i=m.length,j=p.keys(b).length===i)for(;i--&&(l=m[i],j=p.has(b,l)&&v(a[l],b[l],c,d)););}return c.pop(),d.pop(),j};p.isEqual=function(a,b){return v(a,b,[],[])},p.isEmpty=function(a){if(null==a)return!0;if(p.isArray(a)||p.isString(a)||p.isArguments(a))return 0===a.length;for(var b in a)if(p.has(a,b))return!1;return!0},p.isElement=function(a){return!(!a||1!==a.nodeType)},p.isArray=m||function(a){return"[object Array]"===k.call(a)},p.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){p["is"+a]=function(b){return k.call(b)==="[object "+a+"]"}}),p.isArguments(arguments)||(p.isArguments=function(a){return p.has(a,"callee")}),"function"!=typeof/./&&(p.isFunction=function(a){return"function"==typeof a||!1}),p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},p.isNaN=function(a){return p.isNumber(a)&&a!==+a},p.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===k.call(a)},p.isNull=function(a){return null===a},p.isUndefined=function(a){return void 0===a},p.has=function(a,b){return null!=a&&l.call(a,b)},p.noConflict=function(){return a._=d,this},p.identity=function(a){return a},p.constant=function(a){return function(){return a}},p.noop=function(){},p.property=function(a){return function(b){return b[a]}},p.matches=function(a){var b=p.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},p.times=function(a,b,c){var d=Array(Math.max(0,a));b=q(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},p.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=p.invert(w),y=function(a){var b=function(b){return a[b]},c="(?:"+p.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};p.escape=y(w),p.unescape=y(x),p.result=function(a,b){if(null==a)return void 0;var c=a[b];return p.isFunction(c)?a[b]():c};var z=0;p.uniqueId=function(a){var b=++z+"";return a?a+b:b},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\u2028|\u2029/g,D=function(a){return"\\"+B[a]};p.template=function(a,b,c){!b&&c&&(b=c),b=p.defaults({},b,p.templateSettings);var d=RegExp([(b.escape||A).source,(b.interpolate||A).source,(b.evaluate||A).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(C,D),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,p)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},p.chain=function(a){var b=p(a);return b._chain=!0,b};var E=function(a){return this._chain?p(a).chain():a};p.mixin=function(a){p.each(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];return h.apply(a,arguments),E.call(this,c.apply(p,a))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];p.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],E.call(this,c)}}),p.each(["concat","join","slice"],function(a){var b=e[a];p.prototype[a]=function(){return E.call(this,b.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this)},{}]},{},[12]);