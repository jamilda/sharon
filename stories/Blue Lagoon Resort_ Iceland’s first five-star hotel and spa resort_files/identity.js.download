/*! identity - v1.3.9 - 2018-02-07 11:02:49 */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(d){!function(a){if("object"==typeof c)b.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof d?e=d:"undefined"!=typeof self&&(e=self),e.popupWatch=a()}}(function(){var b;return function c(b,d,e){function f(h,i){if(!d[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);throw new Error("Cannot find module '"+h+"'")}var k=d[h]={exports:{}};b[h][0].call(k.exports,function(a){var c=b[h][1][a];return f(c?c:a)},k,k.exports,c,b,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){b.exports=function(){var b,c,d,e,f=a("../version"),g=document.createElement("iframe"),h=a("../../core/environment"),i=window.addEventListener||window.attachEvent,j=window.addEventListener||window.attachEvent,k=window.addEventListener?"":"on",l=null,m=!1;return g.src=h.ssl+"/"+f+"/views/watch.html",g.setAttribute("style","height:0;width:0;display:none"),e=function(a){a.origin===h.ssl&&a.data.indexOf("signinSuccess=true")>-1&&(m=!0,c())},d=function(){return document.body.contains(g)||document.body.appendChild(g),i(k+"message",e),document.body.contains(g)},c=function(){return j(k+"message",e),document.body.contains(g)&&g.parentNode.removeChild(g),!document.body.contains(g)},b=function(a,b,c){a=a||!1,c=c||{},c.watch&&d();try{window.document.cookie="signinSuccess=true;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}catch(e){}!function f(){try{m=window.document.cookie.indexOf("signinSuccess=")>-1?!0:m,l=window.document.cookie.match(/signinSuccess=([^;]*)/)[1],("true"===l||l===!0)&&(l=null)}catch(a){}try{}catch(a){}m&&"0"!==m?(window.document.cookie="signinSuccess=true;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",b?window.newscdn.envoy.publish("envoy/message/window/send",[window,{eventType:"envoy/identity/login/reload",eventData:l}]):window.newscdn.envoy.publish("envoy/identity/login/reload",[l])):window.setTimeout(f,250)}()},{watch:b}}()},{"../../core/environment":3,"../version":2}],2:[function(a,b,c){b.exports="1.3.9"},{}],3:[function(a,b,c){b.exports=function(){"use strict";var b,c,d,e,f,g,h=a("underscore"),i="http:",j=!1,k="",l="",m=!1;f=window.newscdn.envoy.config("identity.base"),g=window.newscdn.envoy.config("identity.basessl"),e=h.template("<%= protocol %>//<%= location %>identity<%= prefix %>.newscdn.com.au"),j=!0,i=j&&"https:"||"http:",k=j&&"ssl"||"";try{m=ENVIRONMENT}catch(n){if(m=window.newscdn.envoy.config("identity.environment")||!1,!m){d=document.querySelector("script[src*='identity.js']");try{m=d.src.match(/([a-z]+)\.identity(ssl)?.newscdn/)[1]}catch(o){m="production"}}}return m&&""!==m&&(l=m+"."),"production"===m&&(l=""),b=f||e({protocol:"http:",location:l,prefix:k}),c=g||e({protocol:"https:",location:l,prefix:"ssl"}),j&&(b=c),{base:b,location:m,ssl:c}}()},{underscore:4}],4:[function(a,c,d){(function(){var a=this,e=a._,f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=Array.isArray,o=Object.keys,p=h.bind,q=function(a){return a instanceof q?a:this instanceof q?void(this._wrapped=a):new q(a)};"undefined"!=typeof d?("undefined"!=typeof c&&c.exports&&(d=c.exports=q),d._=q):a._=q,q.VERSION="1.7.0";var r=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};q.iteratee=function(a,b,c){return null==a?q.identity:q.isFunction(a)?r(a,b,c):q.isObject(a)?q.matches(a):q.property(a)},q.each=q.forEach=function(a,b,c){if(null==a)return a;b=r(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=q.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},q.map=q.collect=function(a,b,c){if(null==a)return[];b=q.iteratee(b,c);for(var d,e=a.length!==+a.length&&q.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var s="Reduce of empty array with no initial value";q.reduce=q.foldl=q.inject=function(a,b,c,d){null==a&&(a=[]),b=r(b,d,4);var e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(s);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},q.reduceRight=q.foldr=function(a,b,c,d){null==a&&(a=[]),b=r(b,d,4);var e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(s);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},q.find=q.detect=function(a,b,c){var d;return b=q.iteratee(b,c),q.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},q.filter=q.select=function(a,b,c){var d=[];return null==a?d:(b=q.iteratee(b,c),q.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},q.reject=function(a,b,c){return q.filter(a,q.negate(q.iteratee(b)),c)},q.every=q.all=function(a,b,c){if(null==a)return!0;b=q.iteratee(b,c);var d,e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},q.some=q.any=function(a,b,c){if(null==a)return!1;b=q.iteratee(b,c);var d,e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},q.contains=q.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=q.values(a)),q.indexOf(a,b)>=0)},q.invoke=function(a,b){var c=j.call(arguments,2),d=q.isFunction(b);return q.map(a,function(a){return(d?b:a[b]).apply(a,c)})},q.pluck=function(a,b){return q.map(a,q.property(b))},q.where=function(a,b){return q.filter(a,q.matches(b))},q.findWhere=function(a,b){return q.find(a,q.matches(b))},q.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=a.length===+a.length?a:q.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=q.iteratee(b,c),q.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},q.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:q.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=q.iteratee(b,c),q.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},q.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:q.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=q.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},q.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=q.values(a)),a[q.random(a.length-1)]):q.shuffle(a).slice(0,Math.max(0,b))},q.sortBy=function(a,b,c){return b=q.iteratee(b,c),q.pluck(q.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var t=function(a){return function(b,c,d){var e={};return c=q.iteratee(c,d),q.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};q.groupBy=t(function(a,b,c){q.has(a,c)?a[c].push(b):a[c]=[b]}),q.indexBy=t(function(a,b,c){a[c]=b}),q.countBy=t(function(a,b,c){q.has(a,c)?a[c]++:a[c]=1}),q.sortedIndex=function(a,b,c,d){c=q.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},q.toArray=function(a){return a?q.isArray(a)?j.call(a):a.length===+a.length?q.map(a,q.identity):q.values(a):[]},q.size=function(a){return null==a?0:a.length===+a.length?a.length:q.keys(a).length},q.partition=function(a,b,c){b=q.iteratee(b,c);var d=[],e=[];return q.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},q.first=q.head=q.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},q.initial=function(a,b,c){return j.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},q.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},q.rest=q.tail=q.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},q.compact=function(a){return q.filter(a,q.identity)};var u=function(a,b,c,d){if(b&&q.every(a,q.isArray))return k.apply(d,a);for(var e=0,f=a.length;f>e;e++){var g=a[e];q.isArray(g)||q.isArguments(g)?b?i.apply(d,g):u(g,b,c,d):c||d.push(g)}return d};q.flatten=function(a,b){return u(a,b,!1,[])},q.without=function(a){return q.difference(a,j.call(arguments,1))},q.uniq=q.unique=function(a,b,c,d){if(null==a)return[];q.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=q.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);q.indexOf(f,j)<0&&(f.push(j),e.push(i))}else q.indexOf(e,i)<0&&e.push(i)}return e},q.union=function(){return q.uniq(u(arguments,!0,!0,[]))},q.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!q.contains(b,f)){for(var g=1;c>g&&q.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},q.difference=function(a){var b=u(j.call(arguments,1),!0,!0,[]);return q.filter(a,function(a){return!q.contains(b,a)})},q.zip=function(a){if(null==a)return[];for(var b=q.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=q.pluck(arguments,d);return c},q.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},q.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=q.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},q.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},q.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var v=function(){};q.bind=function(a,b){var c,d;if(p&&a.bind===p)return p.apply(a,j.call(arguments,1));if(!q.isFunction(a))throw new TypeError("Bind must be called on a function");return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));v.prototype=a.prototype;var e=new v;v.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return q.isObject(f)?f:e}},q.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===q&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},q.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=q.bind(a[c],a);return a},q.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return q.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},q.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},q.defer=function(a){return q.delay.apply(q,[a,1].concat(j.call(arguments,1)))},q.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:q.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=q.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},q.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=q.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=q.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},q.wrap=function(a,b){return q.partial(b,a)},q.negate=function(a){return function(){return!a.apply(this,arguments)}},q.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},q.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},q.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},q.once=q.partial(q.before,2),q.keys=function(a){if(!q.isObject(a))return[];if(o)return o(a);var b=[];for(var c in a)q.has(a,c)&&b.push(c);return b},q.values=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},q.pairs=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},q.invert=function(a){for(var b={},c=q.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},q.functions=q.methods=function(a){var b=[];for(var c in a)q.isFunction(a[c])&&b.push(c);return b.sort()},q.extend=function(a){if(!q.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)m.call(b,c)&&(a[c]=b[c])}return a},q.pick=function(a,b,c){var d,e={};if(null==a)return e;if(q.isFunction(b)){b=r(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var g=k.apply([],j.call(arguments,1));a=new Object(a);for(var h=0,i=g.length;i>h;h++)d=g[h],d in a&&(e[d]=a[d])}return e},q.omit=function(a,b,c){if(q.isFunction(b))b=q.negate(b);else{var d=q.map(k.apply([],j.call(arguments,1)),String);b=function(a,b){return!q.contains(d,b)}}return q.pick(a,b,c)},q.defaults=function(a){if(!q.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},q.clone=function(a){return q.isObject(a)?q.isArray(a)?a.slice():q.extend({},a):a},q.tap=function(a,b){return b(a),a};var w=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof q&&(a=a._wrapped),b instanceof q&&(b=b._wrapped);var e=l.call(a);if(e!==l.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(q.isFunction(g)&&g instanceof g&&q.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i,j;if("[object Array]"===e){if(i=a.length,j=i===b.length)for(;i--&&(j=w(a[i],b[i],c,d)););}else{var k,m=q.keys(a);if(i=m.length,j=q.keys(b).length===i)for(;i--&&(k=m[i],j=q.has(b,k)&&w(a[k],b[k],c,d)););}return c.pop(),d.pop(),j};q.isEqual=function(a,b){return w(a,b,[],[])},q.isEmpty=function(a){if(null==a)return!0;if(q.isArray(a)||q.isString(a)||q.isArguments(a))return 0===a.length;for(var b in a)if(q.has(a,b))return!1;return!0},q.isElement=function(a){return!(!a||1!==a.nodeType)},q.isArray=n||function(a){return"[object Array]"===l.call(a)},q.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},q.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){q["is"+a]=function(b){return l.call(b)==="[object "+a+"]"}}),q.isArguments(arguments)||(q.isArguments=function(a){return q.has(a,"callee")}),"function"!=typeof/./&&(q.isFunction=function(a){return"function"==typeof a||!1}),q.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},q.isNaN=function(a){return q.isNumber(a)&&a!==+a},q.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===l.call(a)},q.isNull=function(a){return null===a},q.isUndefined=function(a){return void 0===a},q.has=function(a,b){return null!=a&&m.call(a,b)},q.noConflict=function(){return a._=e,this},q.identity=function(a){return a},q.constant=function(a){return function(){return a}},q.noop=function(){},q.property=function(a){return function(b){return b[a]}},q.matches=function(a){var b=q.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},q.times=function(a,b,c){var d=Array(Math.max(0,a));b=r(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},q.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},q.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},y=q.invert(x),z=function(a){var b=function(b){return a[b]},c="(?:"+q.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};q.escape=z(x),q.unescape=z(y),q.result=function(a,b){if(null==a)return void 0;var c=a[b];return q.isFunction(c)?a[b]():c};var A=0;q.uniqueId=function(a){var b=++A+"";return a?a+b:b},q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,E=function(a){return"\\"+C[a]};q.template=function(a,b,c){!b&&c&&(b=c),b=q.defaults({},b,q.templateSettings);var d=RegExp([(b.escape||B).source,(b.interpolate||B).source,(b.evaluate||B).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(D,E),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,q)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},q.chain=function(a){var b=q(a);return b._chain=!0,b};var F=function(a){return this._chain?q(a).chain():a};q.mixin=function(a){q.each(q.functions(a),function(b){var c=q[b]=a[b];q.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),F.call(this,c.apply(q,a))}})},q.mixin(q),q.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];q.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],F.call(this,c)}}),q.each(["concat","join","slice"],function(a){var b=f[a];q.prototype[a]=function(){return F.call(this,b.apply(this._wrapped,arguments))}}),q.prototype.value=function(){return this._wrapped},"function"==typeof b&&b.amd&&b("underscore",[],function(){return q})}).call(this)},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){b.exports="1.3.9"},{}],3:[function(a,b,c){b.exports=function(){var b,c,d,e,f,g,h,i,j,k,l=a("../libs/cookie/cookie"),m=a("underscore"),n=a("./environment"),o=a("loglevel"),p=a("./domain"),q=a("./toggles"),r=a("../vendor/idp"),s=a("reqwest");return j="cbM2gyi16pqfr",f={status:"logged-out",socialEnable:1,socialTwitterEnable:1,socialGoogleEnable:1,memtype:"anonymous",snDisable:0,open_token:"",livefyre_token:"",paywalldisabled:1,socialLinkedinEnable:1,socialFacebookEnable:1},l.defaults.path="/",l.defaults.domain=p.get(),b=function(){var a=window.document.createElement("a"),b=window.document.createElement("a"),c=m.now(),d=l.get("IAASAuthoriseCache");b.href=window.document.referrer,a.href=window.document.URL;try{if(!d||"0"===d)return l.set("IAASAuthoriseCache",c),!1;parseInt(d,10)+9e5<c&&(l.set("IAASAuthoriseCache",0),o.debug("Debug: Authorise cache has expired"))}catch(e){o.warn("Error: Unable to set cookie for IAASAuthoriseCache")}return""===window.document.referrer||b.hostname!==a.hostname?!1:document.URL.search(/login=/)>-1?(l.set("IAASAuthoriseCache",0),!1):l.get("IAASAuthoriseCache")>0},c=m.memoize(function(a){var b,c,d;return d=r.get(),b=m.template(["<%=domain%>","/<%=version%>","/service/acl.json"].join("")),c=m.template(["?site=<%=site%>","&channel=<%=channel%>","&idp="+d.name,"<%=ot%>","<%=lft%>","<%=stop%>"].join("")),window.newscdn.envoy.config("identity.acl")?window.newscdn.envoy.config("identity.acl")+c(a):b(a)+c(a)}),k=function(a){return m.isString(a)&&"null"===a?!0:!1},d=function(a){s({url:a,type:"jsonp",jsonpCallbackName:"__IDAAS__"+j,error:i,success:g})},h=function(a){window.newscdn.envoy.config("identity.aclResponse",a),window.newscdn.envoy.config("identity.toggles",q.getOperatorToggles(a)),window.newscdn.envoy.publish("envoy/identity/user/details",[a,window.newscdn.envoy.config("identity.toggles")],{persist:!0})},i=function(a){o.error("Error: acl.json has returned an error and cannot load current user state."),window.newscdn.envoy.config("identity.aclResponse",a),h(f)},g=function(a){var b=l.get("IAASOpenToken"),c=l.get("IAASLivefyreToken"),d=(new Date).getTime(),e=l.get("open_token"),f=l.get("livefyre_token");!a.open_token&&e&&"anonymous"!==e&&(a.open_token=e),!a.livefyre_token&&f&&"anonymous"!==f&&(a.livefyre_token=f);try{a.open_token&&b!==a.open_token&&""!==a.open_token&&(l.set("IAASOpenToken",a.open_token),l.set("IAASOpenTokenTime",d),b=a.open_token),a.livefyre_token&&c!==a.livefyre_token&&""!==a.livefyre_token&&(l.set("IAASLivefyreToken",a.livefyre_token),c=a.livefyre_token)}catch(g){}h(a)},e=function(a){var b,e=a.idpSite||"",f=a.idpChannel||"",g=a.version||"",h="https:"===window.location.protocol&&!0||!1,i="",j="",o="",p=!1,q=window.newscdn.envoy.config("identity.acl")||!1,r=l.get("IAASOpenToken"),s=l.get("IAASLivefyreToken"),t=l.get("open_token"),u=l.get("livefyre_token");b=n.base,h&&(b=n.ssl),k(r)&&t&&"anonymous"!==t&&(r=t),k(s)&&u&&"anonymous"!==u&&(s=u),p&&!r&&(o="&stop=1");try{r&&""!==r&&(i="&open_token="+r),s&&""!==s&&(j="&livefyre_c="+s)}catch(v){}q=c({domain:b,site:e,channel:f,version:g,ot:i,lft:j,stop:o}),m.delay(d,0,q)},{init:e}}()},{"../libs/cookie/cookie":19,"../vendor/idp":20,"./domain":8,"./environment":9,"./toggles":17,loglevel:25,reqwest:26,underscore:27}],4:[function(a,b,c){b.exports=function(){var b,c,d,e,f,g,h,i,j,k=a("underscore"),l=a("./iframe"),m=a("loglevel"),n=a("../common/version"),o=a("./config/config");return b=["http://dev.identity.newscdn.com.au","https://dev.identityssl.newscdn.com.au","http://uat.identity.newscdn.com.au","https://uat.identityssl.newscdn.com.au","http://identity.newscdn.com.au","https://identityssl.newscdn.com.au",window.newscdn.envoy.config("identity.base"),window.newscdn.envoy.config("identity.basessl")],d=function(a){return window.newscdn.envoy.config("identity."+a)||{}},c=function(a){return document.getElementById(a)},h=function(a,b,c){if(b=b.toString(),c=k.isArray(c)?c:[c],a=k.isElement(a)?a:document.querySelector(a),"IFRAME"===a.nodeName)try{a.contentWindow.newscdn.envoy.publish(b,c)}catch(d){window.newscdn.envoy.publish("envoy/message/window/send",[a.contentWindow,{eventType:b,eventData:c}])}},e=function(a){var b,c,d,e;if(c=a&&a.className.match(/-identity-component-([a-z]+)$/),b=c&&c[1]||!1,!b)throw"Error: Unable to determine component type";d=JSON.parse(JSON.stringify(window.newscdn.envoy.config("identity."+b))),d.type=b,d.device=window.newscdn.envoy.config("device"),d.site=window.newscdn.envoy.config("site"),d.aclResponse=window.newscdn.envoy.config("identity.aclResponse"),d.base=window.newscdn.envoy.config("identity.base"),d.basessl=window.newscdn.envoy.config("identity.basessl"),d.idp=window.newscdn.envoy.config("identity.idp"),d.version=n,d.toggles=window.newscdn.envoy.config("identity.toggles");for(var f in d)d.hasOwnProperty(f)&&"string"==typeof d[f]&&(d[f]=d[f].replace("{{site}}",d.site),d[f]=d[f].replace("{{parentUrl}}",d.site));e=o.data(a);for(var g in e)e.hasOwnProperty(g)&&(d[g]=e[g]);return d||{}},f=function(a){var b=document.body.className.split(" "),c=window.newscdn.envoy.config("identity.disbaled");return k.contains(b,"ncenvoy-identity-"+a+"-disabled")?(m.warn("IDAAS "+a+" disbaled via body class"),!0):k.contains(b,"newscdn-identity-"+a+"-disabled")?(m.warn("IDAAS "+a+" disbaled via body class"),!0):k.isArray(c)&&k.contains(c,a)?(m.warn("IDAAS "+a+" disbaled via configuration"),!0):!1},g=function(a,b){var c,d,f,g,h;if(!a.children||!a.children.item(0)||"iframe"!==a.children.item(0).nodeName.toLowerCase())return"login"===b&&window.newscdn.envoy.config("identity.toggles.paywallEnabled")===!1?void m.warn("Warning: Paywall is down"):(h="ncenvoy-component-"+Math.random().toString(16).substring(2,15),g=e(a),a.style.position="relative",g.width?a.style.width=g.width:g["max-width"]&&(a.style.maxWidth=g["max-width"]),g.height?a.style.height=g.height:g["max-height"]&&(a.style.maxHeight=g["max-height"]),g.modal&&"false"!==g.modal.toString()&&(a.style.display="none",window.newscdn.envoy.publish("envoy/modal/append/start",[a])),g.endpoint&&(c=g.endpoint,d=g.forcessl===!0),window.newscdn.envoy.config("identity."+h,g),f=l.create({name:b,parent:a,endpoint:c,forcessl:d},h))},j=function(a,b){var c,e=a.baseIdentityDomain,h=a.baseSSLIdentityDomain,j=[],l={};c=document.querySelectorAll("[class*=newscdn-identity-component-]"),k.each(c,function(a){var b=a.className.match(/newscdn-identity-component-([a-z]+)/);b[1]&&!f(b[1])?j.push(b[1]):m.warn("Component "+b[1]+" disabled")}),j=k.uniq(j),o.init(j),i(j),k.each(j,function(a){var b=document.querySelectorAll("[class*=newscdn-identity-component-"+a+"]");k.each(b,function(b){var c=g(b,a,{baseIdentityDomain:e,baseSSLIdentityDomain:h});l[a]={container:b,iframe:c,config:d(c.id)}})}),k.isFunction(b)&&b(l)},i=function(){window.newscdn.envoy.subscribe("identity/component/settings/request",function(a){var b=c(a),e=d(a);h(b,"identity/"+a+"/settings/response",[a,e])}),window.newscdn.envoy.publish("envoy/message/window/listen",[b]),window.newscdn.envoy.subscribe("envoy/message/window/receive",function(a,b){a&&b&&a.eventType&&"string"==typeof a.eventType&&window.newscdn.envoy.publish(a.eventType,[a.eventData])})},{init:j}}()},{"../common/version":2,"./config/config":6,"./iframe":10,loglevel:25,underscore:27}],5:[function(a,b,c){b.exports=function(){var b,c=a("../environment"),d=a("../../common/version"),e=a("../../vendor/myaccount"),f=window.newscdn.envoy.config("site");return b=c.ssl+"/"+d,{networks:["facebook","twitter","linkedin","googleplus"],cs:{url:b+"/views/cs.html","terms-url":"https://myaccount.news.com.au/dailytelegraph/help/subscriptionTerms?pkgDef=NL_OFF_PEP"},login:{desktop:{endpoint:"/views/login.html",forcessl:!0,"relay-state-args":"login=1",defaultcss:!0,css:[],"background-override":"","background-imgs":[],width:"1000px","max-width":"1000px",height:"650px",modal:!0,title:"Welcome to News","registration-url":b+"/views/registration.html","subscribe-url":b+"/views/subscribe.html","subscribe-url-text":"Subscribe here","subscribe-text":"Don't have an account?","forgot-password-url":e.get().domain+"/"+f+"/forgotPassword","signupfinal-url":b+"/views/signupfinal.html","social-title":"Login using your favourite social network","newsplus-title":"Using your News account","forgot-password-text":"Forgot your password?","private-mode-text":"You are currently using private or incognito browsing mode so you'll need to log in next time you visit this site."},mobile:{endpoint:"/views/login.html",forcessl:!0,defaultcss:!0,"relay-state-args":"login=1",width:"100%",height:"100%",modal:!0,title:"Welcome to News","registration-url":b+"/views/registration.html","subscribe-url":b+"/views/subscribe.html","subscribe-url-text":"Subscribe here","subscribe-text":"Don't have an account?","forgot-password-url":e.get().domain+"/"+f+"/forgotPassword","signupfinal-url":b+"/views/signupfinal.html","social-title":"Login using your favourite social network","newsplus-title":"Using your News account","forgot-password-text":"Forgot your password?","private-mode-text":"You are currently using private or incognito browsing mode so you'll need to log in next time you visit this site."}},ninbar:{desktop:{css:[],defaultcss:!0,links:"[News.com.au](http://www.news.com.au/?from=ninbar),[Foxsports](http://www.foxsports.com.au/?from=ninbar),[CareerOne](http://www.careerone.com.au/?from=ninbar),[CarsGuide](http://www.carsguide.com.au/?from=ninbar),[Realestate](http://www.realestate.com.au/?from=ninbar),[Network](/network)",width:"100%","max-width":"100%",height:"30px",logo:"","logo-link":"/","registration-url":b+"/views/registration.html","subscribe-url":b+"/views/subscribe.html","login-url-text":"Login","myaccount-url":e.get().domain+"/"+f+"/viewAccount","myaccount-url-text":"My Account","logout-url-text":"Logout"},mobile:{defaultcss:!0,links:"",width:"100%",height:"38px","logo-link":"/","registration-url":b+"/views/registration.html","subscribe-url":b+"/views/subscribe.html","login-url-text":"Login","myaccount-url":e.get().domain+"/"+f+"/viewAccount","myaccount-url-text":"My Account","logout-url-text":"Logout"}},rego:{desktop:{endpoint:"/views/rego.html",forcessl:!0,width:"100%",height:"600px",defaultcss:!0,"success-url":b+"/views/rego-success.html","myaccount-url":e.get().domain,"txt-register-terms":"","rego-offercode":"1037_1_","rego-site":f,"rego-sourcecode":"","lbl-cam-remember-me":"Keep me logged in on this device.<br>(Uncheck if you are using a shared device)","on-complete":"http://www.dailytelegraph.com.au/","lbl-email":"Email address (e.g. john@blue.com)","err-email-invalid":"Please enter a valid email address","err-email-exists":"Email exists. Please login","lbl-password":"Password (6-20 characters)","err-password-invalid-chars":"Please do not use characters #, &, < or > in your password","err-password-length":"Please enter a password that is 6-20 characters","lbl-firstname":"First Name","err-firstname-invalid":"Please do not use characters #, &, < or > in this field","err-firstname-empty":"Please enter your first name","lbl-surname":"Last Name","err-surname-invalid":"Please do not use characters #, &, < or > in this field","err-surname-empty":"Please enter your last name","lbl-postcode":"Postcode (e.g. 2000)","lbl-submit":"Register for free","txt-form-divder-or":"","txt-form-heading":"Create an account","txt-main-heading":"Connect an account","txt-register-login":"Log in if you already have an account","tealium-profile":""},mobile:{endpoint:"/views/rego.html",forcessl:!0,width:"100%",height:"500px",defaultcss:!0,"success-url":b+"/views/rego-success.html","myaccount-url":e.get().domain,"rego-offercode":"1037_1_","rego-site":f,"rego-sourcecode":"","lbl-cam-remember-me":"Keep me logged in on this device.<br>(Uncheck if you are using a shared device)","on-complete":"http://www.dailytelegraph.com.au/","lbl-email":"Email address (e.g. john@blue.com)","err-email-invalid":"Please enter a valid email address","err-email-exists":"Email exists. Please login","lbl-password":"Password (6-20 characters)","err-password-invalid-chars":"Please do not use characters #, &, < or > in your password","err-password-length":"Please enter a password that is 6-20 characters","lbl-postcode":"Postcode (e.g. 2000)","lbl-firstname":"First name","err-firstname-invalid":"Please do not use characters #, &, < or > in this field","err-firstname-empty":"Please enter your first name","lbl-submit":"Register for free","lbl-surname":"Last name","err-surname-invalid":"Please do not use characters #, &, < or > in this field","err-surname-empty":"Please enter your last name","txt-form-divder-or":"","txt-form-heading":"Create an account","txt-main-heading":"Connect an account","txt-register-login":"Log in if you already have an account","tealium-profile":""}}}}()},{"../../common/version":2,"../../vendor/myaccount":21,"../environment":9}],6:[function(a,b,c){b.exports=function(){var b,c,d,e=a("underscore"),f=a("./base");return c=function(a){var b,c,d={};if(!a)return{};for(b=a.attributes,c=b&&b.length||0;c--;)b[c].name&&0===b[c].name.indexOf("data-")&&b[c].value&&(d[b[c].name.replace("data-","")]=b[c].value.toString(),a.removeAttribute(b[c].name));return d},b=function(b){var c,d=window.newscdn.envoy.config()||!1;if(!d)throw"Error: Envoy configuration not found in page";
c=d.identity||{},e.each(f,function(a,d){e.contains(b,d)||c[d]||(a=f[d],window.newscdn.envoy.config("identity."+d,a))}),e.each(b,function(b){var c,e;c=f[b]||{},c=c&&c[d.device]||{},c.idp=a("../../vendor/idp").get(),e=window.newscdn.envoy.config("identity."+b),c&&(window.newscdn.envoy.config("identity."+b,c),window.newscdn.envoy.config("identity."+b,e,!0))})},{init:b,data:c,toggles:d}}()},{"../../vendor/idp":20,"./base":5,underscore:27}],7:[function(a,b,c){!function(){"use strict";var b,c,d,e,f,g,h=a("domready"),i=a("./acl"),j=a("loglevel"),k=a("./settings"),l=a("underscore"),m=a("./components"),n=a("./widgets"),o=a("./login/login"),p=a("./login/logout"),q=a("../common/version");c=k.identity.basessl,b=k.identity.base,b=k.isSSL&&c||b,d=k.idp&&k.idp.site,e=k.idp&&k.idp.channel,window.newscdn.envoy.config("identity.basessl",c),window.newscdn.envoy.config("identity.base",b),window.newscdn.envoy.config("identity.version",q),g=function(){window.newscdn.envoy.subscribe("envoy/message/channel/created",function(a){var c,d,e=a.channel,f="<!doctype html><html><title>Identity "+a.service+'</title><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><base href="'+b+'" /><body onload="document._l();">    <script type="text/javascript">        window.ndm = {cam: {}};    </script></body></html>';if(0!==a.channel.src.indexOf("http")){try{c=e.contentWindow.document}catch(g){d=window.document.domain,e.src="javascript:var d=document.open();d.domain='"+d+"';void(0);",c=e.contentWindow.document}c.open()._l=function(){var b=this.createElement("script");this.documentElement.className="identity-"+a.service,d&&(this.domain=d),b.id="js-iframe-async",b.src="/"+q+"/components/main/main.js",this.body.appendChild(b)},c.write(f),c.documentElement.className="identity-"+a.service,c.close()}}),l.isElement(document.body)&&(document.body.className=document.body.className+" newscdn-identity-loaded"),window.newscdn.envoy.subscribe("envoy/identity/user/details",function(a,d){var e=function(b){l.isObject(b.login)&&o(a,d,b.login.container,b.login.iframe,b.login.config),p()};m.init({baseIdentityDomain:b,baseSSLIdentityDomain:c},e),n.init()},{persisted:!0})},f=function(){var a=document.body.className.split(" "),b=window.newscdn.envoy.config("identity.disbaled").toString();return l.contains(a,"ncenvoy-identity-disabled")?(j.warn("Debug: Identity disbaled via body class"),!0):l.contains(a,"newscdn-identity-disabled")?(j.warn("Debug: Identity disbaled via body class"),!0):"all"===b||"true"===b?(j.warn("Debug: Identity disbaled via configuration"),!0):!1},window.console&&window.console.log("IDAAS "+q+" Loaded"),window.newscdn.envoy.publish("identity/loaded",[q]),i.init({idpSite:d,idpChannel:e,version:q}),h(function(){return f()?!1:void g()})}()},{"../common/version":2,"./acl":3,"./components":4,"./login/login":12,"./login/logout":13,"./settings":16,"./widgets":18,domready:24,loglevel:25,underscore:27}],8:[function(a,b,c){b.exports={get:function(){var a=document.location.hostname;return a=a.replace(/^www/,"").replace(/^m/,""),"."!==a.charAt(0)&&(a="."+a),a}}},{}],9:[function(a,b,c){b.exports=function(){"use strict";var b,c,d,e,f,g,h=a("underscore"),i="http:",j=!1,k="",l="",m=!1;f=window.newscdn.envoy.config("identity.base"),g=window.newscdn.envoy.config("identity.basessl"),e=h.template("<%= protocol %>//<%= location %>identity<%= prefix %>.newscdn.com.au"),j=!0,i=j&&"https:"||"http:",k=j&&"ssl"||"";try{m=ENVIRONMENT}catch(n){if(m=window.newscdn.envoy.config("identity.environment")||!1,!m){d=document.querySelector("script[src*='identity.js']");try{m=d.src.match(/([a-z]+)\.identity(ssl)?.newscdn/)[1]}catch(o){m="production"}}}return m&&""!==m&&(l=m+"."),"production"===m&&(l=""),b=f||e({protocol:"http:",location:l,prefix:k}),c=g||e({protocol:"https:",location:l,prefix:"ssl"}),j&&(b=c),{base:b,location:m,ssl:c}}()},{underscore:27}],10:[function(a,b,c){b.exports=function(){var b,c=a("underscore"),d=a("loglevel"),e=a("../common/version"),f=a("./environment");return b=function(a,b){var g,h,i,j,k,l,m,n,o=window.document.createElement("iframe");if(l=!a.endpoint,m=a.parent||null,c.isElement(m)||d.error("iframe.create() expects a parent element to be passed via settings.parent"),k="width: 100%; height: 100%;",k+="position: absolute;",k+="z-index: 10001;",k+="background:transparent;",j="ncenvoy-identity ncenvoy-identity-"+a.name,b=b||"ncenvoy-component-"+Math.random().toString(16).substring(2,15),o.id=b,o.name=b,o.className=j,o.setAttribute("style",k),o.setAttribute("allowtransparency","true"),o.setAttribute("seamless","seamless"),o.setAttribute("role","presentation"),o.setAttribute("scrolling","no"),o.setAttribute("frameborder","no"),m.appendChild(o),l){try{g=o.contentWindow.document}catch(p){h=window.document.domain,o.src="javascript:var d=document.open();d.domain='"+h+"';void(0);",g=o.contentWindow.document}i="<title>Identity "+a.name+'</title><base href="'+f.ssl+"/"+e+'/" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><body onload="document._l();">    <script type="text/javascript">        window.ndm = {cam: {}};    </script></body>',g.open()._l=function(){var b=this.createElement("script");this.documentElement.className="identity-"+a.name,h&&(this.domain=h),b.id="js-iframe-async",b.src="components/main/main.js",this.body.appendChild(b)},g.write(i),g.close()}else n=c.isBoolean(a.forcessl)&&a.forcessl===!0?f.ssl:f.base,n=n+"/"+e+a.endpoint+"#"+b,o.src=n;return o},{create:b}}()},{"../common/version":2,"./environment":9,loglevel:25,underscore:27}],11:[function(a,b,c){b.exports=function(b){"use strict";b=b||{};var c,d,e,f,g=a("underscore"),h=a("loglevel"),i=a("./popup"),j=a("../../common/version"),k=a("../../vendor/idp"),l=a("../environment"),m=window.newscdn.envoy.config("identity.login.relay-state"),n=window.newscdn.envoy.config("identity.login.social-relay-state"),o=window.newscdn.envoy.config("identity.login.cancel-url"),p=a("../../common/popupWatch/popupWatch"),q=document.URL.split("#")[0].split("?")[0],r=window.newscdn.envoy.config("site"),s=window.newscdn.envoy.config("identity.login.perm"),t="desktop"===window.newscdn.envoy.config("device")?"pc":"msite",u=g.template("<%= baseurl %>/idp/Link/social?service=<%= network %>.com&relayState=<%= relayState %>&channel=<%= channel %>&site=<%= site %>&cancelUrl=<%= cancelUrl %>&perm=<%= perm %>");if(e=k.get(),h.debug("Social Linking modules set to these IDP settings: ",e),!r)throw"Error: Site has not been set in the Identity configuration";return"pc"===t?(m=m||l.ssl+"/"+j+"/views/success.html",n=n||l.ssl+"/"+j+"/views/success.html"):(m=m||q,n=n||q),m=encodeURIComponent(m),n=encodeURIComponent(n),o="pc"===t?o||l.ssl+"/"+j+"/views/signinerror.html":o||q,o=encodeURIComponent(o+"?identity-login-error=true"),f=function(a,b){"pc"===t&&(m=n);var c={baseurl:e.domain,network:a,relayState:m,channel:t,site:r,cancelUrl:o,perm:s||""};return c=g.extend(c,b),u(c)},c=function(a){if(a=a||{},a.enabledNetworks=a.enabledNetworks||[],!d)try{window.newscdn.envoy.subscribe("envoy/identity/social/link",function(b,c){var d,e;return-1===a.enabledNetworks.indexOf(b)?void h.warn("API disabled: Linking via "+b+" has been disabled"):(d=f(b,c),void("pc"===t?(e=i.open(d,b+"Window"),p.watch(e,!1,{watch:!0})):window.location.href=d))}),d=!0}catch(b){h.error("Error: window.newscdn.envoy.subscribe not found in page. Unable to assign social link events. ")}},{init:c}}()},{"../../common/popupWatch/popupWatch":1,"../../common/version":2,"../../vendor/idp":20,"../environment":9,"./popup":14,loglevel:25,underscore:27}],12:[function(a,b,c){b.exports=function(){"use strict";var b,c,d,e,f=a("./link"),g=a("./signin"),h=a("../settings"),i=a("../domain"),j=a("../../libs/cookie/cookie");j.defaults.path="/";try{j.defaults.domain=i.get()}catch(k){}return c=function(){var a=document.URL.split("#")[0];a.indexOf("identity-login-error")>-1&&(d=a.match(/code=([0-9]{1,4}|[A-Z]-[A-Z]{3})/),d&&(window.newscdn.envoy.config("identity.login.errorCode",d[1]),h.errorMessages[d[1]]&&window.newscdn.envoy.config("identity.login.errorMessage",h.errorMessages[d[1]].message||"")))},c(),e=function(a,c,d,e,h){var i;h.enabledNetworks=c.enabledNetworks,i="logged-in"===window.newscdn.envoy.config("identity.aclResponse.status"),window.newscdn.envoy.publish("envoy/identity/login/init"),window.newscdn.envoy.subscribe("envoy/identity/login/reload",function(a){var b=window.newscdn.envoy.config("identity.login")||{},c=b&&b["relay-state-args"],d=b&&b["reload-url"]||window.document.URL,e=-1===d.indexOf("?")&&"?"||"&";c&&-1===d.indexOf(c)&&(d=d.split("#")[0]+e+c),a?window.location.search="identity-login-error=1&code="+a:window.location.href.split("#")[0]===d.split("#")[0]?window.location.reload(!0):window.location.href=d}),i||(window.newscdn.envoy.subscribe("envoy/identity/login/start",function(){b(d)}),h.modal&&"true"===h.modal.toString()&&(window.newscdn.envoy.subscribe("envoy/modal/self/hidden",function(){window.newscdn.envoy.publish("envoy/message/window/send",[e.contentWindow,{eventType:"identity/modal/hidden"}])}),window.newscdn.envoy.subscribe("envoy/modal/self/show",function(){window.newscdn.envoy.publish("envoy/message/window/send",[e.contentWindow,{eventType:"identity/modal/visible"}])})),window.newscdn.envoy.config("identity.login.errorCode")&&b(d)),window.newscdn.envoy.subscribe("envoy/identity/login/config",function(a){window.newscdn.envoy.publish("envoy/message/window/send",[e.contentWindow,{eventType:"envoy/identity/login/config",eventData:a}])}),f.init(h),g.init(h)},b=function(a){window.newscdn.envoy.publish("envoy/modal/self/show",[a])},e}()},{"../../libs/cookie/cookie":19,"../domain":8,"../settings":16,"./link":11,"./signin":15}],13:[function(a,b,c){b.exports=function(){"use strict";var b,c,d=a("../../vendor/idp"),e=a("../../libs/cookie/cookie");return c=function(){window.newscdn.envoy.subscribe("envoy/identity/logout/start",function(){b()})},b=function(){e.set("IAASOpenToken",""),e.set("IAASAuthoriseCache",0),window.location.href=d.get().logout+"?url="+encodeURIComponent(document.URL.split("#")[0])},c}()},{"../../libs/cookie/cookie":19,"../../vendor/idp":20}],14:[function(a,b,c){b.exports=function(){var b,c=a("underscore"),d=a("loglevel");return b=function(a,b,e){var f={dependent:1,resizable:1,status:0,width:1050,height:650},g=[];return a=a||"about:blank",b=b||"",e=c.extend(f,e),c.each(e,function(a,b){g.push(b+"="+a)}),d.debug("Popup window opened with parameters: ",[a,b,g]),window.open(a,b,g.join(","))},{open:b}}()},{loglevel:25,underscore:27}],15:[function(a,b,c){b.exports=function(b){"use strict";b=b||{};var c,d,e,f,g=a("underscore"),h=a("loglevel"),i=a("./popup"),j=a("../../common/version"),k=a("../environment"),l=a("../../vendor/idp"),m=window.newscdn.envoy.config("identity.login.relay-state"),n=window.newscdn.envoy.config("identity.login.location"),o=window.newscdn.envoy.config("identity.login.social-relay-state"),p=window.newscdn.envoy.config("identity.login.cancel-url"),q=a("../../common/popupWatch/popupWatch"),r=document.URL.split("#")[0].split("?")[0],s=window.newscdn.envoy.config("site"),t=window.newscdn.envoy.config("identity.login.force"),u=window.newscdn.envoy.config("identity.login.signupfinal-url"),v="desktop"===window.newscdn.envoy.config("device")?"pc":"msite",w=g.template("<%= baseurl %>/idp/Authn/social?location=<%= location %>&service=<%= network %>.com&authMethod=social&relayState=<%= relayState %>&channel=<%= channel %>&site=<%= site %>&cancelUrl=<%= cancelUrl %>&remember_me=<%= rememberMe %>&registrationUrl=<%= registrationUrl %>&force=<%= force %>");if(f=l.get(),h.debug("Social Linking modules set to these IDP settings: ",f),!s)throw"Error: Site has not been set in the Identity configuration";return"pc"===v?(m=m||k.ssl+"/"+j+"/views/success.html",o=o||k.ssl+"/"+j+"/views/success.html"):(m=m||r,o=o||r),m=encodeURIComponent(m),o=encodeURIComponent(o),p="pc"===v?p||k.ssl+"/"+j+"/views/signinerror.html":p||r,u=u||k.ssl+"/"+j+"/views/signupfinal.html",u=encodeURIComponent(u),p=encodeURIComponent(p+"?identity-login-error=true"),e=function(a,b){"pc"===v&&(m=o);var c={baseurl:f.domain,location:n||f.saml,network:a,relayState:m,channel:v,site:s,cancelUrl:p,force:t||"",registrationUrl:u,rememberMe:""};return c=g.extend(c,b),w(c)},c=function(a){if(a=a||{},a.enabledNetworks=a.enabledNetworks||[],!d)try{window.newscdn.envoy.subscribe("envoy/identity/login/social",function(b,c){var d,f;return-1===a.enabledNetworks.indexOf(b)?void h.warn("API disabled: Login via "+b+" has been disabled"):(d=e(b,c),void("pc"===v?(f=i.open(d,b+"Window"),q.watch(f,!1,{watch:!0})):window.location.href=d))}),d=!0}catch(b){h.error("Error: window.newscdn.envoy.subscribe not found in page. Unable to assign social link events. ")}},{init:c}}()},{"../../common/popupWatch/popupWatch":1,"../../common/version":2,"../../vendor/idp":20,"../environment":9,"./popup":14,loglevel:25,underscore:27}],16:[function(a,b,c){b.exports=function(){var a,b,c,d,e,f,g,h,i,j=window.newscdn&&window.newscdn.envoy&&window.newscdn.envoy.config("site")||"",k=window.newscdn&&window.newscdn.envoy&&window.newscdn.envoy.config("channel")||"",l=window.newscdn&&window.newscdn.envoy&&window.newscdn.envoy.config("identity")||{};return g=["facebook","twitter","facebook","google"],h=!0,i=function(){for(var a,b,c=window.document.getElementsByTagName("script"),d=c.length;d--;)-1!==c[d].src.search(/identity(ssl)?|envoy(ssl)?.newscdn.com.au/)&&(a=c[d].src.indexOf("uat.")>-1&&"uat."||c[d].src.indexOf("dev.")>-1&&"dev."||""),-1!==c[d].src.search(/identity(ssl)?.newscdn.com.au\/([0-9].[0-9].[0=9])/)&&(b=c[d].src.match(/newscdn.com.au\/([0-9].[0-9].[0-9])/),b=b&&b[1]||"");return{version:b,environment:a}}(),f=l&&l.environment||i.environment,e={environment:i.environment,version:i.version,isSSL:!0,basessl:l.basessl||"https://"+f+"identityssl.newscdn.com.au",base:l.base||"https://"+f+"identityssl.newscdn.com.au"},c={site:j||"Identity",channel:k||"pc"},a={aclRegEx:/social([a-zA-Z]+)Enable/,paywallDisableClasses:["identity-paywall-disabled","nopaywall"],socialDisableClasses:["identity-social-disabled","nosocial"],networkRegEx:new RegExp("(no|identity-)("+g.join("|")+")(-disabled)?"),networkToggles:["nofacebook","notwitter","nolinkedin","nogoogle","identity-facebook-disabled","identity-twitter-disabled","identity-linkedin-disabled","identity-google-disabled"]},b={10:{message:"User ID already in use"},15:{message:"Invalid User Name and/or Password"},12:{message:"Invalid User Name and/or Password"},110:{message:"Invalid User Name and/or Password"},111:{message:"Invalid User Name and/or Password"},112:{message:"Invalid User Name and/or Password"},113:{message:"Invalid User Name and/or Password"},114:{message:"Invalid User Name and/or Password"},115:{message:"Invalid User Name and/or Password"},116:{message:"Invalid User Name and/or Password"},120:{message:"Invalid User Name and/or Password"},400:{message:"Request denied, please contact Customer Service"},401:{message:"User refused to authorise the app"},510:{message:"Service unavailable, please try again later"},1000:{message:"Too Many Address Matches, please refine search criteria"},1050:{message:"Missing required post code parameter"},1052:{message:"Missing required street address parameter"},1054:{message:"Missing required city or suburb parameter"},1060:{message:"Invalid post code"},1062:{message:"Invalid street address"},1064:{message:"Invalid city or suburb"},1068:{message:"Invalid country"},2050:{message:"Missing required customer parameter"},3050:{message:"Missing mandatory demographic answers"},3060:{message:"Promotion is no longer valid"},3061:{message:"Invalid promotion code"},3070:{message:"Light registration attempted with incorrect parameters"},3080:{message:"Customer orders created for light registration but cannot get digital entitlements"},3090:{message:"Customer orders created for light registration but cannot set temporary password"},4000:{message:"Payment declined"},4001:{message:"Payment declined - Invalid Card Number or type"},4005:{message:"Payment facility temporarily unavailable"},5000:{message:"No Offerings for sourceCode or classification(s) used"},5010:{message:"Not a valid (or expired) Offering"},5020:{message:"Offering is invalidly configured and can not be purchased"},6000:{message:"Not valid or expired campaign"},6010:{message:"Not eligible based on answers supplied"},6020:{message:"Campaign is not in its eligibility date range"},7005:{message:"Context space invalid username / password"},7006:{message:"Context space account already linked"},160:{message:"Account locked, please contact Customer Service"},165:{message:"Account locked, please contact Customer Service"},1010:{message:"Sorry, we need you to finalise your news+ account before you can link to your Social Account. To do this, please log in with your news+ email and password that we emailed to you. You can then connect your Social Account in My Account."},1020:{message:"Sorry, we need you to finalise your news+ account before you can link to your Social Account. To do this, please log in with your news+ email and password that we emailed to you."},"I-NOS":{message:"Your social account is not linked with your News account. Please log in using your News username and password."}},{idp:c,isSSL:h,acl:d,identity:e,toggles:a,errorMessages:b}}()},{}],17:[function(a,b,c){b.exports=function(){"use strict";var b,c,d=a("loglevel"),e=a("./settings");return b=function(a){var b,f,g,h=e&&e.toggles||{},i=h.aclRegEx||!1,j=h.networkRegEx||!1,k=h.paywallDisableClasses||[],l=h.socialDisableClasses||[];if(!c){var m=[],n=window.document.body.className,o=a&&0===a.paywalldisabled&&!0,p=a&&1===a.socialEnable&&!0;for(var q in a)if(a.hasOwnProperty(q)){var r;f=q.match(i),f&&f[1]&&(1===a[q]?(r=f[1].toLowerCase(),m.push(r)):d.warn("Login via "+f[1]+" has been disabled"))}for(b=m.length,m=m.toString();b--;)f=n.match(j),f&&f[2]&&(g=new RegExp(f[2]+",?","g"),m=m.replace(g,"").replace(/,$/,""));for(m=m.split(","),b=k.length;b--;)-1!==n.indexOf(k[b])&&(o=!1);for(b=l.length;b--;)-1!==n.indexOf(l[b])&&(p=!1);c={enabledNetworks:m,paywallEnabled:o,socialEnabled:p}}return c},{getOperatorToggles:b}}()},{"./settings":16,loglevel:25}],18:[function(a,b,c){b.exports=function(){var b,c=a("loglevel"),d={},e=a("underscore");return d.cs=a("../widgets/cs/main"),b={init:function(){var a=document.querySelectorAll("[class*=identity-widget-]");c.info("Widgets : Found :",a),e.each(a,function(a){var b,e=/identity-widget-([a-z]+)/i;e.test(a.className)&&(b=e.exec(a.className)[1].toLowerCase(),c.info("Widgets : Executing : "+b),d[b]&&d[b](a))})}},{init:b.init}}()},{"../widgets/cs/main":23,loglevel:25,underscore:27}],19:[function(a,b,c){b.exports=function(){var a=function(){return a.get.apply(a,arguments)},b=a.utils={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},escape:function(a){return String(a).replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},retrieve:function(a,b){return null==a?b:a}};return a.defaults={},a.expiresMultiplier=86400,a.set=function(a,c,d){if(b.isPlainObject(a))for(var e in a)a.hasOwnProperty(e)&&this.set(e,a[e],c);else{d=b.isPlainObject(d)?d:{expires:d};var f=void 0!==d.expires?d.expires:this.defaults.expires||"",g=typeof f;"string"===g&&""!==f?f=new Date(f):"number"===g&&(f=new Date(+new Date+1e3*this.expiresMultiplier*f)),""!==f&&"toGMTString"in f&&(f=";expires="+f.toGMTString());var h=d.path||this.defaults.path;h=h?";path="+h:"";var i=d.domain||this.defaults.domain;i=i?";domain="+i:"";var j=d.secure||this.defaults.secure?";secure":"";document.cookie=b.escape(a)+"="+b.escape(c)+f+h+i+j}return this},a.remove=function(a){a=b.isArray(a)?a:b.toArray(arguments);for(var c=0,d=a.length;d>c;c++)this.set(a[c],"",-1);return this},a.empty=function(){return this.remove(b.getKeys(this.all()))},a.get=function(a,c){c=c||void 0;var d=this.all();if(b.isArray(a)){for(var e={},f=0,g=a.length;g>f;f++){var h=a[f];e[h]=b.retrieve(d[h],c)}return e}return b.retrieve(d[a],c)},a.all=function(){if(""===document.cookie)return{};for(var a=document.cookie.split("; "),b={},c=0,d=a.length;d>c;c++){var e=a[c].split("=");try{b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}catch(f){}}return b},a.enabled=function(){if(navigator.cookieEnabled)return!0;var b="_"===a.set("_","_").get("_");return a.remove("_"),b},a}()},{}],20:[function(a,b,c){b.exports=function(){var b,c,d,e,f,g=a("../core/environment"),h=a("underscore");return f=window.newscdn.envoy.config("identity.idp.environment"),e={dev:"dev3",uat:"sit",production:"production"},b={dev3:{name:"dev3",domain:"https://idpdev3.news.com.au",socialAuth:"https://idpdev3.news.com.au/idp/Authn/social",newsAuth:"https://idpdev3.news.com.au/idp/Authn/rest",saml:"http://saml.camdev3.idmpocndm.com",logout:"https://sslcamdev3.news.com.au/cam/logout"},dev5:{name:"dev5",domain:"https://idpdev5.news.com.au",socialAuth:"https://idpdev5.news.com.au/idp/Authn/social",newsAuth:"https://idpdev5.news.com.au/idp/Authn/rest",saml:"http://saml.camdev5.idmpocndm.com",logout:"https://sslcamdev5.news.com.au/cam/logout"},sit:{name:"sit",domain:"https://idp.newssit.com.au",socialAuth:"https://idp.newssit.com.au/Authn/social",newsAuth:"https://idp.newssit.com.au/idp/Authn/rest",saml:"http://saml.camsit.idmpocndm.com",logout:"https://sslcam.newssit.com.au/cam/logout"},uat:{name:"uat",domain:"https://idp.newsuat.com.au",socialAuth:"https://idp.newsuat.com.au/idp/Authn/social",newsAuth:"https://idp.newsuat.com.au/idp/Authn/rest",saml:"http://saml.cam.idmpocndm.com",logout:"https://sslcam.newsuat.com.au/cam/logout"},ls:{name:"ls",domain:"https://idp.newsls.com.au",socialAuth:"https://idp.newsls.com.au/Authn/social",newsAuth:"https://idp.newsls.com.au/idp/Authn/rest",saml:"http://saml.camls.idmpocndm.com",logout:"https://sslcam.newsls.com.au/cam/logout"},production:{name:"production",domain:"https://idp.news.com.au",socialAuth:"https://idp.news.com.au/Authn/social",newsAuth:"https://idp.news.com.au/idp/Authn/rest",saml:"http://saml.cam.idmndm.com",logout:"https://sslcam.news.com.au/cam/logout"},services:{profile:"https://<%= idpHost %>/ra_psp/cs_rest/provisioning-api/ndm_ecs"}},h.isString(f)?window.newscdn.envoy.config("identity.idp",b[f]):window.ndm&&window.ndm.idp&&window.ndm.idp.domain?h.each(b,function(a){h.each(a,function(b,c){"domain"===c&&0===window.ndm.idp.domain.indexOf(b)&&window.newscdn.envoy.config("identity.idp",a)})}):h.isEmpty(f)?(d=g&&g.location||void 0,d&&window.newscdn.envoy.config("identity.idp",b[e[d]])):window.newscdn.envoy.config("identity.idp",b.production),window.newscdn.envoy.publish("identity/vendor/idp/set",[window.newscdn.envoy.config("identity.idp")]),c=function(){return window.newscdn.envoy.config("identity.idp")},{get:c}}()},{"../core/environment":9,underscore:27}],21:[function(a,b,c){b.exports=function(){var b,c,d,e,f,g=a("../core/environment"),h=a("underscore");return f=window.newscdn.envoy.config("identity.myaccount"),e={dev:"dev3",uat:"sit",production:"production"},b={dev3:{domain:"https://myaccountdev1.newsdev.com.au"},sit:{domain:"https://myaccount.newssit.com.au"},uat:{domain:"https://myaccount.newsuat.com.au"},ls:{domain:"https://myaccount.newsls.com.au"},production:{domain:"https://myaccount.news.com.au"}},h.isString(f)?window.newscdn.envoy.config("identity.myaccount",b[f]):window.ndm&&window.ndm.account&&window.ndm.account.account?h.each(b,function(a){h.each(a,function(b,c){"domain"===c&&0===window.ndm.account.account.indexOf(b)&&window.newscdn.envoy.config("identity.myaccount",a)})}):h.isEmpty(f)&&(d=g&&g.location||void 0,d&&window.newscdn.envoy.config("identity.myaccount",b[e[d]])),window.newscdn.envoy.publish("identity/vendor/myaccount/set",[window.newscdn.envoy.config("identity.myaccount")]),c=function(){return window.newscdn.envoy.config("identity.myaccount")},{get:c}}()},{"../core/environment":9,underscore:27}],22:[function(a,b,c){b.exports={create:function(a,b){var c,d=a.id||"identity-widget-"+Math.random().toString(16).substring(2,15),e=a.className||"",f=window.document.createElement("iframe");return c="width: 100%; height: 100%;",c+="background:transparent;",e="identity-widget "+e,f.id=d,f.name=a.name||d,f.className=e,f.setAttribute("style",c),f.setAttribute("allowtransparency","true"),f.setAttribute("seamless","seamless"),f.setAttribute("role","presentation"),f.setAttribute("scrolling","no"),f.setAttribute("frameborder","no"),b.appendChild(f),a.src&&(f.src=a.src),f}}},{}],23:[function(a,b,c){b.exports=function(b){var c=a("loglevel"),d=a("underscore"),e=a("../common/iframeCreator"),f=a("../../core/config/base").cs,g=window.newscdn.envoy.config("identity.cs"),h=d.extend(d.clone(f),g),i=h.url,j=h["terms-url"],k=h.css||"",l="identity-widget-cs-"+Math.random().toString(16).substring(2,15);c.info("WIDGET : CS : Creating iframe"),e.create({id:l,src:i+"?css="+encodeURIComponent(k)+"&ts="+encodeURIComponent(j)},b)}},{"../../core/config/base":5,"../common/iframeCreator":22,loglevel:25,underscore:27}],24:[function(a,b,c){!function(a,c){"undefined"!=typeof b?b.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this[a]=c()}("domready",function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?n?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}})},{}],25:[function(a,b,c){!function(c,d){"object"==typeof b&&b.exports&&"function"==typeof a?b.exports=d():"function"==typeof define&&"object"==typeof define.amd?define(d):c.log=d()}(this,function(){function a(a){return typeof console===i?!1:void 0!==console[a]?b(console,a):void 0!==console.log?b(console,"log"):h}function b(a,b){var c=a[b];if("function"==typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function c(a,b){return function(){typeof console!==i&&(d(b),g[a].apply(g,arguments))}}function d(a){for(var b=0;b<j.length;b++){var c=j[b];g[c]=a>b?h:g.methodFactory(c,a)}}function e(a){var b=(j[a]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=b)}catch(c){}try{window.document.cookie="loglevel="+b+";"}catch(c){}}function f(){var a;try{a=window.localStorage.loglevel}catch(b){}if(typeof a===i)try{a=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(b){}void 0===g.levels[a]&&(a="WARN"),g.setLevel(g.levels[a])}var g={},h=function(){},i="undefined",j=["trace","debug","info","warn","error"];g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=function(b,d){return a(b)||c(b,d)},g.setLevel=function(a){if("string"==typeof a&&void 0!==g.levels[a.toUpperCase()]&&(a=g.levels[a.toUpperCase()]),!("number"==typeof a&&a>=0&&a<=g.levels.SILENT))throw"log.setLevel() called with invalid level: "+a;return e(a),d(a),typeof console===i&&a<g.levels.SILENT?"No console available for logging":void 0},g.enableAll=function(){g.setLevel(g.levels.TRACE)},g.disableAll=function(){g.setLevel(g.levels.SILENT)};var k=typeof window!==i?window.log:void 0;return g.noConflict=function(){return typeof window!==i&&window.log===g&&(window.log=k),g},f(),g})},{}],26:[function(require,module,exports){!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function succeed(a){var b=protocolRe.exec(a.url);return b=b&&b[1]||window.location.protocol,httpsRe.test(b)?twoHundo.test(a.request.status):!!a.request.response}function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):a._timedOut?c(a.request,"Request is aborted: timeout"):void(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,succeed(a)?b(a.request):c(a.request)))}}function setHeaders(a,b){var c,d=b.headers||{};d.Accept=d.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"];var e="function"==typeof FormData&&b.data instanceof FormData;b.crossOrigin||d[requestedWith]||(d[requestedWith]=defaultHeaders.requestedWith),d[contentType]||e||(d[contentType]=b.contentType||defaultHeaders.contentType);for(c in d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function setCredentials(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,"undefined"==typeof j.onreadystatechange||l||(j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){return j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k?!1:(j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),void(k=1))},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var c,d=this.o,e=(d.method||"GET").toUpperCase(),f="string"==typeof d?d:d.url,g=d.processData!==!1&&d.data&&"string"!=typeof d.data?reqwest.toQueryString(d.data):d.data||null,h=!1;return"jsonp"!=d.type&&"GET"!=e||!g||(f=urlappend(f,g),g=null),"jsonp"==d.type?handleJsonp(d,a,b,f):(c=d.xhr&&d.xhr(d)||xhr(d),c.open(e,f,d.async===!1?!1:!0),setHeaders(c,d),setCredentials(c,d),win[xDomainRequest]&&c instanceof win[xDomainRequest]?(c.onload=a,c.onerror=b,c.onprogress=function(){},h=!0):c.onreadystatechange=handleReadyState(this,a,b),d.before&&d.before(c),h?setTimeout(function(){c.send(g)},200):c.send(g),c)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){return a.match("json")?"json":a.match("javascript")?"js":a.match("text")?"html":a.match("xml")?"xml":void 0}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,
this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c,d,e,f,g=a.name,h=a.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&b(g,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&g)switch(h){case"input":/reset|button|image|file/i.test(a.type)||(c=/checkbox/i.test(a.type),d=/radio/i.test(a.type),e=a.value,(!(c||d)||a.checked)&&b(g,normalize(c&&""===e?"on":e)));break;case"textarea":b(g,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(f=0;a.length&&f<a.length;f++)a.options[f].selected&&i(a.options[f])}}function eachFormElement(){var a,b,c=this,d=function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[byTag](b[d]),e=0;e<f.length;e++)serial(f[e],c)};for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&serial(a,c),d(a,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=win[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this},"catch":function(a){return this.fail(a)}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest})},{}],27:[function(a,b,c){(function(){var a=this,d=a._,e=Array.prototype,f=Object.prototype,g=Function.prototype,h=e.push,i=e.slice,j=e.concat,k=f.toString,l=f.hasOwnProperty,m=Array.isArray,n=Object.keys,o=g.bind,p=function(a){return a instanceof p?a:this instanceof p?void(this._wrapped=a):new p(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=p),c._=p):a._=p,p.VERSION="1.7.0";var q=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};p.iteratee=function(a,b,c){return null==a?p.identity:p.isFunction(a)?q(a,b,c):p.isObject(a)?p.matches(a):p.property(a)},p.each=p.forEach=function(a,b,c){if(null==a)return a;b=q(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=p.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},p.map=p.collect=function(a,b,c){if(null==a)return[];b=p.iteratee(b,c);for(var d,e=a.length!==+a.length&&p.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var r="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(a,b,c,d){null==a&&(a=[]),b=q(b,d,4);var e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(r);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},p.reduceRight=p.foldr=function(a,b,c,d){null==a&&(a=[]),b=q(b,d,4);var e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(r);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},p.find=p.detect=function(a,b,c){var d;return b=p.iteratee(b,c),p.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},p.filter=p.select=function(a,b,c){var d=[];return null==a?d:(b=p.iteratee(b,c),p.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},p.reject=function(a,b,c){return p.filter(a,p.negate(p.iteratee(b)),c)},p.every=p.all=function(a,b,c){if(null==a)return!0;b=p.iteratee(b,c);var d,e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},p.some=p.any=function(a,b,c){if(null==a)return!1;b=p.iteratee(b,c);var d,e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},p.contains=p.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=p.values(a)),p.indexOf(a,b)>=0)},p.invoke=function(a,b){var c=i.call(arguments,2),d=p.isFunction(b);return p.map(a,function(a){return(d?b:a[b]).apply(a,c)})},p.pluck=function(a,b){return p.map(a,p.property(b))},p.where=function(a,b){return p.filter(a,p.matches(b))},p.findWhere=function(a,b){return p.find(a,p.matches(b))},p.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=a.length===+a.length?a:p.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=p.iteratee(b,c),p.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},p.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:p.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=p.iteratee(b,c),p.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},p.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:p.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=p.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},p.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=p.values(a)),a[p.random(a.length-1)]):p.shuffle(a).slice(0,Math.max(0,b))},p.sortBy=function(a,b,c){return b=p.iteratee(b,c),p.pluck(p.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var s=function(a){return function(b,c,d){var e={};return c=p.iteratee(c,d),p.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};p.groupBy=s(function(a,b,c){p.has(a,c)?a[c].push(b):a[c]=[b]}),p.indexBy=s(function(a,b,c){a[c]=b}),p.countBy=s(function(a,b,c){p.has(a,c)?a[c]++:a[c]=1}),p.sortedIndex=function(a,b,c,d){c=p.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},p.toArray=function(a){return a?p.isArray(a)?i.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a):[]},p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length},p.partition=function(a,b,c){b=p.iteratee(b,c);var d=[],e=[];return p.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:i.call(a,0,b)},p.initial=function(a,b,c){return i.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},p.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:i.call(a,Math.max(a.length-b,0))},p.rest=p.tail=p.drop=function(a,b,c){return i.call(a,null==b||c?1:b)},p.compact=function(a){return p.filter(a,p.identity)};var t=function(a,b,c,d){if(b&&p.every(a,p.isArray))return j.apply(d,a);for(var e=0,f=a.length;f>e;e++){var g=a[e];p.isArray(g)||p.isArguments(g)?b?h.apply(d,g):t(g,b,c,d):c||d.push(g)}return d};p.flatten=function(a,b){return t(a,b,!1,[])},p.without=function(a){return p.difference(a,i.call(arguments,1))},p.uniq=p.unique=function(a,b,c,d){if(null==a)return[];p.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=p.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);p.indexOf(f,j)<0&&(f.push(j),e.push(i))}else p.indexOf(e,i)<0&&e.push(i)}return e},p.union=function(){return p.uniq(t(arguments,!0,!0,[]))},p.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!p.contains(b,f)){for(var g=1;c>g&&p.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},p.difference=function(a){var b=t(i.call(arguments,1),!0,!0,[]);return p.filter(a,function(a){return!p.contains(b,a)})},p.zip=function(a){if(null==a)return[];for(var b=p.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=p.pluck(arguments,d);return c},p.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},p.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=p.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},p.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},p.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var u=function(){};p.bind=function(a,b){var c,d;if(o&&a.bind===o)return o.apply(a,i.call(arguments,1));if(!p.isFunction(a))throw new TypeError("Bind must be called on a function");return c=i.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(i.call(arguments)));u.prototype=a.prototype;var e=new u;u.prototype=null;var f=a.apply(e,c.concat(i.call(arguments)));return p.isObject(f)?f:e}},p.partial=function(a){var b=i.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===p&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},p.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=p.bind(a[c],a);return a},p.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return p.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},p.delay=function(a,b){var c=i.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},p.defer=function(a){return p.delay.apply(p,[a,1].concat(i.call(arguments,1)))},p.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:p.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=p.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},p.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=p.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=p.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},p.wrap=function(a,b){return p.partial(b,a)},p.negate=function(a){return function(){return!a.apply(this,arguments)}},p.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},p.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},p.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},p.once=p.partial(p.before,2),p.keys=function(a){if(!p.isObject(a))return[];if(n)return n(a);var b=[];for(var c in a)p.has(a,c)&&b.push(c);return b},p.values=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},p.pairs=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},p.invert=function(a){for(var b={},c=p.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},p.functions=p.methods=function(a){var b=[];for(var c in a)p.isFunction(a[c])&&b.push(c);return b.sort()},p.extend=function(a){if(!p.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)l.call(b,c)&&(a[c]=b[c])}return a},p.pick=function(a,b,c){var d,e={};if(null==a)return e;if(p.isFunction(b)){b=q(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var g=j.apply([],i.call(arguments,1));a=new Object(a);for(var h=0,k=g.length;k>h;h++)d=g[h],d in a&&(e[d]=a[d])}return e},p.omit=function(a,b,c){if(p.isFunction(b))b=p.negate(b);else{var d=p.map(j.apply([],i.call(arguments,1)),String);b=function(a,b){return!p.contains(d,b)}}return p.pick(a,b,c)},p.defaults=function(a){if(!p.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a},p.tap=function(a,b){return b(a),a};var v=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped),b instanceof p&&(b=b._wrapped);var e=k.call(a);if(e!==k.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(p.isFunction(g)&&g instanceof g&&p.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i,j;if("[object Array]"===e){if(i=a.length,j=i===b.length)for(;i--&&(j=v(a[i],b[i],c,d)););}else{var l,m=p.keys(a);if(i=m.length,j=p.keys(b).length===i)for(;i--&&(l=m[i],j=p.has(b,l)&&v(a[l],b[l],c,d)););}return c.pop(),d.pop(),j};p.isEqual=function(a,b){return v(a,b,[],[])},p.isEmpty=function(a){if(null==a)return!0;if(p.isArray(a)||p.isString(a)||p.isArguments(a))return 0===a.length;for(var b in a)if(p.has(a,b))return!1;return!0},p.isElement=function(a){return!(!a||1!==a.nodeType)},p.isArray=m||function(a){return"[object Array]"===k.call(a)},p.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){p["is"+a]=function(b){return k.call(b)==="[object "+a+"]"}}),p.isArguments(arguments)||(p.isArguments=function(a){return p.has(a,"callee")}),"function"!=typeof/./&&(p.isFunction=function(a){return"function"==typeof a||!1}),p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},p.isNaN=function(a){return p.isNumber(a)&&a!==+a},p.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===k.call(a)},p.isNull=function(a){return null===a},p.isUndefined=function(a){return void 0===a},p.has=function(a,b){return null!=a&&l.call(a,b)},p.noConflict=function(){return a._=d,this},p.identity=function(a){return a},p.constant=function(a){return function(){return a}},p.noop=function(){},p.property=function(a){return function(b){return b[a]}},p.matches=function(a){var b=p.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},p.times=function(a,b,c){var d=Array(Math.max(0,a));b=q(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},p.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=p.invert(w),y=function(a){var b=function(b){return a[b]},c="(?:"+p.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};p.escape=y(w),p.unescape=y(x),p.result=function(a,b){if(null==a)return void 0;var c=a[b];return p.isFunction(c)?a[b]():c};var z=0;p.uniqueId=function(a){var b=++z+"";return a?a+b:b},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\u2028|\u2029/g,D=function(a){return"\\"+B[a]};p.template=function(a,b,c){!b&&c&&(b=c),b=p.defaults({},b,p.templateSettings);var d=RegExp([(b.escape||A).source,(b.interpolate||A).source,(b.evaluate||A).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(C,D),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,p)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},p.chain=function(a){var b=p(a);return b._chain=!0,b};var E=function(a){return this._chain?p(a).chain():a};p.mixin=function(a){p.each(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];return h.apply(a,arguments),E.call(this,c.apply(p,a))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];p.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],E.call(this,c)}}),p.each(["concat","join","slice"],function(a){var b=e[a];p.prototype[a]=function(){return E.call(this,b.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this)},{}]},{},[7]);