function gpyrnamespace(t){for(var e=t.split("."),i=window,n="",s=0,r=e.length;r>s;s++)n=e[s],i[n]=i[n]||{},i=i[n];return i}(function(){var t,e,i,n,s,r,o,a;i=function(t){return window.document.createElement(t)},n=window.encodeURIComponent,o=Math.random,t=function(t){var n,r,o,l,h;if(t=t?t:{},l={data:t.data||{},error:t.error||s,success:t.success||s,beforeSend:t.beforeSend||s,complete:t.complete||s,url:t.url||""},l.computedUrl=e(l),0===l.url.length)throw new Error("MissingUrl");return r=!1,l.beforeSend({},l)!==!1?(n=l.data[t.callbackName||"callback"]="jsonp_"+a(15),window[n]=function(t){l.success(t,l),l.complete(t,l);try{return delete window[n]}catch(e){return void(window[n]=void 0)}},h=i("script"),h.src=e(l),h.async=!0,h.onerror=function(t){return l.error({url:h.src,event:t}),l.complete({url:h.src,event:t},l)},h.onload=h.onreadystatechange=function(){return r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(r=!0,h.onload=h.onreadystatechange=null,h&&h.parentNode&&h.parentNode.removeChild(h),h=null)},o=o||window.document.getElementsByTagName("head")[0]||window.document.documentElement,o.insertBefore(h,o.firstChild)):void 0},s=function(){return void 0},e=function(t){var e;return e=t.url,e+=t.url.indexOf("?")<0?"?":"&",e+=r(t.data)},a=function(t){var e;for(e="";e.length<t;)e+=o().toString(36)[2];return e},r=function(t){var e,i,s;e=[];for(i in t)s=t[i],e.push(n(i)+"="+n(s));return e.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=t:this.JSONP=t}).call(this);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=Math.PI/180,e=180/Math.PI,i=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,s=/[achlmqstvz]/gi,r=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,o=_gsScope._gsDefine.globals.TweenLite,a=function(t){window.console&&console.log(t)},l=function(e,i){var n,s,r,o,a,l,h=Math.ceil(Math.abs(i)/90),p=0,c=[];for(e*=t,i*=t,n=i/h,s=4/3*Math.sin(n/2)/(1+Math.cos(n/2)),l=0;h>l;l++)r=e+l*n,o=Math.cos(r),a=Math.sin(r),c[p++]=o-s*a,c[p++]=a+s*o,r+=n,o=Math.cos(r),a=Math.sin(r),c[p++]=o+s*a,c[p++]=a-s*o,c[p++]=o,c[p++]=a;return c},h=function(i,n,s,r,o,a,h,p,c){if(i!==p||n!==c){s=Math.abs(s),r=Math.abs(r);var u=o%360*t,g=Math.cos(u),d=Math.sin(u),f=(i-p)/2,y=(n-c)/2,m=g*f+d*y,b=-d*f+g*y,v=s*s,w=r*r,S=m*m,x=b*b,L=S/v+x/w;L>1&&(s=Math.sqrt(L)*s,r=Math.sqrt(L)*r,v=s*s,w=r*r);var k=a===h?-1:1,T=(v*w-v*x-w*S)/(v*x+w*S);0>T&&(T=0);var B=k*Math.sqrt(T),A=B*(s*b/r),C=B*-(r*m/s),P=(i+p)/2,M=(n+c)/2,F=P+(g*A-d*C),G=M+(d*A+g*C),_=(m-A)/s,V=(b-C)/r,O=(-m-A)/s,N=(-b-C)/r,E=Math.sqrt(_*_+V*V),j=_;k=0>V?-1:1;var D=k*Math.acos(j/E)*e;E=Math.sqrt((_*_+V*V)*(O*O+N*N)),j=_*O+V*N,k=0>_*N-V*O?-1:1;var I=k*Math.acos(j/E)*e;!h&&I>0?I-=360:h&&0>I&&(I+=360),I%=360,D%=360;var z,R,H,q=l(D,I),Y=g*s,X=d*s,J=d*-r,Z=g*r,W=q.length-2;for(z=0;W>z;z+=2)R=q[z],H=q[z+1],q[z]=R*Y+H*J+F,q[z+1]=R*X+H*Z+G;return q[q.length-2]=p,q[q.length-1]=c,q}},p=function(t){var e,n,s,o,l,p,c,u,g,d,f,y,m,b=(t+"").replace(r,function(t){var e=+t;return 1e-4>e&&e>-1e-4?0:e}).match(i)||[],v=[],w=0,S=0,x=b.length,L=2,k=0;if(!t||!isNaN(b[0])||isNaN(b[1]))return a("ERROR: malformed path data: "+t),v;for(e=0;x>e;e++)if(m=l,isNaN(b[e])?(l=b[e].toUpperCase(),p=l!==b[e]):e--,s=+b[e+1],o=+b[e+2],p&&(s+=w,o+=S),0===e&&(u=s,g=o),"M"===l)c&&c.length<8&&(v.length-=1,L=0),w=u=s,S=g=o,c=[s,o],k+=L,L=2,v.push(c),e+=2,l="L";else if("C"===l)c||(c=[0,0]),c[L++]=s,c[L++]=o,p||(w=S=0),c[L++]=w+1*b[e+3],c[L++]=S+1*b[e+4],c[L++]=w+=1*b[e+5],c[L++]=S+=1*b[e+6],e+=6;else if("S"===l)"C"===m||"S"===m?(d=w-c[L-4],f=S-c[L-3],c[L++]=w+d,c[L++]=S+f):(c[L++]=w,c[L++]=S),c[L++]=s,c[L++]=o,p||(w=S=0),c[L++]=w+=1*b[e+3],c[L++]=S+=1*b[e+4],e+=4;else if("Q"===l)d=s-w,f=o-S,c[L++]=w+2*d/3,c[L++]=S+2*f/3,p||(w=S=0),w+=1*b[e+3],S+=1*b[e+4],d=s-w,f=o-S,c[L++]=w+2*d/3,c[L++]=S+2*f/3,c[L++]=w,c[L++]=S,e+=4;else if("T"===l)d=w-c[L-4],f=S-c[L-3],c[L++]=w+d,c[L++]=S+f,d=w+1.5*d-s,f=S+1.5*f-o,c[L++]=s+2*d/3,c[L++]=o+2*f/3,c[L++]=w=s,c[L++]=S=o,e+=2;else if("H"===l)o=S,c[L++]=w+(s-w)/3,c[L++]=S+(o-S)/3,c[L++]=w+2*(s-w)/3,c[L++]=S+2*(o-S)/3,c[L++]=w=s,c[L++]=o,e+=1;else if("V"===l)o=s,s=w,p&&(o+=S-w),c[L++]=s,c[L++]=S+(o-S)/3,c[L++]=s,c[L++]=S+2*(o-S)/3,c[L++]=s,c[L++]=S=o,e+=1;else if("L"===l||"Z"===l)"Z"===l&&(s=u,o=g,c.closed=!0),("L"===l||Math.abs(w-s)>.5||Math.abs(S-o)>.5)&&(c[L++]=w+(s-w)/3,c[L++]=S+(o-S)/3,c[L++]=w+2*(s-w)/3,c[L++]=S+2*(o-S)/3,c[L++]=s,c[L++]=o,"L"===l&&(e+=2)),w=s,S=o;else if("A"===l){for(y=h(w,S,1*b[e+1],1*b[e+2],1*b[e+3],1*b[e+4],1*b[e+5],(p?w:0)+1*b[e+6],(p?S:0)+1*b[e+7]),n=0;n<y.length;n++)c[L++]=y[n];w=c[L-2],S=c[L-1],e+=7}else a("Error: malformed path data: "+t);return v.totalPoints=k+L,v},c=function(t,e){var i,n,s,r,o,a,l,h,p,c,u,g,d,f,y=0,m=.999999,b=t.length,v=e/((b-2)/6);for(d=2;b>d;d+=6)for(y+=v;y>m;)i=t[d-2],n=t[d-1],s=t[d],r=t[d+1],o=t[d+2],a=t[d+3],l=t[d+4],h=t[d+5],f=1/(Math.floor(y)+1),p=i+(s-i)*f,u=s+(o-s)*f,p+=(u-p)*f,u+=(o+(l-o)*f-u)*f,c=n+(r-n)*f,g=r+(a-r)*f,c+=(g-c)*f,g+=(a+(h-a)*f-g)*f,t.splice(d,4,i+(s-i)*f,n+(r-n)*f,p,c,p+(u-p)*f,c+(g-c)*f,u,g,o+(l-o)*f,a+(h-a)*f),d+=6,b+=6,y--;return t},u=function(t){var e,i,n,s,r="",o=t.length,a=100;for(i=0;o>i;i++){for(s=t[i],r+="M"+s[0]+","+s[1]+" C",e=s.length,n=2;e>n;n++)r+=(s[n++]*a|0)/a+","+(s[n++]*a|0)/a+" "+(s[n++]*a|0)/a+","+(s[n++]*a|0)/a+" "+(s[n++]*a|0)/a+","+(s[n]*a|0)/a+" ";s.closed&&(r+="z")}return r},g=function(t){for(var e=[],i=t.length-1,n=0;--i>-1;)e[n++]=t[i],e[n++]=t[i+1],i--;for(i=0;n>i;i++)t[i]=e[i];t.reversed=t.reversed?!1:!0},d=function(t){var e,i=t.length,n=0,s=0;for(e=0;i>e;e++)n+=t[e++],s+=t[e];return[n/(i/2),s/(i/2)]},f=function(t){var e,i,n,s=t.length,r=t[0],o=r,a=t[1],l=a;for(n=6;s>n;n+=6)e=t[n],i=t[n+1],e>r?r=e:o>e&&(o=e),i>a?a=i:l>i&&(l=i);return t.centerX=(r+o)/2,t.centerY=(a+l)/2,t.size=(r-o)*(a-l)},y=function(t){for(var e,i,n,s,r,o=t.length,a=t[0][0],l=a,h=t[0][1],p=h;--o>-1;)for(r=t[o],e=r.length,s=6;e>s;s+=6)i=r[s],n=r[s+1],i>a?a=i:l>i&&(l=i),n>h?h=n:p>n&&(p=n);return t.centerX=(a+l)/2,t.centerY=(h+p)/2,t.size=(a-l)*(h-p)},m=function(t,e){return e.length-t.length},b=function(t,e){var i=t.size||f(t),n=e.size||f(e);return Math.abs(n-i)<(i+n)/20?e.centerX-t.centerX||e.centerY-t.centerY:n-i},v=function(t,e){var i,n,s=t.slice(0),r=t.length,o=r-2;for(e=0|e,i=0;r>i;i++)n=(i+e)%o,t[i++]=s[n],t[i]=s[n+1]},w=function(t,e,i,n,s){var r,o,a,l,h=t.length,p=0,c=h-2;for(i*=6,o=0;h>o;o+=6)r=(o+i)%c,l=t[r]-(e[o]-n),a=t[r+1]-(e[o+1]-s),p+=Math.sqrt(a*a+l*l);return p},S=function(t,e,i){var n,s,r,o=t.length,a=d(t),l=d(e),h=l[0]-a[0],p=l[1]-a[1],c=w(t,e,0,h,p),u=0;for(r=6;o>r;r+=6)s=w(t,e,r/6,h,p),c>s&&(c=s,u=r);if(i)for(n=t.slice(0),g(n),r=6;o>r;r+=6)s=w(n,e,r/6,h,p),c>s&&(c=s,u=-r);return u/6},x=function(t,e,i){for(var n,s,r,o,a,l,h=t.length,p=99999999999,c=0,u=0;--h>-1;)for(n=t[h],l=n.length,a=0;l>a;a+=6)s=n[a]-e,r=n[a+1]-i,o=Math.sqrt(s*s+r*r),p>o&&(p=o,c=n[a],u=n[a+1]);return[c,u]},L=function(t,e,i,n,s,r){var o,a,l,h,p,c=e.length,u=0,g=Math.min(t.size||f(t),e[i].size||f(e[i]))*n,d=999999999999,y=t.centerX+s,m=t.centerY+r;for(a=i;c>a&&(o=e[a].size||f(e[a]),!(g>o));a++)l=e[a].centerX-y,h=e[a].centerY-m,p=Math.sqrt(l*l+h*h),d>p&&(u=a,d=p);return p=e[u],e.splice(u,1),p},k=function(t,e,i,n){var s,r,o,l,h,p,u,d=e.length-t.length,w=d>0?e:t,k=d>0?t:e,T=0,B="complexity"===n?m:b,A="position"===n?0:"number"==typeof n?n:.8,C=k.length,P="object"==typeof i&&i.push?i.slice(0):[i],M="reverse"===P[0]||P[0]<0,F="log"===i;if(k[0]){if(w.length>1&&(t.sort(B),e.sort(B),p=w.size||y(w),p=k.size||y(k),p=w.centerX-k.centerX,u=w.centerY-k.centerY,B===b))for(C=0;C<k.length;C++)w.splice(C,0,L(k[C],w,C,A,p,u));if(d)for(0>d&&(d=-d),w[0].length>k[0].length&&c(k[0],(w[0].length-k[0].length)/6|0),C=k.length;d>T;)l=w[C].size||f(w[C]),o=x(k,w[C].centerX,w[C].centerY),l=o[0],h=o[1],k[C++]=[l,h,l,h,l,h,l,h],k.totalPoints+=8,T++;for(C=0;C<t.length;C++)s=e[C],r=t[C],d=s.length-r.length,0>d?c(s,-d/6|0):d>0&&c(r,d/6|0),M&&!r.reversed&&g(r),i=P[C]||0===P[C]?P[C]:"auto",i&&(r.closed||Math.abs(r[0]-r[r.length-2])<.5&&Math.abs(r[1]-r[r.length-1])<.5?"auto"===i||"log"===i?(P[C]=i=S(r,s,0===C),0>i&&(M=!0,g(r),i=-i),v(r,6*i)):"reverse"!==i&&(C&&0>i&&g(r),v(r,6*(0>i?-i:i))):!M&&("auto"===i&&Math.abs(s[0]-r[0])+Math.abs(s[1]-r[1])+Math.abs(s[s.length-2]-r[r.length-2])+Math.abs(s[s.length-1]-r[r.length-1])>Math.abs(s[0]-r[r.length-2])+Math.abs(s[1]-r[r.length-1])+Math.abs(s[s.length-2]-r[0])+Math.abs(s[s.length-1]-r[1])||i%2)?(g(r),P[C]=-1,M=!0):"auto"===i?P[C]=0:"reverse"===i&&(P[C]=-1),r.closed!==s.closed&&(r.closed=s.closed=!1));return F&&a("shapeIndex:["+P.join(",")+"]"),P}},T=function(t,e,i,n){var s=p(t[0]),r=p(t[1]);k(s,r,e||0===e?e:"auto",i)&&(t[0]=u(s),t[1]=u(r),("log"===n||n===!0)&&a('precompile:["'+t[0]+'","'+t[1]+'"]'))},B=function(t,e,i){return e||i||t||0===t?function(n){T(n,t,e,i)}:T},A=function(t,e){if(!e)return t;var i,s,r,o=t.match(n)||[],a=o.length,l="";for("reverse"===e?(s=a-1,i=-2):(s=(2*(parseInt(e,10)||0)+1+100*a)%a,i=2),r=0;a>r;r+=2)l+=o[s-1]+","+o[s]+" ",s=(s+i)%a;return l},C=function(t,e){var i,n,s,r,o,a,l,h=0,p=parseFloat(t[0]),c=parseFloat(t[1]),u=p+","+c+" ",g=.999999;for(s=t.length,i=.5*e/(.5*s-1),n=0;s-2>n;n+=2){if(h+=i,a=parseFloat(t[n+2]),l=parseFloat(t[n+3]),h>g)for(o=1/(Math.floor(h)+1),r=1;h>g;)u+=(p+(a-p)*o*r).toFixed(2)+","+(c+(l-c)*o*r).toFixed(2)+" ",h--,r++;u+=a+","+l+" ",p=a,c=l}return u},P=function(t){var e=t[0].match(n)||[],i=t[1].match(n)||[],s=i.length-e.length;s>0?t[0]=C(e,s):t[1]=C(i,-s)},M=function(t){return isNaN(t)?P:function(e){P(e),e[1]=A(e[1],parseInt(t,10))}},F=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path"),n=Array.prototype.slice.call(t.attributes),s=n.length;for(e=","+e+",";--s>-1;)-1===e.indexOf(","+n[s].nodeName+",")&&i.setAttributeNS(null,n[s].nodeName,n[s].nodeValue);return i},G=function(t,e){var i,s,r,o,a,l,h,p,c,u,g,d,f,y,m,b,v,w,S,x,L,k=t.tagName.toLowerCase(),T=.552284749831;return"path"!==k&&t.getBBox?(l=F(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),"rect"===k?(o=+t.getAttribute("rx")||0,a=+t.getAttribute("ry")||0,s=+t.getAttribute("x")||0,r=+t.getAttribute("y")||0,u=(+t.getAttribute("width")||0)-2*o,g=(+t.getAttribute("height")||0)-2*a,o||a?(d=s+o*(1-T),f=s+o,y=f+u,m=y+o*T,b=y+o,v=r+a*(1-T),w=r+a,S=w+g,x=S+a*T,L=S+a,i="M"+b+","+w+" V"+S+" C"+[b,x,m,L,y,L,y-(y-f)/3,L,f+(y-f)/3,L,f,L,d,L,s,x,s,S,s,S-(S-w)/3,s,w+(S-w)/3,s,w,s,v,d,r,f,r,f+(y-f)/3,r,y-(y-f)/3,r,y,r,m,r,b,v,b,w].join(",")+"z"):i="M"+(s+u)+","+r+" v"+g+" h"+-u+" v"+-g+" h"+u+"z"):"circle"===k||"ellipse"===k?("circle"===k?(o=a=+t.getAttribute("r")||0,p=o*T):(o=+t.getAttribute("rx")||0,a=+t.getAttribute("ry")||0,p=a*T),s=+t.getAttribute("cx")||0,r=+t.getAttribute("cy")||0,h=o*T,i="M"+(s+o)+","+r+" C"+[s+o,r+p,s+h,r+a,s,r+a,s-h,r+a,s-o,r+p,s-o,r,s-o,r-p,s-h,r-a,s,r-a,s+h,r-a,s+o,r-p,s+o,r].join(",")+"z"):"line"===k?i="M"+t.getAttribute("x1")+","+t.getAttribute("y1")+" L"+t.getAttribute("x2")+","+t.getAttribute("y2"):("polyline"===k||"polygon"===k)&&(c=(t.getAttribute("points")+"").match(n)||[],s=c.shift(),r=c.shift(),i="M"+s+","+r+" L"+c.join(","),"polygon"===k&&(i+=","+s+","+r+"z")),l.setAttribute("d",i),e&&t.parentNode&&(t.parentNode.insertBefore(l,t),t.parentNode.removeChild(t)),l):t},_=function(t,e,i){var s,r,l="string"==typeof t;return(!l||(t.match(n)||[]).length<3)&&(s=l?o.selector(t):t&&t[0]?t:[t],s&&s[0]?(s=s[0],r=s.nodeName.toUpperCase(),e&&"PATH"!==r&&(s=G(s,!1),r="PATH"),t=s.getAttribute("PATH"===r?"d":"points")||"",s===i&&(t=s.getAttributeNS(null,"data-original")||t)):(a("WARNING: invalid morph to: "+t),t=!1)),t},V="Use MorphSVGPlugin.convertToPath(elementOrSelectorText) to convert to a path before morphing.",O=_gsScope._gsDefine.plugin({propName:"morphSVG",API:2,global:!0,version:"0.8.4",init:function(t,e,i){var n,r,o,l,h;return"function"!=typeof t.setAttribute?!1:(n=t.nodeName.toUpperCase(),h="POLYLINE"===n||"POLYGON"===n,"PATH"===n||h?(r="PATH"===n?"d":"points",("string"==typeof e||e.getBBox||e[0])&&(e={shape:e}),l=_(e.shape||e.d||e.points||"","d"===r,t),h&&s.test(l)?(a("WARNING: a <"+n+"> cannot accept path data. "+V),!1):(l&&(this._target=t,t.getAttributeNS(null,"data-original")||t.setAttributeNS(null,"data-original",t.getAttribute(r)),o=this._addTween(t,"setAttribute",t.getAttribute(r)+"",l+"","morphSVG",!1,r,"object"==typeof e.precompile?function(t){t[0]=e.precompile[0],t[1]=e.precompile[1]}:"d"===r?B(e.shapeIndex,e.map||O.defaultMap,e.precompile):M(e.shapeIndex)),o&&(this._overwriteProps.push("morphSVG"),o.end=l,o.endProp=r)),!0)):(a("WARNING: cannot morph a <"+n+"> SVG element. "+V),!1))},set:function(t){var e;if(this._super.setRatio.call(this,t),1===t)for(e=this._firstPT;e;)e.end&&this._target.setAttribute(e.endProp,e.end),e=e._next}});O.pathFilter=T,O.pointsFilter=P,O.subdivideRawBezier=c,O.defaultMap="size",O.pathDataToRawBezier=function(t){return p(_(t,!0))},O.equalizeSegmentQuantity=k,O.convertToPath=function(t,e){"string"==typeof t&&(t=o.selector(t));for(var i=t&&0!==t.length?t.length&&t[0]&&t[0].nodeType?Array.prototype.slice.call(t,0):[t]:[],n=i.length;--n>-1;)i[n]=G(i[n],e!==!1);return i},O.pathDataToBezier=function(t,e){var i,n,s,r,a,l,h,c,u=p(_(t,!0))[0]||[],g=0;if(e=e||{},c=e.align||e.relative,r=e.matrix||[1,0,0,1,0,0],a=e.offsetX||0,l=e.offsetY||0,"relative"===c||c===!0?(a-=u[0]*r[0]+u[1]*r[2],l-=u[0]*r[1]+u[1]*r[3],g="+="):(a+=r[4],l+=r[5],c&&(c="string"==typeof c?o.selector(c):c&&c[0]?c:[c],c&&c[0]&&(h=c[0].getBBox()||{x:0,y:0},a-=h.x,l-=h.y))),i=[],s=u.length,r)for(n=0;s>n;n+=2)i.push({x:g+(u[n]*r[0]+u[n+1]*r[2]+a),y:g+(u[n]*r[1]+u[n+1]*r[3]+l)});else for(n=0;s>n;n+=2)i.push({x:g+(u[n]+a),y:g+(u[n+1]+l)});return i}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),ns=gpyrnamespace("gpyr"),ns.Cta=function(t){this.initialize(t)},ns.Cta.prototype.initialize=function(t){var e="#cta-shine",i=t+" #cta-underline";this.dom=document.querySelector(t),this.svg={},this.svg.underline=document.querySelector(i)||{style:{}},this.svgShine=new gpyr.SVGShine(e),this.mouseOut()},ns.Cta.prototype.mouseOver=function(t){this.svg.underline.style.display="block",this.shine()},ns.Cta.prototype.mouseOut=function(t){this.svg.underline.style.display="none"},ns.Cta.prototype.shine=function(){this.svgShine.animate()},ns=gpyrnamespace("gpyr"),ns.ImageLoader=function(t){this.config=t},ns.ImageLoader.prototype.load=function(){var t;if(this.loaded=0,this.config.manifest&&this.config.manifest.length>0)for(var e in this.config.manifest)t=this.config.manifest[e],t.element=t.image=new Image,t.element.onload=this.onImageLoad.bind(t),t.element.onerror=this.onImageError.bind(this),t.element.src=t.src,t.index=parseInt(e),t._loader=this,gpyr.utils.addToDom(t);else this.config.onComplete()},ns.ImageLoader.prototype.onImageLoad=function(t){var e=this._loader.config.onFileLoad;this.target=t.target,e&&e(this),++this._loader.loaded,this._loader.update()},ns.ImageLoader.prototype.onImageError=function(t){++this.loaded,this.update()},ns.ImageLoader.prototype.update=function(){if(this.loaded==this.config.manifest.length)try{this.config.onComplete()}catch(t){}},ns=gpyrnamespace("gpyr"),ns.SVGFilter=function(t){this.initialize(t)},ns.SVGFilter.FILTER_ID=0,ns.SVGFilter.prototype.initialize=function(t){this.config={filters:".filters",type:"filter",css:!1},gpyr.utils.merge(this.config,t)},ns.SVGFilter.prototype.apply=function(t){gpyr.utils.merge(this.config,t);for(var e,i,n,s,r="string"==typeof this.config.target?document.querySelectorAll(this.config.target):[this.config.target],o=this.config.filter.substr(1),a=document.querySelector(this.config.filters),l=(a.querySelector(this.config.filter),a.innerHTML.split('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">').join("")),h=0;h<r.length;++h)i=r[h],this.config.css?i.style[this.config.type]="url("+this.config.filter+")":i.setAttribute(this.config.type,"url("+this.config.filter+")"),e="-"+gpyr.SVGFilter.FILTER_ID++,n=this.getParentSVG(i),s=n.parentNode.innerHTML.split("</svg>").join(l+"</svg>"),n.parentNode.innerHTML=s.split(o).join(o+e)},ns.SVGFilter.prototype.getParentSVG=function(t){for(var e="string"==typeof t?document.querySelector(t):t,i=e,n="";"svg"!=n;){if("body"===n){i=null,console.log("/* SVGFilter ERROR */ Target MUST be a SVG element! (e.g. path, polyline, rect etc.) ==> ",e);break}i=i.parentNode,n=i.nodeName.toLowerCase()}return i},ns=gpyrnamespace("gpyr"),ns.SVGFont=function(t){this.initialize(t)},ns.SVGFont.write=function(t){for(var e,i,n,s,r={},o=t,a=1;a<=o.getNumFrames();++a){i=o.getFrame(a),r["frame"+a]={};for(var l in i){if(n=i[l],"rate"==l.substr(0,4))e=new gpyr.SuncorpRate(n),e.container.className+=" "+l;else{if(e=new gpyr.SVGFont(n),n.text.indexOf("$hook")>-1){var h=n.text.split("$hook"),p=0===n.text.indexOf("$hook");p||(s=gpyr.utils.merge({},n),s.text=h[0],e.write(s));for(var c=1;c<h.length;++c){hook="$hook"+h[c][0]+";";var u=n.text.split(hook),g=u[1].split("$"),d=gpyr.utils.merge({},n);gpyr.utils.merge(d,n["hook"+c]),d.text=g[0],e.write(d);var f=gpyr.utils.merge({},n);f.text=g[1],e.write(f)}}else e.write(n);e.getParagraph().div.className+=" "+l}r["frame"+a][l]=e}}},ns.SVGFont.loadFonts=function(t){this.config=t,this._loadQueue=this._loadQueue||[];var e,i,n,s=document.querySelector("body"),r=[];this.config.fonts=this.config.fonts||[];for(var o=0;o<this.config.fonts.length;++o)e=this.config.fonts[o],i=e.split(".svg")[0],-1==this._loadQueue.indexOf(i)&&(n=document.createElement("div"),n.className="SVGFontLibrary "+i,s.appendChild(n),r.push(this.config.base+e),this._loadQueue.push(i));r.length>0?(new gpyr.SVGLoader).load({files:r,onFileLoad:this.onFileLoad.bind(this),onComplete:this.onComplete.bind(this)}):this.onComplete()},ns.SVGFont.onFileLoad=function(t){this._loadedFonts=this._loadedFonts||[],this._loadedFonts.push(t.name),this.config.onFileLoad&&this.config.onFileLoad(t)},ns.SVGFont.onComplete=function(){this.config.onComplete()},ns.SVGFont.prototype.initialize=function(t){var e=document.querySelector(".SVGFontLibrary svg").getAttribute("viewBox").split(" ");this.config={align:"TL",letterSpacing:1,leading:0,fontSize:50,supScale:.65,subScale:.65,core:{fontSize:300,width:parseInt(e[2])||500,height:parseInt(e[3])||500,spaceWidth:100,letterSpacingOffset:20,leadingOffset:-160,leadingDefault:t.leading||0,script:"std"}},gpyr.utils.merge(this.config,t)},ns.SVGFont.prototype.addCharDiv=function(t,e,i){var n,s,r=document.querySelector(".SVGFontLibrary."+e),o=r.querySelector("#charcode"+t.charCodeAt(0));return o&&(s=r.innerHTML.split(">")[0]+"></svg>",n=document.createElement("div"),n.className="charDiv",n.innerHTML=s,n.querySelector("svg").appendChild(o.cloneNode()),i.appendChild(n)),n},ns.SVGFont.prototype.addWordDiv=function(t,e,i){var n;if(t){n=document.createElement("div"),className="";for(var s in t)className+=this.getClassName(t[s]);n.className="wordDiv word-"+className+" "+this.config.script,i.appendChild(n)}return n},ns.SVGFont.prototype.addLineDiv=function(t){var e=document.createElement("div");return e.className="lineDiv line-"+this.getLineArray().length,t.appendChild(e),e},ns.SVGFont.prototype.getParagraph=function(){if(!this.config.paragraph){var t=document.createElement("div");t.className="paraDiv",this.getParent().appendChild(t),this.config.paragraph={text:"",div:t,lineArray:[],width:0,height:0}}return this.config.paragraph},ns.SVGFont.prototype.getParent=function(){return"string"==typeof this.config.parent?document.querySelector(this.config.parent):this.config.parent},ns.SVGFont.prototype.write=function(t){this.config.leading=this.config.core.leadingDefault,this.config.script=this.config.core.script,gpyr.utils.merge(this.config,t);var e,i,n,s,r,o,a,l,h,p,c,u=this.config.text.split("<br/>"),g=this.getScale(),d=this.config.core.spaceWidth*g,f=0,y=0,m=this.getParagraph();this.writeComplete&&(u[0]||(u=u.slice(1),this.writeComplete=!1));for(var b in u){l=u[b],a=l.split(" "),c=this.getLastLine(),this.writeComplete?(n=c,y=this.getLastWord().x+this.getLastWord().width,this.writeComplete=!1):(n={text:"",div:this.addLineDiv(m.div),wordArray:[],height:g*this.config.core.height,y:0},y=0),n.leading=this.getLeading(t.leading||n.leading);for(var v in a){o=a[v],f=0,s={text:o,div:this.addWordDiv(o,v,n.div),charArray:[],height:0,x:y};for(var w in o)e=o[w],i=o[parseInt(w)+1],h=this.getClassName(e),p=this.getClassName(i),r={text:e,div:this.addCharDiv(e,this.config.font,s.div),width:g*this.config.core.width,height:g*this.config.core.height},r.div&&(r.div.style.width=r.width+"px",r.div.style.height=r.height+"px",r.div.className=r.div.className+" char-"+h+(p?" charPair-"+h+"-"+p:"")+" "+this.config.script+" "+this.config.font,r.pathWidth=r.div.querySelector("path").getBoundingClientRect().width,r.pathHeight=r.div.querySelector("path").getBoundingClientRect().height,r.x=f-.5*(parseInt(r.div.style.width)-r.pathWidth),this.prefix(r.div,"transform","translate("+r.x+"px)"),s.charArray.push(r),s.height=Math.max(s.height,r.height),f+=r.pathWidth+this.getLetterSpacing()+this.getCharMargin(r.div));s.div&&(s.width=f-this.getLetterSpacing(),s.div.style.width=s.width+"px",s.div.style.height=s.height+"px",this.prefix(s.div,"transform","translate("+s.x+"px)"),n.wordArray.push(s),n.text=n.text+o+" ",n.height=Math.max(n.height,s.height),y+=s.width),y+=d}n!=c&&(this.getLineArray().push(n),n.y=c.y+c.height+c.leading),n.width=y-d,n.div.style.width=n.width+"px",n.div.style.height=n.height+"px",n.div.style.top=n.y+"px"}for(var S in this.getLineArray())m.width=Math.max(this.getLineArray()[S].width,m.width);m.height=this.getLastLine().y+this.getLastLine().height,m.div.style.width=m.width+"px",m.div.style.height=m.height+"px",this.align(),this.writeComplete=!0},ns.SVGFont.prototype.getCharMargin=function(t){return parseInt(window.getComputedStyle(t).marginRight)*this.getScale()},ns.SVGFont.prototype.getLine=function(t){var e=this.getLineArray(),i=Math.min(e.length-1,Math.max(-1,t));return e[i]},ns.SVGFont.prototype.getLastLine=function(){var t=this.getLineArray();return t[t.length-1]||{x:0,y:0,width:0,height:0,leading:0}},ns.SVGFont.prototype.getLastWord=function(){var t=this.getLastLine().wordArray;return t[t.length-1]},ns.SVGFont.prototype.getScale=function(){return this.config.fontSize/this.config.core.fontSize*this.getScriptScale()},ns.SVGFont.prototype.getScriptScale=function(){var t={sup:this.config.supScale,sub:this.config.subScale};return t[this.config.script]?t[this.config.script]:1},ns.SVGFont.prototype.getLeading=function(){var t=this.getScale()*this.config.core.leadingOffset;return Math.abs(t)*this.config.leading+t},ns.SVGFont.prototype.getLetterSpacing=function(){var t=this.getScale()*this.config.core.letterSpacingOffset;return Math.abs(t)*this.config.letterSpacing},ns.SVGFont.prototype.getLineArray=function(){return this.config.paragraph.lineArray},ns.SVGFont.prototype.align=function(){var t=window.getComputedStyle(this.getParent()),e=parseInt(t.width),i=parseInt(t.height),n=this.getParagraph().div,s=window.getComputedStyle(n),r=parseInt(s.width),o=parseInt(s.height),a=0,l=.5*(i-o),h=i-o,p=0,c=.5*(e-r),u=e-r;switch(this.config.align){case"TR":posY=a,posX=u;break;case"TC":posY=a,posX=c;break;case"BL":posY=h,posX=p;break;case"BC":posY=h,posX=c;break;case"BR":posY=h,posX=u;break;case"ML":posY=l,posX=p;break;case"MC":posY=l,posX=c;break;case"MR":posY=l,posX=u;break;default:posY=a,posX=p}this.getParagraph().x=posX,this.getParagraph().y=posY,this.prefix(n,"transform","translate("+posX+"px, "+posY+"px)");var g,d=this.getLineArray();for(var f in d){switch(g=d[f],this.config.align.substr(1,1)){case"L":posX=0;break;case"C":posX=.5*(r-g.width);break;case"R":posX=r-g.width}this.prefix(g.div,"transform","translate("+posX+"px)")}},ns.SVGFont.prototype.getClassName=function(t){if(!t)return"";var e="abcdefghijklmnopqrstuvwxyz";return e=e+e.toUpperCase()+"0123456789",-1==e.indexOf(t)&&(t=t.charCodeAt(0)),t},ns.SVGFont.prototype.prefix=function(t,e,i){var n,s=["","moz","webkit","ms","o"],r=e.substr(0,1).toUpperCase()+e.substr(1,e.length-1);for(var o in s)n=s[o],t.style[n+(""!==n?r:e)]=i},ns=gpyrnamespace("gpyr"),ns.SVGLoader=function(){},ns.SVGLoader.prototype.load=function(t){var e=t.files;return this.config=t,e&&0!==e.length?(e="string"==typeof e?[e]:e,void(this.manifest={files:e,items:this.createItems(e),current:0})):void this.config.onComplete()},ns.SVGLoader.prototype.onFileLoad=function(t){this.config.onFileLoad&&this.config.onFileLoad(t)},ns.SVGLoader.prototype.onComplete=function(){this.config.onComplete()},ns.SVGLoader.prototype.getSVG=function(t){for(var e,i=this.manifest.items,n=i.length-1;n>0;--n)if(i[n].name==t){e=i[n].svg;break}return e},ns.SVGLoader.prototype.createItems=function(t){for(var e,i,n,s,r=[],o=0;o<t.length;++o)i=t[o],s=i.split("/"),n=s[s.length-1].split(".svg")[0],e={parent:this,name:n,file:i,svg:"",load:this.loadFile},e.load(),r.push(e);return r},ns.SVGLoader.prototype.loadFile=function(){var t=new XMLHttpRequest;t.open("GET",this.file,!0),t.onload=function(t){this.parent.onFileLoad({name:this.name}),this.svg=t.target.responseText,++this.parent.manifest.current>=this.parent.manifest.files.length&&(this.parent.build(),this.parent.onComplete())}.bind(this),t.send()},ns.SVGLoader.prototype.build=function(){for(var t,e=this.manifest.items,i=e.length-1;i>=0;--i){t=document.querySelectorAll("."+e[i].name);for(var n=t.length-1;n>=0;--n)t[n].innerHTML=e[i].svg}},ns=gpyrnamespace("gpyr"),ns.SVGPath=function(t){this.initialize(t)},Object.defineProperty(ns.SVGPath.prototype,"progress",{get:function(){return this._progress},set:function(t){this._progress=t,this.config.autoDashArray&&(this.path.style.strokeDashoffset=this.getStrokeDashoffset());for(var e=this.children.length-1;e>=0;--e)this.moveChild(e)}}),ns.SVGPath.prototype.getStrokeDashoffset=function(t){return this.totalLength+this.totalLength*this._validProgress(t)},ns.SVGPath.prototype.getPoint=function(t){return this.path.getPointAtLength(this.totalLength+-1*(this.getStrokeDashoffset(this._validProgress(t))-this.totalLength))},ns.SVGPath.prototype.moveChild=function(t){var e,i,n=this.children[t];if(n){if(n.progress=this.progress-n.offset,e=this.getPoint(n.progress),n.dom.style.left=e.x+"px",n.dom.style.top=e.y+"px",i=n.prevPoint,this.config.orientToPath&&i&&(e.x!=i.x||i.x!=e.x)){var s=n.prevProgress<n.progress,r=s?e.x-i.x:i.x-e.x,o=s?e.y-i.y:i.y-e.y,a=Math.atan2(o,r),l=a/Math.PI*180-270;gpyr.utils.prefix(n.dom,"transform","rotate("+l+"deg)")}n.prevPoint=e,n.prevProgress=n.progress}},ns.SVGPath.prototype.initialize=function(t){if(this.config={path:null,children:null,orientToPath:!0,offsetChildren:!0,autoDashArray:!0},this._progress=0,gpyr.utils.merge(this.config,t),this.path=document.querySelector(this.config.path),this.children=[],this.config.children)for(var e,i,n=this.config.children.length-1;n>=0;--n)if(e=document.querySelectorAll(this.config.children[n]))for(var s=e.length-1;s>=0;--s)i=new gpyr.SVGPathChild({dom:e[s],offset:this.config.offsetChildren?s/e.length:0}),this.children.push(i);this.totalLength=parseFloat(this.path.getTotalLength()),this.config.autoDashArray&&(this.path.style.strokeDasharray=this.totalLength,this.path.style.strokeDashoffset=this.totalLength)},ns.SVGPath.prototype._validProgress=function(t){return Math.max(0,Math.min(1,void 0===t?this.progress:t))},ns.SVGPathChild=function(t){this.initialize(t)},ns.SVGPathChild.prototype.initialize=function(t){this.config=t,this.dom=this.config.dom,this.offset=this.config.offset,this.progress=0},ns=gpyrnamespace("gpyr"),ns.SVGShine=function(t){this.initRAF(),this.initialize(t)},ns.SVGShine.prototype.initRAF=function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()},ns.SVGShine.prototype.initialize=function(t){this.transform=new gpyr.utils.SVGTransform(t),this.speed=.1,this.translateMax=3,this.renderDone=!0},ns.SVGShine.prototype.animate=function(){this.renderDone&&(this.renderDone=!1,this.render())},ns.SVGShine.prototype.render=function(){this.transform.translate.x>=this.translateMax&&(this.transform.translate.x=this.transform.init.translate.x,this.renderDone=!0),this.renderDone||(this.transform.translate.x+=this.speed,this.transform.update(),requestAnimFrame(this.render.bind(this)))},ns=gpyrnamespace("gpyr.utils"),ns.SVGTransform=function(t){this.initialize(t)},ns.SVGTransform.prototype.initialize=function(t){this.element=document.querySelector(t),this.transformAttribute=this.element.nodeName.toLowerCase().indexOf("gradient")>-1?"gradientTransform":"transform",this.init=this.parse({}),this.parse(this),this.update()},ns.SVGTransform.prototype.parse=function(t){var e,i,n=t||{};return i=this.getTransform(this.element,"translate"),e=i?i.split(" "):[],n.translate={x:parseFloat(e[0])||0,y:parseFloat(e[1])||0},i=this.getTransform(this.element,"rotate"),e=i?i.split(" "):[],n.rotate={value:parseFloat(e[0])||0,cx:parseFloat(e[1])||0,cy:parseFloat(e[2])||0},i=this.getTransform(this.element,"scale"),e=i?i.split(" "):[],n.scale={x:parseFloat(e[0])||1,y:parseFloat(e[1])||1},i=this.getTransform(this.element,"skewX"),n.skewX={value:parseFloat(i)||0},i=this.getTransform(this.element,"skewY"),n.skewY={value:parseFloat(i)||0},n},ns.SVGTransform.prototype.update=function(){var t,e="";for(var i in this.init){e+=i+"(",t=this[i];for(var n in t)e+=t[n]+" ";e=e.substr(0,e.length-1)+") "}this.element.setAttribute(this.transformAttribute,e)},ns.SVGTransform.prototype.getTransform=function(t,e){var i=t.getAttribute(this.transformAttribute);if(i.indexOf(e)>-1){var n=i.split(e+"(");return n[1].split(")")[0]}return null},ns=gpyrnamespace("gpyr"),ns.SVGizzle=function(){},ns.SVGizzle.prototype.pathToPoints=function(t){var e,i,n,s,r,o,a,l=t,h=[" ",","],p=["-","."],c=["x","y"],u=0,g={},d=[],f=null,y=t.substr(-1);for(var m in l)s=l[m],e=h.indexOf(s)>-1,i=p.indexOf(s)>-1,r=!isNaN(s)&&!e||i,r?o?f+=s:(f&&(n=c[u++%c.length],n==c[0]?(g={},a&&(g.prefix=a,a=null)):d.push(g),g[n]=f),f=s):e||(a=s),o=r;return g.suffix=isNaN(y)?y:"",g.y=f,d.push(g),d},ns.SVGizzle.prototype.pointsToPath=function(t){var e,i="";for(var n in t)e=t[n],i+=(e.prefix||"")+e.x+" "+e.y+" ";return i.substr(0,i.length-1)+e.suffix},ns.SVGizzle.prototype.pathToFrames=function(t,e,i){var n,s=this.pathToPoints(t),r="",o=[];s=e?s.reverse():s;for(var a=0;a<s.length;++a)n=s[a],r=r+n.x+" "+n.y+" ",o.push("M "+r);return i?o:o.reverse()},ns=gpyrnamespace("gpyr"),ns.Linebreak=function(){},ns.Linebreak.before=function(t,e){return gpyr.Linebreak.__apply(t,e,!1)},ns.Linebreak.after=function(t,e){return gpyr.Linebreak.__apply(t,e,!0)},ns.Linebreak.clear=function(t){var e;try{e=document.querySelector(t)}catch(i){}return e?(e.innerHTML=this.__clear(e.innerHTML),e.innerHTML):this.__clear(t)},ns.Linebreak.add=function(t,e,i){var n,s,r,o,a,l,h="<br/>";for(t=t?"string"==typeof t?[t]:t:"",o=0;o<t.length;++o)a=t[o],e=e.split(a).join(i?a+h:h+a).toString();for(n=e.split(h),s="",o=0;o<n.length;++o)r=n[o],i?(l=o<n.length-1?h:"",s+=(" "==r.substr(0,1)?r.substr(1):r)+l):(l=o>0?h:"",s+=l+(" "==r.substr(-1,1)?r.substr(0,r.length-1):r));return s},ns.Linebreak.__apply=function(t,e,i){var n;try{n=document.querySelector(e)}catch(s){}return n?(n.innerHTML=gpyr.Linebreak.add(t,n.innerHTML.toString(),i),n.innerHTML.toString()):gpyr.Linebreak.add(t,e,i)},ns.Linebreak.__clear=function(t){return t.split("<br/>").join("").split("<br>").join("").split("</br>").join("")},ns=gpyrnamespace("gpyr.utils"),ns.addClass=function(t,e){for(var i,n="string"==typeof t?document.querySelectorAll(t):[t],s=0;s<n.length;s++){i=n[s];try{i.className=i.className?i.className+" "+e:e}catch(r){}}},ns=gpyrnamespace("gpyr.utils"),ns.addToDom=function(t){var e;for(var i in t.attr)t.element.setAttribute(i,t.attr[i]);t.before?(e="string"==typeof t.before?document.querySelector(t.before):t.before,e.parentNode.insertBefore(t.element,e)):t.dest&&document.querySelector(t.dest).appendChild(t.element);

},ns=gpyrnamespace("gpyr.utils"),ns.Params=function(){var t,e=window.location.search.replace("?","").split("&");for(var i in e){t=e[i].split("=");for(var n=0;n<t.length;n+=2)this[t[n]]=t[n+1]}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),ns=gpyrnamespace("gpyr.utils"),ns.merge=function(t,e){var i;e=e||{};for(var n in e){i=!1;try{i=e[n].constructor==Object}catch(s){}if(i){t[n]=t[n]||{};for(var r in e[n]){i=!1;try{i=e[n][r].constructor==Object}catch(s){}i?(t[n][r]=t[n][r]||{},this.merge(t[n][r],e[n][r])):t[n][r]=e[n][r]}}else t[n]=e[n]}return t};var ns;ns=gpyrnamespace("gpyr.banner.base"),ns.AppBase=function(){},ns.AppBase.prototype.registerDomElements=function(){this.fonts=["Futura-ExtraBold.svg"],this.jackpotWidth=210,this.ballEndStartX=-600,this.jackpotOut=600},ns.AppBase.prototype.getManifest=function(){return this.manifest=[{src:"truck-money-front.png",dest:".assets"},{src:"tagline.png",dest:"#cta-container",attr:{id:"tagline","class":"cta"}},{src:"logo.png",dest:"#message",attr:{id:"logo"}},{src:"jurisdiction.png",dest:"#lockup",attr:{id:"jurisdiction","class":"by-jur"}},{src:"by.png",dest:"#lockup",attr:{id:"by","class":"by-jur"}},{src:"thelott.png",dest:"#lockup",attr:{id:"thelott"}},{src:"transparent.png",dest:"#clickthrough"}],this.manifest},ns.AppBase.prototype.onLoadComplete=function(){this.update(),this.addCTA(),this.ballDriver=new gpyr.BallDriver({target:".ball-driver",orientToPath:!1}),this.ballGirl=new gpyr.BallGirl({target:".ball-girl"}),this.ballHero=new gpyr.BallHero({target:"#ball-hero"}),this.ballEnd=new gpyr.BallHero({target:"#ball-end"}),this.addJackpot(),this.addHeadlineGlow(),this.addBallShadowBlur(),this.buildTimeline(),this.start()},ns.AppBase.prototype.addJackpot=function(){this.jackpot=new gpyr.Jackpot({million:this.proxy.getMillion(),day:this.proxy.getDay(),portrait:!0,width:this.jackpotWidth,"default":this.proxy.getDefault()})},ns.AppBase.prototype.addHeadlineGlow=function(){var t=document.querySelector(".headline"),e=t.cloneNode(!0),i=new gpyr.SVGFilter;gpyr.utils.addToDom({element:e,before:t,attr:{id:"headline-glow"}}),i.apply({filter:"#glow",target:"#headline-glow path"})},ns.AppBase.prototype.addBallShadowBlur=function(){var t=new gpyr.SVGFilter;t.apply({filter:"#ball-shadow-blur",target:".ball-shadow ellipse"})},ns.AppBase.prototype.update=function(){var t=this.proxy._config.jurisdiction;document.querySelector("#terms").innerHTML=this.proxy.terms,gpyr.utils.addClass("#baseplate",t),gpyr.utils.addClass("#lockup",t),gpyr.utils.addClass(".disclaimer",t),gpyr.utils.addClass("#terms-container",t),gpyr.utils.addClass("#jurisdiction",t+" jur"),gpyr.utils.addClass("#by",t+" jur"),gpyr.utils.addClass(".hfpr",t),gpyr.utils.addClass(".cta",t),gpyr.v2&&gpyr.utils.addClass("#message","v2"),this.proxy.getDefault()&&gpyr.utils.addClass("#content","default")},ns.AppBase.prototype.addCTA=function(){this.cta=new gpyr.Cta("#cta")},ns.AppBase.prototype.onMouseOver=function(t){this.cta&&this.end&&(this.cta.mouseOver(),this.ballEnd.mouseOver(),TweenMax.set("#cta",{marginLeft:3,marginTop:3}))},ns.AppBase.prototype.onMouseOut=function(t){this.cta&&this.end&&(this.cta.mouseOut(),this.ballEnd.mouseOut(),TweenMax.set("#cta",{marginLeft:0,marginTop:0}))},ns.AppBase.prototype.buildTimeline=function(){var t=Linear.easeNone;this.timeline=(new TimelineMax).call(this.ballHero.refresh,null,this.ballHero).set(["#content","#tintcontent"],{visibility:"visible"}).from(["#content","#tintcontent"],1,{opacity:0}).add("ZoomIn").to(".eclipse #eclipse",1,{x:"+=10",ease:t},"ZoomIn").to("#truck-container",1,{className:"truck-f2",ease:Sine.easeInOut},"ZoomIn").from(".headline",.5,{opacity:0,ease:t},"ZoomIn").add("SlowZoom").add(this.ballGirl.getTimeline(),"SlowZoom").add(this.ballDriver.getTimeline(),"SlowZoom").add(this.ballHero.getChat(),"SlowZoom").to("#truck-container",this.ballHero.getChat().duration(),{className:"truck-f3",ease:t},"SlowZoom").to(".eclipse #eclipse",this.ballHero.getChat().duration(),{x:"+=10",ease:t},"SlowZoom").add("FastZoom","-=1").to(".headline",.5,{opacity:0,ease:t},"FastZoom-=0.5").to("#truck-container",.5,{className:"truck-f4",ease:Sine.easeOut},"FastZoom").to(".eclipse #eclipse",2,{x:"+=10",ease:t},"FastZoom").add(this.ballHero.getCrazy(),"FastZoom").add("ZoomOut","FastZoom+=1.5").to("#truck-container",.2,{className:"truck-f5",ease:Sine.easeIn},"ZoomOut").add("Jackpot","ZoomOut+=0.2").add(this.jackpotTL(),"Jackpot").add("Endframe").add(this.endframe(),"Endframe").call(this.cta.shine.bind(this.cta)).call(this.onTimelineComplete,null,this)},ns.AppBase.prototype.onTimelineComplete=function(t){this.end=!0},ns.AppBase.prototype.rewind=function(t){this.timeline&&this.timeline.stop()},ns.AppBase.prototype.restart=function(t){this.timeline&&this.timeline.restart()},ns.AppBase.prototype.start=function(){this.backup.enabled()&&(TweenMax.set("#bg svg",{opacity:0}),this.timeline.duration(.5*this.timeline.duration())),this.timeline.restart()},ns.AppBase.prototype.jackpotTL=function(){var t=(new TimelineMax,4);return(new TimelineMax).set("#tintcontent",{className:"+=dark-brightness"},1e-4).from("#jackpot",.3,{opacity:0,ease:Linear.easeNone},0).fromTo("#jackpot #eclipse",t,{x:"15"},{x:"30",ease:Linear.easeNone},0).to("#tintcontent",t,{className:"+=normal-brightness"},2e-4).to("#jackpot",1,{left:this.jackpotOut,rotation:360,transformOrigin:"50% 50%",ease:Back.easeIn})},ns.AppBase.prototype.endframe=function(){var t=(new TimelineMax).add("F1").add(this.ballEnd.endframe(),"F1").add(this.mandatories(),"F1").add("Hero","-=0.3").from("#ball-end",.001,{opacity:0},"Hero").from("#ball-end",.3,{left:this.ballEndStartX,ease:Sine.easeOut},"Hero").call(this.ballEnd.mouseOver,null,this.ballEnd,"Hero+=0.3").call(this.ballEnd.mouseOut,null,this.ballEnd,"Hero+=1.3").call(this.exit,null,this);return gpyr.v2&&t.add("v2","F1+=0.3").set(["#jackpot","#jackpot-shadow"],{opacity:0},"v2").to("#jackpot",0,{className:"jackpot-v2"},"v2").to("#jackpot-shadow",0,{className:"jackpot-shadow-v2"},"v2").to(["#jackpot","#jackpot-shadow"],.3,{opacity:1,ease:Linear.easeNone},"v2"),t},ns.AppBase.prototype.mandatories=function(){return(new TimelineMax).from("#logo",.5,{left:-300,ease:Sine.easeOut},0).from(".cta",.5,{left:1400,ease:Sine.easeOut},.2).from("#tagline",.3,{opacity:0,ease:Linear.easeNone}).add(this.baseplate(),.5)},ns.AppBase.prototype.baseplate=function(){window.getComputedStyle(document.querySelector("#lockup"));return(new TimelineMax).from(["#baseplate"],.5,{opacity:0,ease:Linear.easeNone}).from(".disclaimer",.3,{opacity:0,ease:Linear.easeNone},"-=.5")},ns=gpyrnamespace("gpyr.banner.base"),ns.AppBase.prototype.init=function(t){app=this,this.initClickthrough(),this.proxy=new gpyr.banner.Proxy,this.proxy.load({callback:this.onProxyComplete.bind(this)})},ns.AppBase.prototype.onProxyComplete=function(t){switch(this.addBackupProxy(),this.proxy.getPlatform()){case"dcm":this.loadAssets();break;case"dcs":this.initEnabler();break;case"amo":this.initAMO();break;case"sizmek":this.initEB();break;case"ft":this.initFT();break;default:this.loadAssets()}},ns.AppBase.prototype.initEB=function(){this.backup.enabled()||EB.isInitialized()?this.loadAssets():EB.addEventListener(EBG.EventName.EB_INITIALIZED,this.loadAssets.bind(this))},ns.AppBase.prototype.initFT=function(){var t=new FT;t.applyClickTag(document.querySelector("#clickthrough"),1),this.loadAssets()},ns.AppBase.prototype.initAMO=function(){amo.registerClick("clickTag","http://www.adobe.com"),this.loadAssets()},ns.AppBase.prototype.initEnabler=function(){Enabler.isInitialized()?this.politeLoad():Enabler.addEventListener(studio.events.StudioEvent.INIT,this.politeLoad.bind(this))},ns.AppBase.prototype.politeLoad=function(){Enabler.isPageLoaded()?this.loadAssets():Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,this.loadAssets.bind(this))},ns.AppBase.prototype.loadAssets=function(){var t=new gpyr.ImageLoader({onComplete:this.onImageLoadComplete.bind(this),manifest:this.getManifest()});t.load()},ns.AppBase.prototype.onImageLoadComplete=function(){this.loadFonts()},ns.AppBase.prototype.loadFonts=function(){gpyr.SVGFont?gpyr.SVGFont.loadFonts({base:"./",fonts:this.fonts,onComplete:this.onFontsComplete.bind(this)}):this.onFontsComplete()},ns.AppBase.prototype.onFontsComplete=function(t){gpyr.SVGFont&&gpyr.SVGFont.write(this.proxy),this.svgLoader=(new gpyr.SVGLoader).load({files:this.proxy.getSVG(this.fonts),onComplete:this.onSVGLoadComplete.bind(this)})},ns.AppBase.prototype.onSVGLoadComplete=function(){this.onLoadComplete()},ns.AppBase.prototype.initClickthrough=function(){var t=document.querySelector("#clickthrough");t.addEventListener("click",this.onClick.bind(this)),t.addEventListener("mouseover",this.onMouseOver.bind(this)),t.addEventListener("mouseout",this.onMouseOut.bind(this))},ns.AppBase.prototype.onClick=function(){switch(this.proxy.getPlatform()){case"dcm":window.open(clickTag);break;case"dcs":Enabler.exit("Clickthrough");break;case"gdn":ExitApi.exit();break;case"amo":amo.registerClick("clickTag","http://www.adobe.com"),amo.onAdClick("clickTag");break;case"sizmek":EB.clickthrough()}},ns.AppBase.prototype.addBackupProxy=function(){var t=this.proxy._config;this.backup=new gpyr.banner.BackupProxy({width:t.width,height:t.height})},ns.AppBase.prototype.snap=function(){this.backup.snap()},ns.AppBase.prototype.exit=function(){this.backup.exit()},ns=gpyrnamespace("gpyr.banner"),ns.BackupProxy=function(t){this.init(t)},ns.BackupProxy.prototype.init=function(t){this.config={width:300,height:250,auto:!1,exit:!1,frame:0},gpyr.utils.merge(this.config,t),this.__callback()},ns.BackupProxy.prototype.snap=function(){++this.config.frame,this.__callback()},ns.BackupProxy.prototype.exit=function(){this.snap(),this.config.exit=!0,this.__callback()},ns.BackupProxy.prototype.enabled=function(){return"function"==typeof window.callPhantom},ns.BackupProxy.prototype.__callback=function(){this.enabled()&&window.callPhantom(this.config)},ns=gpyrnamespace("gpyr.base"),ns.BallBase=function(){},ns.BallBase.prototype.init=function(t){this.config={target:null,orientToPath:!0},gpyr.utils.merge(this.config,t),this.element=document.querySelector(this.config.target),this.eyeR=new gpyr.base.BallEye(this.config.target+" #eye-R"),this.eyeL=new gpyr.base.BallEye(this.config.target+" #eye-L"),this.armR=new gpyr.base.BallArm(this.config.target+" #arm-R",this.config.orientToPath),this.armL=new gpyr.base.BallArm(this.config.target+" #arm-L",this.config.orientToPath)},ns.BallBase.prototype.my=function(t){return this.config.target+(t?" "+t:"")},ns.BallEye=function(t){this.element=document.querySelector(t),this.pupil=new gpyr.base.BallPupil(t+" #pupil"),this.eyelidT=new gpyr.base.BallEyelid(t+" #eyelid-top"),this.eyelidB=new gpyr.base.BallEyelid(t+" #eyelid-bottom"),this.rotate=0},ns.BallEye.prototype.blink=function(){var t=.1,e=Linear.easeNone,i=this.eyelidT.height;return(new TimelineMax).to(this.eyelidT,t,{height:1,ease:e}).to(this.eyelidT,t,{height:i,ease:e})},Object.defineProperty(ns.BallEye.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=parseFloat(t),this.eyelidT.rotate=this.eyelidB.rotate=this._rotate}}),ns.BallPupil=function(t){this.element=document.querySelector(t),this.x=0,this.y=0,this.r=4},Object.defineProperty(ns.BallPupil.prototype,"x",{get:function(){return this._x},set:function(t){this._x=parseFloat(t),this.element.setAttribute("cx",11.5*this._x)}}),Object.defineProperty(ns.BallPupil.prototype,"y",{get:function(){return this._y},set:function(t){this._y=parseFloat(t),this.element.setAttribute("cy",11.5*this._y)}}),Object.defineProperty(ns.BallPupil.prototype,"r",{get:function(){return this._r},set:function(t){this._r=parseFloat(t),this.element.setAttribute("r",this._r)}}),ns.BallEyelid=function(t){this.element=document.querySelector(t),this.isBottom="-bottom"===t.substr(-7),this.height=0,this.rotate=0},Object.defineProperty(ns.BallEyelid.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=parseFloat(t),this.element.parentNode.setAttribute("transform","translate(11.5, 12.5) rotate("+this._rotate+") translate(-11.5, -12.5)")}}),Object.defineProperty(ns.BallEyelid.prototype,"height",{get:function(){return this._height},set:function(t){this._height=Math.max(0,Math.min(1,parseFloat(t))),this.element.setAttribute("height",100*this._height+"%"),this.isBottom&&this.element.setAttribute("y",100*(1-this._height)+"%")}}),ns.BallArm=function(t,e){this.element=document.querySelector(t),this.shape=t+" #ball-arm",this.shapeEl=document.querySelector(this.shape),this.hand=document.querySelector(t+" .hand"),this.orientToPath=e,this.render()},ns.BallArm.prototype.morphTo=function(t,e,i){var n={ease:Sine.easeOut,morphSVG:t,onUpdate:this.render.bind(this)};return gpyr.utils.merge(n,i),(new TimelineMax).to(this.shape,e||0,n)},ns.BallArm.prototype.render=function(){if(this.shapeEl){this.endpoint=this.endpoint||this.shapeEl.getPointAtLength(.999*this.shapeEl.getTotalLength());var t=(this.shapeEl.getAttribute("d"),this.endpoint);if(this.endpoint=this.shapeEl.getPointAtLength(this.shapeEl.getTotalLength()),this.endpoint){var e=parseInt(this.element.querySelector("svg").getAttribute("viewBox").split(" ")[2]),i=parseInt(window.getComputedStyle(this.element).width),n=i/e;if(this.endpoint.x*=n,this.endpoint.y*=n,tweenObj={left:this.endpoint.x,top:this.endpoint.y},t=t||this.endpoint,this.orientToPath){var s=this.endpoint.x-t.x,r=this.endpoint.y-t.y,o=Math.atan2(r,s);tweenObj.rotation=o/Math.PI*180,tweenObj.transformOrigin="0% 0%"}TweenMax.set(this.hand,tweenObj)}}},ns=gpyrnamespace("gpyr"),ns.BallDriver=function(t){this.superCall("init",t),this.init()},ns.BallDriver.prototype=Object.create(gpyr.base.BallBase.prototype),ns.BallDriver.prototype["super"]=function(){return gpyr.base.BallBase.prototype},ns.BallDriver.prototype.superCall=function(t){this["super"]()[t].call(this,arguments[1],arguments[2],arguments[3])},ns.BallDriver.prototype.constructor=ns.App,ns.BallDriver.prototype.init=function(){this.eyeL.pupil.x=this.eyeR.pupil.x=0,this.eyeL.pupil.y=this.eyeR.pupil.y=0,this.eyeL.pupil.r=this.eyeR.pupil.r=3,this.eyeL.eyelidT.height=this.eyeR.eyelidT.height=.5,this.eyeL.eyelidB.height=this.eyeR.eyelidB.height=.4,this.armL.morphTo("#ball-arm-driver"),this.armR.morphTo("#ball-arm-driver")},ns.BallDriver.prototype.getTimeline=function(){var t=1,e=Sine.easeIn,i=new TimelineMax,n=(new TimelineMax).to([this.eyeL.eyelidT,this.eyeR.eyelidT],t,{height:0,ease:e},0).to([this.eyeL.eyelidB,this.eyeR.eyelidB],t,{height:0,ease:e},0);return(new TimelineMax).add(i,1).add(n,1)},ns=gpyrnamespace("gpyr"),ns.BallGirl=function(t){this.superCall("init",t),this.init()},ns.BallGirl.prototype=Object.create(gpyr.base.BallBase.prototype),ns.BallGirl.prototype["super"]=function(){return gpyr.base.BallBase.prototype},ns.BallGirl.prototype.superCall=function(t){this["super"]()[t].call(this,arguments[1],arguments[2],arguments[3])},ns.BallGirl.prototype.constructor=ns.App,ns.BallGirl.prototype.init=function(){this.eyeL.pupil.x=this.eyeR.pupil.x=0,this.eyeL.pupil.y=this.eyeR.pupil.y=0,this.eyeL.pupil.r=this.eyeR.pupil.r=3},ns.BallGirl.prototype.getTimeline=function(){var t=1,e=Sine.easeIn,i=(new TimelineMax).to("#girl-mouth",t,{morphSVG:"#girl-mouth-f2",ease:e},0).to("#lip-T",t,{morphSVG:"#lip-T-f2",ease:e},0).to("#lip-B",t,{morphSVG:"#lip-B-f2",ease:e},0);return(new TimelineMax).add(i,0).add(this.eyeL.blink(),1).add(this.eyeR.blink(),1).add(this.eyeL.blink(),3).add(this.eyeR.blink(),3)},ns=gpyrnamespace("gpyr"),ns.BallHero=function(t){this.superCall("init",t),this.init()},ns.BallHero.prototype=Object.create(gpyr.base.BallBase.prototype),ns.BallHero.prototype["super"]=function(){return gpyr.base.BallBase.prototype},ns.BallHero.prototype.superCall=function(t){this["super"]()[t].call(this,arguments[1],arguments[2],arguments[3])},ns.BallHero.prototype.constructor=ns.App,ns.BallHero.prototype.init=function(){this.eyeL.pupil.x=this.eyeR.pupil.x=0,this.eyeL.pupil.y=this.eyeR.pupil.y=0,this.eyeL.pupil.r=this.eyeR.pupil.r=3,this.eyeL.eyelidT.height=this.eyeR.eyelidT.height=.55},ns.BallHero.prototype.refresh=function(){this.flipHand(!0),this.armL.render(),this.armR.render()},ns.BallHero.prototype.endframe=function(){return(new TimelineMax).call(this.mouseOut,null,this)},ns.BallHero.prototype.getMouseTL=function(){return this.mouseTL||(this.mouseTL=new TimelineMax({paused:!0}).add("Start",.001).set(this.my(".ball-mouth"),{scale:1,transformOrigin:"50% 6%"},"Start").set(this.my("#hero-mouth-g"),{display:"block"},"Start").set(this.my("#hero-mouth-happy-g"),{display:"none"},"Start").to([this.eyeL.eyelidT,this.eyeR.eyelidT],.5,{height:0},0).to([this.eyeL.eyelidB,this.eyeR.eyelidB],.5,{height:.4},0).to([this.eyeL.pupil,this.eyeR.pupil],.5,{r:4},0).add("Mouth").to(this.my(".ball-mouth"),.2,{scale:1.4,transformOrigin:"50% 6%"},"Mouth").set(this.my("#hero-mouth-g"),{display:"none"},"Mouth").set(this.my("#hero-mouth-happy-g"),{display:"block"},"Mouth").add(this.liftGlasses(),0)),this.mouseTL},ns.BallHero.prototype.flipHand=function(t){var e=t?-1:1;return(new TimelineMax).to(this.my("#hand-idle"),0,{scaleY:e,svgOrigin:"100 100"})},ns.BallHero.prototype.mouseOver=function(){TweenMax.to(this.getMouseTL(),.4,{progress:1,ease:Linear.easeNone,onStart:function(){this.mouseComplete=!1,this.flipHand(!0)}.bind(this),onComplete:function(){this.mouseComplete=!0}.bind(this)})},ns.BallHero.prototype.mouseOut=function(){TweenMax.to(this.getMouseTL(),.2,{progress:0,ease:Strong.easeOut,onStart:function(){this.mouseComplete=!1,this.armL.render(),this.armR.render(),this.flipHand(!1)}.bind(this),onComplete:function(){this.mouseComplete=!0,TweenMax.to([this.armL.hand,this.armR.hand],.6,{rotation:130,transformOrigin:"0% 0%"})}.bind(this)})},ns.BallHero.prototype.liftGlasses=function(){return(new TimelineMax).add(this.armsTL("#hero-arm-f2",.4,Sine.easeOut,!0)).add("Lift").add(this.armsTL("#hero-arm-f3",.7,Sine.easeInOut,!0),"Lift").to(this.my(".glasses-hero"),.7,{top:"-=180",ease:Sine.easeInOut},"Lift")},ns.BallHero.prototype.getChat=function(){if(this.chatTL)return this.chatTL;var t=Sine.easeInOut,e=new TimelineMax({repeat:1,yoyo:!0}).to("#hero-mouth",.3,{morphSVG:"#hero-mouth-f2",ease:t}).to("#hero-mouth",.2,{morphSVG:"#hero-mouth-f3",ease:t}).to("#hero-mouth",.2,{morphSVG:"#hero-mouth-f4",ease:t}),i=(new TimelineMax).to([this.eyeL.pupil,this.eyeR.pupil],.5,{x:.4,y:.15,ease:t}).to([this.eyeL.pupil,this.eyeR.pupil],1,{x:0,y:0,ease:t},"+=0.3");return this.chatTL=(new TimelineMax).add(e,0).add(i,0).add(this.liftGlasses(),"-=0.3"),this.chatTL},ns.BallHero.prototype.getCrazy=function(){var t=Sine.easeInOut,e=new TimelineMax({repeat:20,yoyo:!0}).to(this.my(".ball-mouth"),.25,{scale:1.75,transformOrigin:"50% 10%",ease:t}),i=new TimelineMax({repeat:12,yoyo:!0}).to(this.eyeL.element,.2,{scale:1.5,transformOrigin:"50% 50%",ease:t},0).to(this.eyeL.pupil,.2,{r:5,ease:Sine.easeInOut},0),n=new TimelineMax({repeat:12,yoyo:!0}).to(this.eyeR.element,.2,{scale:1.5,transformOrigin:"50% 50%",ease:t},0).to(this.eyeR.pupil,.2,{r:5,ease:t},0);return(new TimelineMax).to([this.eyeL.eyelidT,this.eyeR.eyelidT],.1,{height:0}).set(this.my("#hero-mouth-g"),{display:"none"}).set(this.my("#hero-mouth-crazy-g"),{display:"block"}).set(this.my(".ball-mouth"),{scale:1.5,transformOrigin:"50% 10%"}).add("Crazy").add(e,"Crazy").add(i,"Crazy").add(n,"Crazy+=0.075")},ns.BallHero.prototype.armsTL=function(t,e,i,n){return(new TimelineMax).call(function(){this.armL.orientToPath=this.armR.orientToPath=n},null,this).add(this.armL.morphTo(t,e,{ease:i}),0).add(this.armR.morphTo(t,e,{ease:i}),0)},ns=gpyrnamespace("gpyr"),ns.Jackpot=function(t){this.config={container:"#jackpot",target:"#jackpot-lockup",portrait:!1,width:600,paddingP:100,paddingL:150,baseScale:1,maxHeight:-1,"default":!1},gpyr.utils.merge(this.config,t),this.init()},ns.Jackpot.prototype.init=function(){this.setProps(),this.writeMillion(),this.writeBase(),this.scale(),this.align()},ns.Jackpot.prototype.setProps=function(){this.portrait=this.config.portrait,this.targetDiv=document.querySelector(this.config.target),this.width=parseFloat(window.getComputedStyle(this.targetDiv).width),this.height=parseFloat(window.getComputedStyle(this.targetDiv).height),gpyr.utils.addClass(this.config.target,this.portrait?"portrait":"landscape"),gpyr.utils.addClass("#jackpot-default-logo",this.getDefault()?"default":"")},ns.Jackpot.prototype.getDefault=function(){return this.config["default"]||!this.config.million||""===this.config.million||" "===this.config.million},ns.Jackpot.prototype.writeMillion=function(){this.getDefault()||(this.millionFont=new gpyr.SVGFont({font:"Futura-ExtraBold",parent:this.config.target,leading:0,letterSpacing:.4,align:this.portrait?"TC":"ML"}),this.millionPara=this.millionFont.getParagraph(),this.millionFont.write({text:"$",fontSize:87.5,script:"sup"}),gpyr.utils.addClass(this.millionPara.lineArray[0].wordArray[0].charArray[0].div,"dollar-"+this.config.million.substr(0,1)),this.millionFont.write({text:this.config.million,fontSize:312.5,script:"std"}),gpyr.utils.addClass(this.millionPara.div,"million"))},ns.Jackpot.prototype.writeBase=function(){this.baseFont=new gpyr.SVGFont({font:"Futura-ExtraBold",parent:this.config.target,leading:-.2,letterSpacing:.5,align:this.portrait?"BC":"MC"}),this.basePara=this.baseFont.getParagraph(),this.getDefault()||this.baseFont.write({text:"MILLION",fontSize:68.25*this.config.baseScale}),this.baseFont.write({text:"<br/>"+this.config.day,fontSize:62*.65*this.config.baseScale*(!this.portrait&&this.getDefault()?.6:1)}),gpyr.utils.addClass(this.basePara.div,"jackpot-base "),gpyr.utils.addClass(".jackpot-base",this.getDefault()?"default":""),this.portrait||this.getDefault()||(this.basePara.div.style.left=-(.5*this.width)+.5*this.basePara.width+this.millionPara.width+this.getLockupSpace()+"px")},ns.Jackpot.prototype.getLockupSpace=function(){return this.portrait,20},ns.Jackpot.prototype.getPadding=function(){return this.portrait?this.config.paddingP:this.config.paddingL},ns.Jackpot.prototype.align=function(){if(!this.getDefault()){{var t,e,i,n,s,r,o=window.getComputedStyle(document.querySelector(this.config.target)),a=parseInt(o.width),l=parseInt(o.height),h=this.getLockupSpace();this.getPadding()}this.lockupDiv=document.querySelector("#jackpot-lockup"),this.portrait?(e=(a-this.getPadding())/this.millionPara.width,i=.95*l/this.millionPara.height,t=Math.min(e,i),TweenMax.set(this.millionPara.div,{scale:t,transformOrigin:"50% 77%"}),TweenMax.set(this.basePara.div,{scale:1.1,transformOrigin:"50% 50%"}),1==this.config.million.length&&"7"!=this.config.million&&"9"!=this.config.million&&(this.millionPara.div.style.marginLeft="-25px")):(s=this.millionPara.lineArray[0].wordArray[1].div.querySelector("path").getBoundingClientRect().height,r=this.config.maxHeight,i=-1==r?1:r/s,n=this.millionPara.width+h+this.basePara.width,this.lockupDiv.style.width=n+"px",this.lockupDiv.style.left=.5*(this.width-n)+"px",e=this.width/(n+this.getPadding()),t=Math.min(e,i),1>t&&TweenMax.set(this.lockupDiv,{scale:t,transformOrigin:"50% 50%"}))}},ns.Jackpot.prototype.scale=function(){var t=this.config.width/this.width;TweenMax.set(this.config.container,{scale:t,transformOrigin:"50% 50%"})},ns=gpyrnamespace("gpyr.banner"),ns.Proxy=function(){},ns.Proxy.prototype.load=function(t){if(this._config=JSON.parse('{"jurisdiction": "nsw","linebreakAfter": [],"linebreakBefore": [],"jobnumber": "BGCA3407","width": "300","height": "600","online": "1","mainFolder": "300x600","themeFolder": "eclipse3","platform": {"build": "1","script": ["https://s0.2mdn.net/ads/studio/cached_libs/tweenmax_1.19.0_643d6911392a3398cb1607993edabfa7_min.js"],"name": "dcm"},"svg": ["Futura-ExtraBold.svg","ball-arm.svg","ball-body.svg","ball-eye.svg","ball-hand.svg","ball-mouth.svg","ball-shadow.svg","bg.svg","cta.svg","eclipse.svg","eyelash.svg","filters.svg","girl-cheek.svg","girl-hair.svg","glasses-driver.svg","glasses-girl.svg","glasses-hero.svg","hfpr.svg","ozball.svg","steering.svg","truck-back.svg","truck-front.svg"],"content": {"theme": "eclipse","message": {"frame1": {"headline": "YOU WON’T BELIEVE YOUR EYES!"}}},"linebreaks": {"frame1": {"headline": ["BELIEVE ","YOUR "]}},"style": {"frame1": {"headline": {"font": "Futura-ExtraBold","parent": "#message","fontSize": 37,"letterSpacing": 0.7,"leading": 0,"align": "TC"}}}}'),this._config.jsonp={},this.callback=t.callback,this._isValid=!0,t.online=t.online||"1","0"===t.online||"0"===this._config.online)return void this.dataComplete();{var e=new gpyr.utils.Params,i=(this._config.content.theme?"_"+this._config.content.theme:"",this._config.jurisdiction);this._config.jobnumber,this._config.client}staging=e.jsonlocation?decodeURIComponent(e.jsonlocation):null,live="https://tattsportal.yrbne.com/json/oz/live/"+i+".json",this.startTimeout(),JSONP({url:staging||t.url||live,complete:this.onJSON.bind(this)})},ns.Proxy.prototype.startTimeout=function(){this.timeout=setTimeout(this.dataComplete.bind(this),8e3)},ns.Proxy.prototype.stopTimeout=function(){clearTimeout(this.timeout)},ns.Proxy.prototype.getPlatform=function(){return this._config.platform.name},ns.Proxy.prototype.reset=function(){},ns.Proxy.prototype.getDefault=function(){var t="1"==this.getJSON("defaulted");return!this._isValid||t},ns.Proxy.prototype.getDay=function(){return this.getDefault()?"THIS TUESDAY":this.getJSON("day")},ns.Proxy.prototype.getMillion=function(){return this.getDefault()?"":this.getJSON("million")},ns.Proxy.prototype.onJSON=function(t){this.reset();for(var e in t)this._config.jsonp[e]=t[e];this.dataComplete()},ns.Proxy.prototype.dataComplete=function(){this.hasLoaded||(this.stopTimeout(),this.addLineBreaks(),this.callback(),this.buildContent(),this.hasLoaded=!0)},ns.Proxy.prototype.buildContent=function(){var t,e,i,n,s,r,o,a=0;for(var l in this.getMessage()){t=this.getFrame(++a),e=this.getLinebreaks(a),style=this.getStyle(a);for(o in t)if("rate"==o.substr(0,4))for(r in t[o]){for(s in t[o])t[o][s]=this.replaceKeys(t[o][s]);for(n in style[o])t[o][n]=style[o][n]}else{i=t[o],t[o]={},t[o].text=this.replaceKeys(i),t[o].text=this.linebreakBefore(e[o],t[o].text);for(n in style[o])t[o][n]=style[o][n]}}this._config.content.numFrames=a,delete this._config.linebreaks,delete this._config.style},ns.Proxy.prototype.replaceKeys=function(t){var e,i,n=t,s=[],r="";for(var o in t)i=t.substr(o,1),"}"==i?(e=!1,s.push(),n=n.split("{"+r+"}").join(this.getJSON(r)),r=""):(e&&(r+=i),"{"==i&&(e=!0));return n},ns.Proxy.prototype.isValid=function(){return this._isValid},ns.Proxy.prototype.getMessage=function(){return this._config.content.message},ns.Proxy.prototype.getFrame=function(t){return this.getMessage()["frame"+t]},ns.Proxy.prototype.getNumFrames=function(){return this._config.content.numFrames},ns.Proxy.prototype.getLinebreaks=function(t){return this._config.linebreaks["frame"+t]||{}},ns.Proxy.prototype.getStyle=function(t){return this._config.style["frame"+t]||{}},ns.Proxy.prototype.getJSON=function(t){var e=this._config.jsonp[t];return void 0==e&&(this._isValid=!1,e=""),e},ns.Proxy.prototype.getJobnumber=function(){return this._config.jobnumber},ns.Proxy.prototype.getClient=function(){return this._config.client},ns.Proxy.prototype.getSVG=function(t){var e,i=this._config.svg,n=[];for(var s in i){if(e=!1,t)if("string"==typeof t)i[s]==t&&(e=!0);else for(var r in t)if(i[s]==t[r]){e=!0;break}e||n.push(i[s])}return n},ns.Proxy.prototype.linebreakBefore=function(t,e){return gpyr.Linebreak.before(t,e)},ns.Proxy.prototype.linebreakAfter=function(t,e){return gpyr.Linebreak.after(t,e)},ns.Proxy.prototype.linebreakClear=function(t){return gpyr.Linebreak.clear(t)},ns.Proxy.prototype.addLineBreaks=function(){this.terms=this.getTerms(),this._config.linebreakBefore&&this._config.linebreakBefore.forEach(function(t,e){this.terms=this.linebreakBefore(t,this.terms)}.bind(this)),this._config.linebreakAfter&&this._config.linebreakAfter.forEach(function(t,e){this.terms=this.linebreakAfter(t,this.terms)}.bind(this))},ns.Proxy.prototype.getThink=function(){return"Think! About your choices. Call Gambling Help 1800 858 858. www.gamblinghelp.nsw.gov.au"},ns.Proxy.prototype.getGamblersHelp=function(){var t="Gamblers Help 1800 858 858";return"<span id='gamblers'>"+t+"</span>"},ns.Proxy.prototype.getChances=function(){return"Chance of winning Division 1 is 1 in 45,379,620."},ns.Proxy.prototype.getGambleResponsibly=function(){return"Gamble Responsibly 1800 858 858."},ns.Proxy.prototype.getDrawclose=function(){var t=this.getJSON("drawclose"),e=this.getJSON("timezone");return this.getDefault()?"":"Draw close "+t+"pm "+e+". "},ns.Proxy.prototype.getTerms=function(){var t="";switch(this._config.jurisdiction){case"gc":break;case"nsw":break;case"tatts":t+=this.getGamblersHelp();break;case"tan":t+=this.getGamblersHelp();break;case"sa":t+=this.getGambleResponsibly()+" "+this.getChances()}return t},ns=gpyrnamespace("gpyr"),ns.v2=!0,ns=gpyrnamespace("gpyr.banner"),ns.App=function(){this.registerDomElements(),this.init()},ns.App.prototype=Object.create(gpyr.banner.base.AppBase.prototype),ns.App.prototype["super"]=function(){return gpyr.banner.base.AppBase.prototype},ns.App.prototype.superCall=function(t){this["super"]()[t].call(this,arguments[1],arguments[2],arguments[3])},ns.App.prototype.constructor=ns.App,ns.App.prototype.registerDomElements=function(){this.superCall("registerDomElements"),this.jackpotWidth=270},ns.App.prototype.getManifest=function(){return this.manifest=[{src:"truck-money-front.png",dest:".assets"},{src:"tagline.png",dest:"#cta-container",attr:{id:"tagline","class":"cta"}},{src:"logo.png",dest:"#message",attr:{id:"logo"}},{src:"jurisdiction.png",dest:"#lockup",attr:{id:"jurisdiction","class":"by-jur"}},{src:"thelott.png",dest:"#lockup",attr:{id:"thelott"}},{src:"transparent.png",dest:"#clickthrough"}],this.manifest},ns.App.prototype.baseplate=function(){window.getComputedStyle(document.querySelector("#lockup"));return(new TimelineMax).from(".disclaimer",.3,{opacity:0,ease:Linear.easeNone},"-=.5")},ns.app=new ns.App;